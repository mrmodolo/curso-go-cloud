"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8995],{4878:(Tn,ft,p)=>{p.d(ft,{A:()=>Te,a:()=>be,b:()=>we,c:()=>We,d:()=>nt,e:()=>ot,g:()=>Ie,r:()=>oe});var j=p(57032),de=p(30705),Ee=p(42054),L=p(26228),h=p(53907),l=p(32272);const S="user_last_seen_date",we=(0,j.c)({id:"plugin.announcements.service"});class Qe{constructor(J){this.discoveryApi=J.discoveryApi,this.identityApi=J.identityApi,this.webStorage=new h.CJ("announcements",J.errorApi)}async fetch(J,P){const Fe=await this.discoveryApi.getBaseUrl("announcements"),{token:Me}=await this.identityApi.getCredentials(),vt=new Headers(P==null?void 0:P.headers);Me&&!vt.has("authorization")&&vt.set("authorization",`Bearer ${Me}`);const ht=new Request(`${Fe}${J}`,{...P,headers:vt});return fetch(ht).then(async Ct=>{if(!Ct.ok)throw await l.VL.fromResponse(Ct);return Ct.json()})}async delete(J,P){const Fe=await this.discoveryApi.getBaseUrl("announcements"),{token:Me}=await this.identityApi.getCredentials(),vt=new Headers(P==null?void 0:P.headers);Me&&!vt.has("authorization")&&vt.set("authorization",`Bearer ${Me}`);const ht=new Request(`${Fe}${J}`,{method:"DELETE",headers:vt});return fetch(ht).then(async Ct=>{if(!Ct.ok)throw await l.VL.fromResponse(Ct)})}async announcements({max:J,page:P,category:Fe}){const Me=new URLSearchParams;return Fe&&Me.append("category",Fe),J&&Me.append("max",J.toString()),P&&Me.append("page",P.toString()),this.fetch(`/announcements?${Me.toString()}`)}async announcementByID(J){return this.fetch(`/announcements/${J}`)}async createAnnouncement(J){return await this.fetch("/announcements",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(J)})}async updateAnnouncement(J,P){return this.fetch(`/announcements/${J}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)})}async deleteAnnouncementByID(J){return this.delete(`/announcements/${J}`,{method:"DELETE"})}async categories(){return this.fetch("/categories")}async createCategory(J){await this.fetch("/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(J)})}lastSeenDate(){const J=this.webStorage.get(S);return J?L.ou.fromISO(J):L.ou.fromISO("1990-01-01")}markLastSeenDate(J){this.webStorage.set(S,J.toISO())}}const oe=(0,de.NT)({id:"announcements"}),be=(0,de.Rz)({id:"announcements/create",path:"/create",parent:oe}),ot=(0,de.Rz)({id:"announcements/edit",path:"/edit/:id",parent:oe}),nt=(0,de.Rz)({id:"announcements/view",path:"/view/:id",parent:oe}),We=(0,de.Rz)({id:"announcements/categories",path:"/categories",parent:oe}),Ke=(0,de.rx)({id:"announcements",routes:{root:oe},apis:[(0,de.ni)({api:we,deps:{discoveryApi:j.q,identityApi:j.t,errorApi:j.r},factory:({discoveryApi:De,identityApi:J,errorApi:P})=>new Qe({discoveryApi:De,identityApi:J,errorApi:P})})]}),Te=Ke.provide((0,de.P4)({name:"AnnouncementsPage",component:()=>p.e(6456).then(p.bind(p,66456)).then(De=>De.Router),mountPoint:oe})),Ie=Ke.provide((0,de.CO)({name:"AnnouncementsCard",component:{lazy:()=>p.e(8578).then(p.bind(p,98578)).then(De=>De.AnnouncementsCard)}})),Xe=Ke.provide((0,de.CO)({name:"NewAnnouncementBanner",component:{lazy:()=>p.e(5260).then(p.bind(p,15260)).then(De=>De.NewAnnouncementBanner)}})),dt=Ke.provide((0,Ee.c)({name:"AnnouncementSearchResultListItem",component:()=>p.e(4438).then(p.bind(p,54438)).then(De=>De.AnnouncementSearchResultListItem),predicate:De=>De.type==="announcements"}))},52285:(Tn,ft,p)=>{p.d(ft,{II:()=>j.A,S4:()=>j.g});var j=p(4878),de=p(26228)},11256:(Tn,ft,p)=>{p.d(ft,{D:()=>Xe,E:()=>dt,G:()=>we,a:()=>S,b:()=>ot,c:()=>Qe,d:()=>We,e:()=>Ke,g:()=>P,h:()=>In,i:()=>be,j:()=>ut,t:()=>Ie});var j=p(2784),de=p(39746),Ee=p(78373),L=p(57032),h=p(30705),l=p(54364);const S="grafana/tag-selector",we="grafana/dashboard-selector",Qe="grafana/alert-label-selector",oe="grafana/overview-dashboard",be=X=>{var O,W;return((O=X==null?void 0:X.metadata.annotations)==null?void 0:O[we])||((W=X==null?void 0:X.metadata.annotations)==null?void 0:W[S])},ot=X=>{var O;return Boolean((O=X==null?void 0:X.metadata.annotations)==null?void 0:O[Qe])},nt=X=>{var O;return Boolean((O=X==null?void 0:X.metadata.annotations)==null?void 0:O[oe])},We=X=>{var O,W,ce,kt;return(kt=(ce=(O=X==null?void 0:X.metadata.annotations)==null?void 0:O[we])!=null?ce:(W=X==null?void 0:X.metadata.annotations)==null?void 0:W[S])!=null?kt:""},Ke=X=>{var O,W;return(W=(O=X==null?void 0:X.metadata.annotations)==null?void 0:O[Qe])!=null?W:""},Te=X=>{var O,W;return(W=(O=X==null?void 0:X.metadata.annotations)==null?void 0:O[oe])!=null?W:""},Ie=We,Xe=({embedUrl:X})=>j.createElement("iframe",{title:X,src:X,width:"100%",height:"100%",referrerPolicy:"strict-origin-when-cross-origin"}),dt=()=>{const{entity:X}=(0,Ee.u)();return nt(X)?j.createElement(Xe,{embedUrl:Te(X)}):j.createElement(de.sk,{annotation:oe})},De=(X,O)=>{if(!Array.isArray(X))throw Error("@> operator can only be used on an array");return X.includes(O)};class J{constructor(){l.Z.addBinaryOp("@>",6)}parse(O){return(0,l.Z)(O)}evaluate(O,W){switch(O.type){case"UnaryExpression":return this.evaluateUnaryExpression(O,W);case"BinaryExpression":return this.evaluateBinaryExpression(O,W);case"Identifier":if(!W.hasOwnProperty(O.name))throw Error(`identifier ${O.name} does not exist`);return W[O.name];case"Literal":return O.value;default:throw Error(`unknown node type ${O.type}`)}}evaluateUnaryExpression(O,W){switch(O.operator){case"!":return!this.evaluate(O.argument,W);default:throw Error(`unknown unary operator ${O.operator}`)}}evaluateBinaryExpression(O,W){switch(O.operator){case"&&":return this.evaluate(O.left,W)&&this.evaluate(O.right,W);case"||":return this.evaluate(O.left,W)||this.evaluate(O.right,W);case"==":return this.evaluate(O.left,W)===this.evaluate(O.right,W);case"!=":return this.evaluate(O.left,W)!==this.evaluate(O.right,W);case"@>":return De(this.evaluate(O.left,W),this.evaluate(O.right,W));default:throw Error(`unknown binary operator ${O.operator}`)}}}const P=(0,L.c)({id:"plugin.grafana.service"}),Fe="/grafana/api",Me=X=>X.match(/^[\w-]+$/g)!==null;class vt{constructor(O){var W;this.discoveryApi=O.discoveryApi,this.identityApi=O.identityApi,this.proxyPath=(W=O.proxyPath)!=null?W:Fe,this.queryEvaluator=new J}async fetch(O,W){const ce=await this.apiUrl(),kt=await this.addAuthHeaders(W||{}),St=await fetch(`${ce}${O}`,kt);if(!St.ok)throw new Error(`Request failed with ${St.status} ${St.statusText}`);return await St.json()}async listDashboards(O,W){return Me(W)?this.dashboardsByTag(O,W):this.dashboardsForQuery(O,W)}async dashboardsForQuery(O,W){const ce=this.queryEvaluator.parse(W),kt=await this.fetch("/api/search?type=dash-db");return this.fullyQualifiedDashboardURLs(O,kt).filter(nn=>this.queryEvaluator.evaluate(ce,nn)===!0)}async dashboardsByTag(O,W){const ce=await this.fetch(`/api/search?type=dash-db&tag=${W}`);return this.fullyQualifiedDashboardURLs(O,ce)}fullyQualifiedDashboardURLs(O,W){return W.map(ce=>({...ce,url:O+ce.url,folderUrl:O+ce.folderUrl}))}async apiUrl(){return await this.discoveryApi.getBaseUrl("proxy")+this.proxyPath}async addAuthHeaders(O){const{token:W}=await this.identityApi.getCredentials(),ce=O.headers||{};return{...O,headers:{...ce,...W?{Authorization:`Bearer ${W}`}:{}}}}}class ht{constructor(O){this.domain=O.domain,this.client=new vt(O)}async listDashboards(O){return this.client.listDashboards(this.domain,O)}async alertsForSelector(O){return(await this.client.fetch(`/api/alerts?dashboardTag=${O}`)).map(ce=>({name:ce.name,state:ce.state,url:`${this.domain}${ce.url}?panelId=${ce.panelId}&fullscreen&refresh=30s`}))}}class Ct{constructor(O){this.domain=O.domain,this.client=new vt(O)}async listDashboards(O){return this.client.listDashboards(this.domain,O)}async alertsForSelector(O){const W=await this.client.fetch("/api/ruler/grafana/api/v1/rules"),ce=Object.values(W).flat().map(at=>at.rules).flat(),[kt,St]=O.split("=");return ce.filter(at=>at.labels&&at.labels[kt]===St).map(at=>({name:at.grafana_alert.title,url:`${this.domain}/alerting/grafana/${at.grafana_alert.uid}/view`,state:"n/a"}))}}const tn=(0,h.rx)({id:"grafana",apis:[(0,h.ni)({api:P,deps:{discoveryApi:L.q,identityApi:L.t,configApi:L.p},factory:({discoveryApi:X,identityApi:O,configApi:W})=>W.getOptionalBoolean("grafana.unifiedAlerting")||!1?new Ct({discoveryApi:X,identityApi:O,domain:W.getString("grafana.domain"),proxyPath:W.getOptionalString("grafana.proxyPath")}):new ht({discoveryApi:X,identityApi:O,domain:W.getString("grafana.domain"),proxyPath:W.getOptionalString("grafana.proxyPath")})})]}),In=tn.provide((0,h.CO)({name:"EntityGrafanaDashboardsCard",component:{lazy:()=>p.e(870).then(p.bind(p,90870)).then(X=>X.DashboardsCard)}})),ut=tn.provide((0,h.CO)({name:"EntityGrafanaAlertsCard",component:{lazy:()=>p.e(3444).then(p.bind(p,73444)).then(X=>X.AlertsCard)}})),Xn=tn.provide((0,h.CO)({name:"EntityOverviewDashboardViewer",component:{lazy:()=>p.e(6093).then(p.bind(p,96093)).then(X=>X.EntityDashboardViewer)}}))},13937:(Tn,ft,p)=>{p.d(ft,{DG:()=>j.j,bL:()=>j.b,eJ:()=>j.h});var j=p(11256),de=p(2784),Ee=p(39746),L=p(54364)},39746:(Tn,ft,p)=>{p.d(ft,{rU:()=>jt,sk:()=>Oi,Ex:()=>Fr,dh:()=>fl,vK:()=>Yn,Kq:()=>ml,wA:()=>gl,Pd:()=>gd,iA:()=>ko});var j=p(57032),de=p(30705),Ee=p(61837),L=p(90436),h=p(19928),l=p(2784),S=p(79692),we=p(60364),Qe=p(41128),oe=p(15459),be=p(12420),ot=p(76600),nt=p(77277),We=p(86689),Ke=p(72779),Te=p.n(Ke),Ie=p(76635),Xe=p(73557),dt=p(39857),De=p(16060),J=p(95544),P=p(56553),Fe=p(26639),Me=p(39595),vt=p(80030),ht=p(19353),Ct=p(95074),tn=p(41156),In=p(70367),ut=p(46506),Xn=p(54073),X=p(10368),O=p(19574),W=p(60905);const ce=p.p+"static/missingAnnotation.67f79e98..svg",kt=p.p+"static/noInformation.4b426325..svg",St=p.p+"static/createComponent.975d1e1e..svg",nn=p.p+"static/noBuild.1715fa71..svg";var at=p(11776),Ut=p(38402),Lt=p(49378),$t=p(27616),pr=p(8284),mr=p(70660),gr=p(91750),mn=p(38016),Ra=p(85256),Nn=p(1292),hs=p(28316),ys=p(48049),Ca=p(51209),ka=p(32272),wa=p(15277),vs=p(67358),fr=p(94339),Ta=p(14503),Ia=p(24579),Na=p(32552),Za=p(27597),Aa=p(7896),_n=p(59740),an={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},vn=function(){var r=(0,l.useRef)([]),i=(0,l.useRef)(null);return(0,l.useEffect)(function(){var e=Date.now(),t=!1;r.current.forEach(function(n){if(n){t=!0;var s=n.style;s.transitionDuration=".3s, .3s, .3s, .06s",i.current&&e-i.current<100&&(s.transitionDuration="0s, 0s")}}),t&&(i.current=Date.now())}),r.current},gn=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],rn=function(r){var i=r.className,e=r.percent,t=r.prefixCls,n=r.strokeColor,s=r.strokeLinecap,o=r.strokeWidth,c=r.style,d=r.trailColor,u=r.trailWidth,m=r.transition,g=(0,_n.Z)(r,gn);delete g.gapPosition;var y=Array.isArray(e)?e:[e],b=Array.isArray(n)?n:[n],x=vn(),k=o/2,I=100-o/2,B="M ".concat(s==="round"?k:0,",").concat(k,`
         L `).concat(s==="round"?I:100,",").concat(k),M="0 0 100 ".concat(o),D=0;return l.createElement("svg",(0,Aa.Z)({className:Te()("".concat(t,"-line"),i),viewBox:M,preserveAspectRatio:"none",style:c},g),l.createElement("path",{className:"".concat(t,"-line-trail"),d:B,strokeLinecap:s,stroke:d,strokeWidth:u||o,fillOpacity:"0"}),y.map(function(G,U){var K=1;switch(s){case"round":K=1-o/100;break;case"square":K=1-o/2/100;break;default:K=1;break}var ae={strokeDasharray:"".concat(G*K,"px, 100px"),strokeDashoffset:"-".concat(D,"px"),transition:m||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},te=b[U]||b[b.length-1];return D+=G,l.createElement("path",{key:U,className:"".concat(t,"-line-path"),d:B,strokeLinecap:s,stroke:te,strokeWidth:o,fillOpacity:"0",ref:function(Ue){x[U]=Ue},style:ae})}))};rn.defaultProps=an,rn.displayName="Line";const sn=rn;var wt=p(86522),Zn=p(96234),En=p(39588),An=0,qn=(0,En.Z)();function Ba(){var a;return qn?(a=An,An+=1):a="TEST_OR_SSR",a}const hr=function(a){var r=l.useState(),i=(0,Zn.Z)(r,2),e=i[0],t=i[1];return l.useEffect(function(){t("rc_progress_".concat(Ba()))},[]),a||e};var yr=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Pa(a){return+a.replace("%","")}function ea(a){var r=a!=null?a:[];return Array.isArray(r)?r:[r]}var bn=100,fn=function(r,i,e,t,n,s,o,c,d,u){var m=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,g=e/100*360*((360-s)/360),y=s===0?0:{bottom:0,top:180,left:90,right:-90}[o],b=(100-t)/100*i;return d==="round"&&t!==100&&(b+=u/2,b>=i&&(b=i-.01)),{stroke:typeof c=="string"?c:void 0,strokeDasharray:"".concat(i,"px ").concat(r),strokeDashoffset:b+m,transform:"rotate(".concat(n+g+y,"deg)"),transformOrigin:"0 0",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Bn=function(r){var i=r.id,e=r.prefixCls,t=r.steps,n=r.strokeWidth,s=r.trailWidth,o=r.gapDegree,c=o===void 0?0:o,d=r.gapPosition,u=r.trailColor,m=r.strokeLinecap,g=r.style,y=r.className,b=r.strokeColor,x=r.percent,k=(0,_n.Z)(r,yr),I=hr(i),B="".concat(I,"-gradient"),M=bn/2-n/2,D=Math.PI*2*M,G=c>0?90+c/2:-90,U=D*((360-c)/360),K=(0,wt.Z)(t)==="object"?t:{count:t,space:2},ae=K.count,te=K.space,Be=fn(D,U,0,100,G,c,d,u,m,n),Ue=ea(x),Pe=ea(b),gt=Pe.find(function(re){return re&&(0,wt.Z)(re)==="object"}),ge=vn(),et=function(){var lt=0;return Ue.map(function(Oe,ye){var Ve=Pe[ye]||Pe[Pe.length-1],fe=Ve&&(0,wt.Z)(Ve)==="object"?"url(#".concat(B,")"):void 0,le=fn(D,U,lt,Oe,G,c,d,Ve,m,n);return lt+=Oe,l.createElement("circle",{key:ye,className:"".concat(e,"-circle-path"),r:M,cx:0,cy:0,stroke:fe,strokeLinecap:m,strokeWidth:n,opacity:Oe===0?0:1,style:le,ref:function(Ge){ge[ye]=Ge}})}).reverse()},Jt=function(){var lt=Math.round(ae*(Ue[0]/100)),Oe=100/ae,ye=0;return new Array(ae).fill(null).map(function(Ve,fe){var le=fe<=lt-1?Pe[0]:u,ve=le&&(0,wt.Z)(le)==="object"?"url(#".concat(B,")"):void 0,Ge=fn(D,U,ye,Oe,G,c,d,le,"butt",n,te);return ye+=(U-Ge.strokeDashoffset+te)*100/U,l.createElement("circle",{key:fe,className:"".concat(e,"-circle-path"),r:M,cx:0,cy:0,stroke:ve,strokeWidth:n,opacity:1,style:Ge,ref:function(Ze){ge[fe]=Ze}})})};return l.createElement("svg",(0,Aa.Z)({className:Te()("".concat(e,"-circle"),y),viewBox:"".concat(-bn/2," ").concat(-bn/2," ").concat(bn," ").concat(bn),style:g,id:i,role:"presentation"},k),gt&&l.createElement("defs",null,l.createElement("linearGradient",{id:B,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(gt).sort(function(re,lt){return Pa(re)-Pa(lt)}).map(function(re,lt){return l.createElement("stop",{key:lt,offset:re,stopColor:gt[re]})}))),!ae&&l.createElement("circle",{className:"".concat(e,"-circle-trail"),r:M,cx:0,cy:0,stroke:u,strokeLinecap:m,strokeWidth:s||n,style:Be}),ae?Jt():et())};Bn.defaultProps=an,Bn.displayName="Circle";const Fo={Line:sn,Circle:Bn};var Vt=p(21324),vr=p(7089),ta=p(42494),Vn=p(74603),La=p(56939),na=p(12231),Dt=p(73698),$a=p(72379),Pn=p(74600),xn=p(15584),Da=p(37794),aa=p.n(Da),ra=p(18671),sa=p(18473),Er=p(57998),br=p(6487),Ma=p(99152),On=p(67222),Es=p(21070),oa=p(90324),Wa=p(98281),za=p(33375),xr=p(44233),Ha=p(27604),ia=p(36444),Sr=p(37971),la=p(59709),Rr=p(17373),Cr=p(3702),Fa=p(93111),bs=p(44311),kr=p(83543),xs=p(59797),wr=p(26739),ja=p(86619),Ua=p(98989);const Tr=p.p+"static/mic-drop.fe3ef4d0..svg";var xe;(function(a){a.assertEqual=t=>t;function r(t){}a.assertIs=r;function i(t){throw new Error}a.assertNever=i,a.arrayToEnum=t=>{const n={};for(const s of t)n[s]=s;return n},a.getValidEnumValues=t=>{const n=a.objectKeys(t).filter(o=>typeof t[t[o]]!="number"),s={};for(const o of n)s[o]=t[o];return a.objectValues(s)},a.objectValues=t=>a.objectKeys(t).map(function(n){return t[n]}),a.objectKeys=typeof Object.keys=="function"?t=>Object.keys(t):t=>{const n=[];for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.push(s);return n},a.find=(t,n)=>{for(const s of t)if(n(s))return s},a.isInteger=typeof Number.isInteger=="function"?t=>Number.isInteger(t):t=>typeof t=="number"&&isFinite(t)&&Math.floor(t)===t;function e(t,n=" | "){return t.map(s=>typeof s=="string"?`'${s}'`:s).join(n)}a.joinValues=e})(xe||(xe={}));const F=xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),on=a=>{switch(typeof a){case"undefined":return F.undefined;case"string":return F.string;case"number":return isNaN(a)?F.nan:F.number;case"boolean":return F.boolean;case"function":return F.function;case"bigint":return F.bigint;case"object":return Array.isArray(a)?F.array:a===null?F.null:a.then&&typeof a.then=="function"&&a.catch&&typeof a.catch=="function"?F.promise:typeof Map!="undefined"&&a instanceof Map?F.map:typeof Set!="undefined"&&a instanceof Set?F.set:typeof Date!="undefined"&&a instanceof Date?F.date:F.object;default:return F.unknown}},N=xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),H=a=>JSON.stringify(a,null,2).replace(/"([^"]+)":/g,"$1:");class Le extends Error{constructor(r){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const i=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,i):this.__proto__=i,this.name="ZodError",this.issues=r}get errors(){return this.issues}format(r){const i=r||function(n){return n.message},e={_errors:[]},t=n=>{for(const s of n.issues)if(s.code==="invalid_union")s.unionErrors.map(t);else if(s.code==="invalid_return_type")t(s.returnTypeError);else if(s.code==="invalid_arguments")t(s.argumentsError);else if(s.path.length===0)e._errors.push(i(s));else{let o=e,c=0;for(;c<s.path.length;){const d=s.path[c];c===s.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(i(s))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return t(this),e}toString(){return this.message}get message(){return JSON.stringify(this.issues,Dn,2)}get isEmpty(){return this.issues.length===0}flatten(r=i=>i.message){const i={},e=[];for(const t of this.issues)t.path.length>0?(i[t.path[0]]=i[t.path[0]]||[],i[t.path[0]].push(r(t))):e.push(r(t));return{formErrors:e,fieldErrors:i}}get formErrors(){return this.flatten()}}Le.create=a=>new Le(a);const $=(a,r)=>{let i;switch(a.code){case N.invalid_type:a.received===F.undefined?i="Required":i=`Expected ${a.expected}, received ${a.received}`;break;case N.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(a.expected,Dn)}`;break;case N.unrecognized_keys:i=`Unrecognized key(s) in object: ${xe.joinValues(a.keys,", ")}`;break;case N.invalid_union:i="Invalid input";break;case N.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${xe.joinValues(a.options)}`;break;case N.invalid_enum_value:i=`Invalid enum value. Expected ${xe.joinValues(a.options)}, received '${a.received}'`;break;case N.invalid_arguments:i="Invalid function arguments";break;case N.invalid_return_type:i="Invalid function return type";break;case N.invalid_date:i="Invalid date";break;case N.invalid_string:typeof a.validation=="object"?"startsWith"in a.validation?i=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?i=`Invalid input: must end with "${a.validation.endsWith}"`:xe.assertNever(a.validation):a.validation!=="regex"?i=`Invalid ${a.validation}`:i="Invalid";break;case N.too_small:a.type==="array"?i=`Array must contain ${a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:a.type==="string"?i=`String must contain ${a.inclusive?"at least":"over"} ${a.minimum} character(s)`:a.type==="number"?i=`Number must be greater than ${a.inclusive?"or equal to ":""}${a.minimum}`:a.type==="date"?i=`Date must be greater than ${a.inclusive?"or equal to ":""}${new Date(a.minimum)}`:i="Invalid input";break;case N.too_big:a.type==="array"?i=`Array must contain ${a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:a.type==="string"?i=`String must contain ${a.inclusive?"at most":"under"} ${a.maximum} character(s)`:a.type==="number"?i=`Number must be less than ${a.inclusive?"or equal to ":""}${a.maximum}`:a.type==="date"?i=`Date must be smaller than ${a.inclusive?"or equal to ":""}${new Date(a.maximum)}`:i="Invalid input";break;case N.custom:i="Invalid input";break;case N.invalid_intersection_types:i="Intersection results could not be merged";break;case N.not_multiple_of:i=`Number must be a multiple of ${a.multipleOf}`;break;default:i=r.defaultError,xe.assertNever(a)}return{message:i}};let Sn=$;function Xt(a){Sn=a}function ln(){return Sn}const Ln=a=>{const{data:r,path:i,errorMaps:e,issueData:t}=a,n=[...i,...t.path||[]],s={...t,path:n};let o="";const c=e.filter(d=>!!d).slice().reverse();for(const d of c)o=d(s,{data:r,defaultError:o}).message;return{...t,path:n,message:t.message||o}},Ir=[];function Y(a,r){const i=Ln({issueData:r,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,ln(),$].filter(e=>!!e)});a.common.issues.push(i)}class je{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,i){const e=[];for(const t of i){if(t.status==="aborted")return ie;t.status==="dirty"&&r.dirty(),e.push(t.value)}return{status:r.value,value:e}}static async mergeObjectAsync(r,i){const e=[];for(const t of i)e.push({key:await t.key,value:await t.value});return je.mergeObjectSync(r,e)}static mergeObjectSync(r,i){const e={};for(const t of i){const{key:n,value:s}=t;if(n.status==="aborted"||s.status==="aborted")return ie;n.status==="dirty"&&r.dirty(),s.status==="dirty"&&r.dirty(),(typeof s.value!="undefined"||t.alwaysSet)&&(e[n.value]=s.value)}return{status:r.value,value:e}}}const ie=Object.freeze({status:"aborted"}),Q=a=>({status:"dirty",value:a}),Se=a=>({status:"valid",value:a}),se=a=>a.status==="aborted",ca=a=>a.status==="dirty",rt=a=>a.status==="valid",$n=a=>typeof Promise!==void 0&&a instanceof Promise,Dn=(a,r)=>typeof r=="bigint"?r.toString():r;var ue;(function(a){a.errToObj=r=>typeof r=="string"?{message:r}:r||{},a.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(ue||(ue={}));class Tt{constructor(r,i,e,t){this.parent=r,this.data=i,this._path=e,this._key=t}get path(){return this._path.concat(this._key)}}const Gn=(a,r)=>{if(rt(r))return{success:!0,data:r.value};if(!a.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new Le(a.common.issues)}};function z(a){if(!a)return{};const{errorMap:r,invalid_type_error:i,required_error:e,description:t}=a;if(r&&(i||e))throw new Error(`Can't use "invalid" or "required" in conjunction with custom error map.`);return r?{errorMap:r,description:t}:{errorMap:(s,o)=>s.code!=="invalid_type"?{message:o.defaultError}:typeof o.data=="undefined"?{message:e!=null?e:o.defaultError}:{message:i!=null?i:o.defaultError},description:t}}class ne{constructor(r){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(r){return on(r.data)}_getOrReturnCtx(r,i){return i||{common:r.parent.common,data:r.data,parsedType:on(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new je,ctx:{common:r.parent.common,data:r.data,parsedType:on(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const i=this._parse(r);if($n(i))throw new Error("Synchronous parse encountered promise.");return i}_parseAsync(r){const i=this._parse(r);return Promise.resolve(i)}parse(r,i){const e=this.safeParse(r,i);if(e.success)return e.data;throw e.error}safeParse(r,i){var e;const t={common:{issues:[],async:(e=i==null?void 0:i.async)!==null&&e!==void 0?e:!1,contextualErrorMap:i==null?void 0:i.errorMap},path:(i==null?void 0:i.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:on(r)},n=this._parseSync({data:r,path:t.path,parent:t});return Gn(t,n)}async parseAsync(r,i){const e=await this.safeParseAsync(r,i);if(e.success)return e.data;throw e.error}async safeParseAsync(r,i){const e={common:{issues:[],contextualErrorMap:i==null?void 0:i.errorMap,async:!0},path:(i==null?void 0:i.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:on(r)},t=this._parse({data:r,path:[],parent:e}),n=await($n(t)?t:Promise.resolve(t));return Gn(e,n)}refine(r,i){const e=t=>typeof i=="string"||typeof i=="undefined"?{message:i}:typeof i=="function"?i(t):i;return this._refinement((t,n)=>{const s=r(t),o=()=>n.addIssue({code:N.custom,...e(t)});return typeof Promise!="undefined"&&s instanceof Promise?s.then(c=>c?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(r,i){return this._refinement((e,t)=>r(e)?!0:(t.addIssue(typeof i=="function"?i(e,t):i),!1))}_refinement(r){return new it({schema:this,typeName:q.ZodEffects,effect:{type:"refinement",refinement:r}})}optional(){return qe.create(this)}nullable(){return bt.create(this)}nullish(){return this.optional().nullable()}array(){return f.create(this)}promise(){return Rt.create(this)}or(r){return Z.create([this,r])}and(r){return V.create(this,r)}transform(r){return new it({schema:this,typeName:q.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const i=typeof r=="function"?r:()=>r;return new Ce({innerType:this,defaultValue:i,typeName:q.ZodDefault})}brand(){return new At({typeName:q.ZodBranded,type:this,...z(void 0)})}describe(r){const i=this.constructor;return new i({...this._def,description:r})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Va=/^c[^\s-]{8,}$/i,pe=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,me=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class cn extends ne{constructor(){super(...arguments),this._regex=(r,i,e)=>this.refinement(t=>r.test(t),{validation:i,code:N.invalid_string,...ue.errToObj(e)}),this.nonempty=r=>this.min(1,ue.errToObj(r)),this.trim=()=>new cn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(r){if(this._getType(r)!==F.string){const n=this._getOrReturnCtx(r);return Y(n,{code:N.invalid_type,expected:F.string,received:n.parsedType}),ie}const e=new je;let t;for(const n of this._def.checks)if(n.kind==="min")r.data.length<n.value&&(t=this._getOrReturnCtx(r,t),Y(t,{code:N.too_small,minimum:n.value,type:"string",inclusive:!0,message:n.message}),e.dirty());else if(n.kind==="max")r.data.length>n.value&&(t=this._getOrReturnCtx(r,t),Y(t,{code:N.too_big,maximum:n.value,type:"string",inclusive:!0,message:n.message}),e.dirty());else if(n.kind==="email")me.test(r.data)||(t=this._getOrReturnCtx(r,t),Y(t,{validation:"email",code:N.invalid_string,message:n.message}),e.dirty());else if(n.kind==="uuid")pe.test(r.data)||(t=this._getOrReturnCtx(r,t),Y(t,{validation:"uuid",code:N.invalid_string,message:n.message}),e.dirty());else if(n.kind==="cuid")Va.test(r.data)||(t=this._getOrReturnCtx(r,t),Y(t,{validation:"cuid",code:N.invalid_string,message:n.message}),e.dirty());else if(n.kind==="url")try{new URL(r.data)}catch{t=this._getOrReturnCtx(r,t),Y(t,{validation:"url",code:N.invalid_string,message:n.message}),e.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(r.data)||(t=this._getOrReturnCtx(r,t),Y(t,{validation:"regex",code:N.invalid_string,message:n.message}),e.dirty())):n.kind==="trim"?r.data=r.data.trim():n.kind==="startsWith"?r.data.startsWith(n.value)||(t=this._getOrReturnCtx(r,t),Y(t,{code:N.invalid_string,validation:{startsWith:n.value},message:n.message}),e.dirty()):n.kind==="endsWith"?r.data.endsWith(n.value)||(t=this._getOrReturnCtx(r,t),Y(t,{code:N.invalid_string,validation:{endsWith:n.value},message:n.message}),e.dirty()):xe.assertNever(n);return{status:e.value,value:r.data}}_addCheck(r){return new cn({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...ue.errToObj(r)})}url(r){return this._addCheck({kind:"url",...ue.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...ue.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...ue.errToObj(r)})}regex(r,i){return this._addCheck({kind:"regex",regex:r,...ue.errToObj(i)})}startsWith(r,i){return this._addCheck({kind:"startsWith",value:r,...ue.errToObj(i)})}endsWith(r,i){return this._addCheck({kind:"endsWith",value:r,...ue.errToObj(i)})}min(r,i){return this._addCheck({kind:"min",value:r,...ue.errToObj(i)})}max(r,i){return this._addCheck({kind:"max",value:r,...ue.errToObj(i)})}length(r,i){return this.min(r,i).max(r,i)}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get minLength(){let r=null;for(const i of this._def.checks)i.kind==="min"&&(r===null||i.value>r)&&(r=i.value);return r}get maxLength(){let r=null;for(const i of this._def.checks)i.kind==="max"&&(r===null||i.value<r)&&(r=i.value);return r}}cn.create=a=>new cn({checks:[],typeName:q.ZodString,...z(a)});function Nr(a,r){const i=(a.toString().split(".")[1]||"").length,e=(r.toString().split(".")[1]||"").length,t=i>e?i:e,n=parseInt(a.toFixed(t).replace(".","")),s=parseInt(r.toFixed(t).replace(".",""));return n%s/Math.pow(10,t)}class _t extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._getType(r)!==F.number){const n=this._getOrReturnCtx(r);return Y(n,{code:N.invalid_type,expected:F.number,received:n.parsedType}),ie}let e;const t=new je;for(const n of this._def.checks)n.kind==="int"?xe.isInteger(r.data)||(e=this._getOrReturnCtx(r,e),Y(e,{code:N.invalid_type,expected:"integer",received:"float",message:n.message}),t.dirty()):n.kind==="min"?(n.inclusive?r.data<n.value:r.data<=n.value)&&(e=this._getOrReturnCtx(r,e),Y(e,{code:N.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,message:n.message}),t.dirty()):n.kind==="max"?(n.inclusive?r.data>n.value:r.data>=n.value)&&(e=this._getOrReturnCtx(r,e),Y(e,{code:N.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,message:n.message}),t.dirty()):n.kind==="multipleOf"?Nr(r.data,n.value)!==0&&(e=this._getOrReturnCtx(r,e),Y(e,{code:N.not_multiple_of,multipleOf:n.value,message:n.message}),t.dirty()):xe.assertNever(n);return{status:t.value,value:r.data}}gte(r,i){return this.setLimit("min",r,!0,ue.toString(i))}gt(r,i){return this.setLimit("min",r,!1,ue.toString(i))}lte(r,i){return this.setLimit("max",r,!0,ue.toString(i))}lt(r,i){return this.setLimit("max",r,!1,ue.toString(i))}setLimit(r,i,e,t){return new _t({...this._def,checks:[...this._def.checks,{kind:r,value:i,inclusive:e,message:ue.toString(t)}]})}_addCheck(r){return new _t({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:ue.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ue.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ue.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ue.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ue.toString(r)})}multipleOf(r,i){return this._addCheck({kind:"multipleOf",value:r,message:ue.toString(i)})}get minValue(){let r=null;for(const i of this._def.checks)i.kind==="min"&&(r===null||i.value>r)&&(r=i.value);return r}get maxValue(){let r=null;for(const i of this._def.checks)i.kind==="max"&&(r===null||i.value<r)&&(r=i.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int")}}_t.create=a=>new _t({checks:[],typeName:q.ZodNumber,...z(a)});class It extends ne{_parse(r){if(this._getType(r)!==F.bigint){const e=this._getOrReturnCtx(r);return Y(e,{code:N.invalid_type,expected:F.bigint,received:e.parsedType}),ie}return Se(r.data)}}It.create=a=>new It({typeName:q.ZodBigInt,...z(a)});class Mn extends ne{_parse(r){if(this._getType(r)!==F.boolean){const e=this._getOrReturnCtx(r);return Y(e,{code:N.invalid_type,expected:F.boolean,received:e.parsedType}),ie}return Se(r.data)}}Mn.create=a=>new Mn({typeName:q.ZodBoolean,...z(a)});class Nt extends ne{_parse(r){if(this._getType(r)!==F.date){const n=this._getOrReturnCtx(r);return Y(n,{code:N.invalid_type,expected:F.date,received:n.parsedType}),ie}if(isNaN(r.data.getTime())){const n=this._getOrReturnCtx(r);return Y(n,{code:N.invalid_date}),ie}const e=new je;let t;for(const n of this._def.checks)n.kind==="min"?r.data.getTime()<n.value&&(t=this._getOrReturnCtx(r,t),Y(t,{code:N.too_small,message:n.message,inclusive:!0,minimum:n.value,type:"date"}),e.dirty()):n.kind==="max"?r.data.getTime()>n.value&&(t=this._getOrReturnCtx(r,t),Y(t,{code:N.too_big,message:n.message,inclusive:!0,maximum:n.value,type:"date"}),e.dirty()):xe.assertNever(n);return{status:e.value,value:new Date(r.data.getTime())}}_addCheck(r){return new Nt({...this._def,checks:[...this._def.checks,r]})}min(r,i){return this._addCheck({kind:"min",value:r.getTime(),message:ue.toString(i)})}max(r,i){return this._addCheck({kind:"max",value:r.getTime(),message:ue.toString(i)})}get minDate(){let r=null;for(const i of this._def.checks)i.kind==="min"&&(r===null||i.value>r)&&(r=i.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const i of this._def.checks)i.kind==="max"&&(r===null||i.value<r)&&(r=i.value);return r!=null?new Date(r):null}}Nt.create=a=>new Nt({checks:[],typeName:q.ZodDate,...z(a)});class hn extends ne{_parse(r){if(this._getType(r)!==F.undefined){const e=this._getOrReturnCtx(r);return Y(e,{code:N.invalid_type,expected:F.undefined,received:e.parsedType}),ie}return Se(r.data)}}hn.create=a=>new hn({typeName:q.ZodUndefined,...z(a)});class yn extends ne{_parse(r){if(this._getType(r)!==F.null){const e=this._getOrReturnCtx(r);return Y(e,{code:N.invalid_type,expected:F.null,received:e.parsedType}),ie}return Se(r.data)}}yn.create=a=>new yn({typeName:q.ZodNull,...z(a)});class Mt extends ne{constructor(){super(...arguments),this._any=!0}_parse(r){return Se(r.data)}}Mt.create=a=>new Mt({typeName:q.ZodAny,...z(a)});class Wt extends ne{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Se(r.data)}}Wt.create=a=>new Wt({typeName:q.ZodUnknown,...z(a)});class zt extends ne{_parse(r){const i=this._getOrReturnCtx(r);return Y(i,{code:N.invalid_type,expected:F.never,received:i.parsedType}),ie}}zt.create=a=>new zt({typeName:q.ZodNever,...z(a)});class E extends ne{_parse(r){if(this._getType(r)!==F.undefined){const e=this._getOrReturnCtx(r);return Y(e,{code:N.invalid_type,expected:F.void,received:e.parsedType}),ie}return Se(r.data)}}E.create=a=>new E({typeName:q.ZodVoid,...z(a)});class f extends ne{_parse(r){const{ctx:i,status:e}=this._processInputParams(r),t=this._def;if(i.parsedType!==F.array)return Y(i,{code:N.invalid_type,expected:F.array,received:i.parsedType}),ie;if(t.minLength!==null&&i.data.length<t.minLength.value&&(Y(i,{code:N.too_small,minimum:t.minLength.value,type:"array",inclusive:!0,message:t.minLength.message}),e.dirty()),t.maxLength!==null&&i.data.length>t.maxLength.value&&(Y(i,{code:N.too_big,maximum:t.maxLength.value,type:"array",inclusive:!0,message:t.maxLength.message}),e.dirty()),i.common.async)return Promise.all(i.data.map((s,o)=>t.type._parseAsync(new Tt(i,s,i.path,o)))).then(s=>je.mergeArray(e,s));const n=i.data.map((s,o)=>t.type._parseSync(new Tt(i,s,i.path,o)));return je.mergeArray(e,n)}get element(){return this._def.type}min(r,i){return new f({...this._def,minLength:{value:r,message:ue.toString(i)}})}max(r,i){return new f({...this._def,maxLength:{value:r,message:ue.toString(i)}})}length(r,i){return this.min(r,i).max(r,i)}nonempty(r){return this.min(1,r)}}f.create=(a,r)=>new f({type:a,minLength:null,maxLength:null,typeName:q.ZodArray,...z(r)});var v;(function(a){a.mergeShapes=(r,i)=>({...r,...i})})(v||(v={}));const R=a=>r=>new w({...a,shape:()=>({...a.shape(),...r})});function C(a){if(a instanceof w){const r={};for(const i in a.shape){const e=a.shape[i];r[i]=qe.create(C(e))}return new w({...a._def,shape:()=>r})}else return a instanceof f?f.create(C(a.element)):a instanceof qe?qe.create(C(a.unwrap())):a instanceof bt?bt.create(C(a.unwrap())):a instanceof _?_.create(a.items.map(r=>C(r))):a}class w extends ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=R(this._def),this.extend=R(this._def)}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),i=xe.objectKeys(r);return this._cached={shape:r,keys:i}}_parse(r){if(this._getType(r)!==F.object){const d=this._getOrReturnCtx(r);return Y(d,{code:N.invalid_type,expected:F.object,received:d.parsedType}),ie}const{status:e,ctx:t}=this._processInputParams(r),{shape:n,keys:s}=this._getCached(),o=[];for(const d in t.data)s.includes(d)||o.push(d);const c=[];for(const d of s){const u=n[d],m=t.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Tt(t,m,t.path,d)),alwaysSet:d in t.data})}if(this._def.catchall instanceof zt){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:t.data[u]}});else if(d==="strict")o.length>0&&(Y(t,{code:N.unrecognized_keys,keys:o}),e.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of o){const m=t.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Tt(t,m,t.path,u)),alwaysSet:u in t.data})}}return t.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const m=await u.key;d.push({key:m,value:await u.value,alwaysSet:u.alwaysSet})}return d}).then(d=>je.mergeObjectSync(e,d)):je.mergeObjectSync(e,c)}get shape(){return this._def.shape()}strict(r){return ue.errToObj,new w({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(i,e)=>{var t,n,s,o;const c=(s=(n=(t=this._def).errorMap)===null||n===void 0?void 0:n.call(t,i,e).message)!==null&&s!==void 0?s:e.defaultError;return i.code==="unrecognized_keys"?{message:(o=ue.errToObj(r).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new w({...this._def,unknownKeys:"strip"})}passthrough(){return new w({...this._def,unknownKeys:"passthrough"})}setKey(r,i){return this.augment({[r]:i})}merge(r){return new w({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>v.mergeShapes(this._def.shape(),r._def.shape()),typeName:q.ZodObject})}catchall(r){return new w({...this._def,catchall:r})}pick(r){const i={};return xe.objectKeys(r).map(e=>{this.shape[e]&&(i[e]=this.shape[e])}),new w({...this._def,shape:()=>i})}omit(r){const i={};return xe.objectKeys(this.shape).map(e=>{xe.objectKeys(r).indexOf(e)===-1&&(i[e]=this.shape[e])}),new w({...this._def,shape:()=>i})}deepPartial(){return C(this)}partial(r){const i={};if(r)return xe.objectKeys(this.shape).map(e=>{xe.objectKeys(r).indexOf(e)===-1?i[e]=this.shape[e]:i[e]=this.shape[e].optional()}),new w({...this._def,shape:()=>i});for(const e in this.shape){const t=this.shape[e];i[e]=t.optional()}return new w({...this._def,shape:()=>i})}required(){const r={};for(const i in this.shape){let t=this.shape[i];for(;t instanceof qe;)t=t._def.innerType;r[i]=t}return new w({...this._def,shape:()=>r})}keyof(){return Et(xe.objectKeys(this.shape))}}w.create=(a,r)=>new w({shape:()=>a,unknownKeys:"strip",catchall:zt.create(),typeName:q.ZodObject,...z(r)}),w.strictCreate=(a,r)=>new w({shape:()=>a,unknownKeys:"strict",catchall:zt.create(),typeName:q.ZodObject,...z(r)}),w.lazycreate=(a,r)=>new w({shape:a,unknownKeys:"strip",catchall:zt.create(),typeName:q.ZodObject,...z(r)});class Z extends ne{_parse(r){const{ctx:i}=this._processInputParams(r),e=this._def.options;function t(n){for(const o of n)if(o.result.status==="valid")return o.result;for(const o of n)if(o.result.status==="dirty")return i.common.issues.push(...o.ctx.common.issues),o.result;const s=n.map(o=>new Le(o.ctx.common.issues));return Y(i,{code:N.invalid_union,unionErrors:s}),ie}if(i.common.async)return Promise.all(e.map(async n=>{const s={...i,common:{...i.common,issues:[]},parent:null};return{result:await n._parseAsync({data:i.data,path:i.path,parent:s}),ctx:s}})).then(t);{let n;const s=[];for(const c of e){const d={...i,common:{...i.common,issues:[]},parent:null},u=c._parseSync({data:i.data,path:i.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!n&&(n={result:u,ctx:d}),d.common.issues.length&&s.push(d.common.issues)}if(n)return i.common.issues.push(...n.ctx.common.issues),n.result;const o=s.map(c=>new Le(c));return Y(i,{code:N.invalid_union,unionErrors:o}),ie}}get options(){return this._def.options}}Z.create=(a,r)=>new Z({options:a,typeName:q.ZodUnion,...z(r)});class A extends ne{_parse(r){const{ctx:i}=this._processInputParams(r);if(i.parsedType!==F.object)return Y(i,{code:N.invalid_type,expected:F.object,received:i.parsedType}),ie;const e=this.discriminator,t=i.data[e],n=this.options.get(t);return n?i.common.async?n._parseAsync({data:i.data,path:i.path,parent:i}):n._parseSync({data:i.data,path:i.path,parent:i}):(Y(i,{code:N.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[e]}),ie)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(r,i,e){const t=new Map;try{i.forEach(n=>{const s=n.shape[r].value;t.set(s,n)})}catch{throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(t.size!==i.length)throw new Error("Some of the discriminator values are not unique");return new A({typeName:q.ZodDiscriminatedUnion,discriminator:r,options:t,...z(e)})}}function T(a,r){const i=on(a),e=on(r);if(a===r)return{valid:!0,data:a};if(i===F.object&&e===F.object){const t=xe.objectKeys(r),n=xe.objectKeys(a).filter(o=>t.indexOf(o)!==-1),s={...a,...r};for(const o of n){const c=T(a[o],r[o]);if(!c.valid)return{valid:!1};s[o]=c.data}return{valid:!0,data:s}}else if(i===F.array&&e===F.array){if(a.length!==r.length)return{valid:!1};const t=[];for(let n=0;n<a.length;n++){const s=a[n],o=r[n],c=T(s,o);if(!c.valid)return{valid:!1};t.push(c.data)}return{valid:!0,data:t}}else return i===F.date&&e===F.date&&+a==+r?{valid:!0,data:a}:{valid:!1}}class V extends ne{_parse(r){const{status:i,ctx:e}=this._processInputParams(r),t=(n,s)=>{if(se(n)||se(s))return ie;const o=T(n.value,s.value);return o.valid?((ca(n)||ca(s))&&i.dirty(),{status:i.value,value:o.data}):(Y(e,{code:N.invalid_intersection_types}),ie)};return e.common.async?Promise.all([this._def.left._parseAsync({data:e.data,path:e.path,parent:e}),this._def.right._parseAsync({data:e.data,path:e.path,parent:e})]).then(([n,s])=>t(n,s)):t(this._def.left._parseSync({data:e.data,path:e.path,parent:e}),this._def.right._parseSync({data:e.data,path:e.path,parent:e}))}}V.create=(a,r,i)=>new V({left:a,right:r,typeName:q.ZodIntersection,...z(i)});class _ extends ne{_parse(r){const{status:i,ctx:e}=this._processInputParams(r);if(e.parsedType!==F.array)return Y(e,{code:N.invalid_type,expected:F.array,received:e.parsedType}),ie;if(e.data.length<this._def.items.length)return Y(e,{code:N.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),ie;!this._def.rest&&e.data.length>this._def.items.length&&(Y(e,{code:N.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),i.dirty());const n=e.data.map((s,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Tt(e,s,e.path,o)):null}).filter(s=>!!s);return e.common.async?Promise.all(n).then(s=>je.mergeArray(i,s)):je.mergeArray(i,n)}get items(){return this._def.items}rest(r){return new _({...this._def,rest:r})}}_.create=(a,r)=>new _({items:a,typeName:q.ZodTuple,rest:null,...z(r)});class Ne extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:i,ctx:e}=this._processInputParams(r);if(e.parsedType!==F.object)return Y(e,{code:N.invalid_type,expected:F.object,received:e.parsedType}),ie;const t=[],n=this._def.keyType,s=this._def.valueType;for(const o in e.data)t.push({key:n._parse(new Tt(e,o,e.path,o)),value:s._parse(new Tt(e,e.data[o],e.path,o))});return e.common.async?je.mergeObjectAsync(i,t):je.mergeObjectSync(i,t)}get element(){return this._def.valueType}static create(r,i,e){return i instanceof ne?new Ne({keyType:r,valueType:i,typeName:q.ZodRecord,...z(e)}):new Ne({keyType:cn.create(),valueType:r,typeName:q.ZodRecord,...z(i)})}}class Je extends ne{_parse(r){const{status:i,ctx:e}=this._processInputParams(r);if(e.parsedType!==F.map)return Y(e,{code:N.invalid_type,expected:F.map,received:e.parsedType}),ie;const t=this._def.keyType,n=this._def.valueType,s=[...e.data.entries()].map(([o,c],d)=>({key:t._parse(new Tt(e,o,e.path,[d,"key"])),value:n._parse(new Tt(e,c,e.path,[d,"value"]))}));if(e.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of s){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return ie;(d.status==="dirty"||u.status==="dirty")&&i.dirty(),o.set(d.value,u.value)}return{status:i.value,value:o}})}else{const o=new Map;for(const c of s){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return ie;(d.status==="dirty"||u.status==="dirty")&&i.dirty(),o.set(d.value,u.value)}return{status:i.value,value:o}}}}Je.create=(a,r,i)=>new Je({valueType:r,keyType:a,typeName:q.ZodMap,...z(i)});class Re extends ne{_parse(r){const{status:i,ctx:e}=this._processInputParams(r);if(e.parsedType!==F.set)return Y(e,{code:N.invalid_type,expected:F.set,received:e.parsedType}),ie;const t=this._def;t.minSize!==null&&e.data.size<t.minSize.value&&(Y(e,{code:N.too_small,minimum:t.minSize.value,type:"set",inclusive:!0,message:t.minSize.message}),i.dirty()),t.maxSize!==null&&e.data.size>t.maxSize.value&&(Y(e,{code:N.too_big,maximum:t.maxSize.value,type:"set",inclusive:!0,message:t.maxSize.message}),i.dirty());const n=this._def.valueType;function s(c){const d=new Set;for(const u of c){if(u.status==="aborted")return ie;u.status==="dirty"&&i.dirty(),d.add(u.value)}return{status:i.value,value:d}}const o=[...e.data.values()].map((c,d)=>n._parse(new Tt(e,c,e.path,d)));return e.common.async?Promise.all(o).then(c=>s(c)):s(o)}min(r,i){return new Re({...this._def,minSize:{value:r,message:ue.toString(i)}})}max(r,i){return new Re({...this._def,maxSize:{value:r,message:ue.toString(i)}})}size(r,i){return this.min(r,i).max(r,i)}nonempty(r){return this.min(1,r)}}Re.create=(a,r)=>new Re({valueType:a,minSize:null,maxSize:null,typeName:q.ZodSet,...z(r)});class Ae extends ne{constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:i}=this._processInputParams(r);if(i.parsedType!==F.function)return Y(i,{code:N.invalid_type,expected:F.function,received:i.parsedType}),ie;function e(o,c){return Ln({data:o,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,ln(),$].filter(d=>!!d),issueData:{code:N.invalid_arguments,argumentsError:c}})}function t(o,c){return Ln({data:o,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,ln(),$].filter(d=>!!d),issueData:{code:N.invalid_return_type,returnTypeError:c}})}const n={errorMap:i.common.contextualErrorMap},s=i.data;return this._def.returns instanceof Rt?Se(async(...o)=>{const c=new Le([]),d=await this._def.args.parseAsync(o,n).catch(g=>{throw c.addIssue(e(o,g)),c}),u=await s(...d);return await this._def.returns._def.type.parseAsync(u,n).catch(g=>{throw c.addIssue(t(u,g)),c})}):Se((...o)=>{const c=this._def.args.safeParse(o,n);if(!c.success)throw new Le([e(o,c.error)]);const d=s(...c.data),u=this._def.returns.safeParse(d,n);if(!u.success)throw new Le([t(d,u.error)]);return u.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new Ae({...this._def,args:_.create(r).rest(Wt.create())})}returns(r){return new Ae({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}}Ae.create=(a,r,i)=>new Ae({args:a?a.rest(Wt.create()):_.create([]).rest(Wt.create()),returns:r||Wt.create(),typeName:q.ZodFunction,...z(i)});class Ye extends ne{get schema(){return this._def.getter()}_parse(r){const{ctx:i}=this._processInputParams(r);return this._def.getter()._parse({data:i.data,path:i.path,parent:i})}}Ye.create=(a,r)=>new Ye({getter:a,typeName:q.ZodLazy,...z(r)});class _e extends ne{_parse(r){if(r.data!==this._def.value){const i=this._getOrReturnCtx(r);return Y(i,{code:N.invalid_literal,expected:this._def.value}),ie}return{status:"valid",value:r.data}}get value(){return this._def.value}}_e.create=(a,r)=>new _e({value:a,typeName:q.ZodLiteral,...z(r)});function Et(a,r){return new st({values:a,typeName:q.ZodEnum,...z(r)})}class st extends ne{_parse(r){if(typeof r.data!="string"){const i=this._getOrReturnCtx(r),e=this._def.values;return Y(i,{expected:xe.joinValues(e),received:i.parsedType,code:N.invalid_type}),ie}if(this._def.values.indexOf(r.data)===-1){const i=this._getOrReturnCtx(r),e=this._def.values;return Y(i,{received:i.data,code:N.invalid_enum_value,options:e}),ie}return Se(r.data)}get options(){return this._def.values}get enum(){const r={};for(const i of this._def.values)r[i]=i;return r}get Values(){const r={};for(const i of this._def.values)r[i]=i;return r}get Enum(){const r={};for(const i of this._def.values)r[i]=i;return r}}st.create=Et;class Zt extends ne{_parse(r){const i=xe.getValidEnumValues(this._def.values),e=this._getOrReturnCtx(r);if(e.parsedType!==F.string&&e.parsedType!==F.number){const t=xe.objectValues(i);return Y(e,{expected:xe.joinValues(t),received:e.parsedType,code:N.invalid_type}),ie}if(i.indexOf(r.data)===-1){const t=xe.objectValues(i);return Y(e,{received:e.data,code:N.invalid_enum_value,options:t}),ie}return Se(r.data)}get enum(){return this._def.values}}Zt.create=(a,r)=>new Zt({values:a,typeName:q.ZodNativeEnum,...z(r)});class Rt extends ne{_parse(r){const{ctx:i}=this._processInputParams(r);if(i.parsedType!==F.promise&&i.common.async===!1)return Y(i,{code:N.invalid_type,expected:F.promise,received:i.parsedType}),ie;const e=i.parsedType===F.promise?i.data:Promise.resolve(i.data);return Se(e.then(t=>this._def.type.parseAsync(t,{path:i.path,errorMap:i.common.contextualErrorMap})))}}Rt.create=(a,r)=>new Rt({type:a,typeName:q.ZodPromise,...z(r)});class it extends ne{innerType(){return this._def.schema}_parse(r){const{status:i,ctx:e}=this._processInputParams(r),t=this._def.effect||null;if(t.type==="preprocess"){const s=t.transform(e.data);return e.common.async?Promise.resolve(s).then(o=>this._def.schema._parseAsync({data:o,path:e.path,parent:e})):this._def.schema._parseSync({data:s,path:e.path,parent:e})}const n={addIssue:s=>{Y(e,s),s.fatal?i.abort():i.dirty()},get path(){return e.path}};if(n.addIssue=n.addIssue.bind(n),t.type==="refinement"){const s=o=>{const c=t.refinement(o,n);if(e.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(e.common.async===!1){const o=this._def.schema._parseSync({data:e.data,path:e.path,parent:e});return o.status==="aborted"?ie:(o.status==="dirty"&&i.dirty(),s(o.value),{status:i.value,value:o.value})}else return this._def.schema._parseAsync({data:e.data,path:e.path,parent:e}).then(o=>o.status==="aborted"?ie:(o.status==="dirty"&&i.dirty(),s(o.value).then(()=>({status:i.value,value:o.value}))))}if(t.type==="transform")if(e.common.async===!1){const s=this._def.schema._parseSync({data:e.data,path:e.path,parent:e});if(!rt(s))return s;const o=t.transform(s.value,n);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:i.value,value:o}}else return this._def.schema._parseAsync({data:e.data,path:e.path,parent:e}).then(s=>rt(s)?Promise.resolve(t.transform(s.value,n)).then(o=>({status:i.value,value:o})):s);xe.assertNever(t)}}it.create=(a,r,i)=>new it({schema:a,typeName:q.ZodEffects,effect:r,...z(i)}),it.createWithPreprocess=(a,r,i)=>new it({schema:r,effect:{type:"preprocess",transform:a},typeName:q.ZodEffects,...z(i)});class qe extends ne{_parse(r){return this._getType(r)===F.undefined?Se(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}qe.create=(a,r)=>new qe({innerType:a,typeName:q.ZodOptional,...z(r)});class bt extends ne{_parse(r){return this._getType(r)===F.null?Se(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}bt.create=(a,r)=>new bt({innerType:a,typeName:q.ZodNullable,...z(r)});class Ce extends ne{_parse(r){const{ctx:i}=this._processInputParams(r);let e=i.data;return i.parsedType===F.undefined&&(e=this._def.defaultValue()),this._def.innerType._parse({data:e,path:i.path,parent:i})}removeDefault(){return this._def.innerType}}Ce.create=(a,r)=>new qe({innerType:a,typeName:q.ZodOptional,...z(r)});class yt extends ne{_parse(r){if(this._getType(r)!==F.nan){const e=this._getOrReturnCtx(r);return Y(e,{code:N.invalid_type,expected:F.nan,received:e.parsedType}),ie}return{status:"valid",value:r.data}}}yt.create=a=>new yt({typeName:q.ZodNaN,...z(a)});const Ht=Symbol("zod_brand");class At extends ne{_parse(r){const{ctx:i}=this._processInputParams(r),e=i.data;return this._def.type._parse({data:e,path:i.path,parent:i})}unwrap(){return this._def.type}}const dn=(a,r={},i)=>a?Mt.create().superRefine((e,t)=>{if(!a(e)){const n=typeof r=="function"?r(e):r,s=typeof n=="string"?{message:n}:n;t.addIssue({code:"custom",...s,fatal:i})}}):Mt.create(),da={object:w.lazycreate};var q;(function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded"})(q||(q={}));const ua=(a,r={message:`Input not instance of ${a.name}`})=>dn(i=>i instanceof a,r,!0),Rn=cn.create,ee=_t.create,Wn=yt.create,Kn=It.create,Cn=Mn.create,pa=Nt.create,pt=hn.create,mt=yn.create,Gt=Mt.create,Zr=Wt.create,Ss=zt.create,Ar=E.create,jo=f.create,Uo=w.create,Vo=w.strictCreate,Go=Z.create,Ko=A.create,Jo=V.create,Yo=_.create,Qo=Ne.create,Xo=Je.create,_o=Re.create,qo=Ae.create,ei=Ye.create,ti=_e.create,ni=st.create,ai=Zt.create,ri=Rt.create,Rs=it.create,si=qe.create,oi=bt.create,Cs=it.createWithPreprocess;var Ft=Object.freeze({__proto__:null,getParsedType:on,ZodParsedType:F,makeIssue:Ln,EMPTY_PATH:Ir,addIssueToContext:Y,ParseStatus:je,INVALID:ie,DIRTY:Q,OK:Se,isAborted:se,isDirty:ca,isValid:rt,isAsync:$n,jsonStringifyReplacer:Dn,ZodType:ne,ZodString:cn,ZodNumber:_t,ZodBigInt:It,ZodBoolean:Mn,ZodDate:Nt,ZodUndefined:hn,ZodNull:yn,ZodAny:Mt,ZodUnknown:Wt,ZodNever:zt,ZodVoid:E,ZodArray:f,get objectUtil(){return v},ZodObject:w,ZodUnion:Z,ZodDiscriminatedUnion:A,ZodIntersection:V,ZodTuple:_,ZodRecord:Ne,ZodMap:Je,ZodSet:Re,ZodFunction:Ae,ZodLazy:Ye,ZodLiteral:_e,ZodEnum:st,ZodNativeEnum:Zt,ZodPromise:Rt,ZodEffects:it,ZodTransformer:it,ZodOptional:qe,ZodNullable:bt,ZodDefault:Ce,ZodNaN:yt,BRAND:Ht,ZodBranded:At,custom:dn,Schema:ne,ZodSchema:ne,late:da,get ZodFirstPartyTypeKind(){return q},any:Gt,array:jo,bigint:Kn,boolean:Cn,date:pa,discriminatedUnion:Ko,effect:Rs,enum:ni,function:qo,instanceof:ua,intersection:Jo,lazy:ei,literal:ti,map:Xo,nan:Wn,nativeEnum:ai,never:Ss,null:mt,nullable:oi,number:ee,object:Uo,oboolean:()=>Cn().optional(),onumber:()=>ee().optional(),optional:si,ostring:()=>Rn().optional(),preprocess:Cs,promise:ri,record:Qo,set:_o,strictObject:Vo,string:Rn,transformer:Rs,tuple:Yo,undefined:pt,union:Go,unknown:Zr,void:Ar,ZodIssueCode:N,quotelessJson:H,ZodError:Le,defaultErrorMap:$,setErrorMap:Xt,getErrorMap:ln}),Fc=p(63955),ii=p(74828),Bt=p(45455),li=p.n(Bt);function ci(a){const[r,i]=useState([]),e=useApi(alertApiRef),{anchorOrigin:t={vertical:"top",horizontal:"center"},transientTimeoutMs:n}=a,s=n!=null?n:5e3;useEffect(()=>{const d=e.alert$().subscribe(u=>i(m=>m.concat(u)));return()=>{d.unsubscribe()}},[e]);const[o]=r;if(useEffect(()=>{if(o&&o.display==="transient"){const d=setTimeout(()=>{i(u=>{const m=u.filter(g=>g!==o);return m.length===u.length?u:m})},s);return()=>clearTimeout(d)}},[o,s]),r.length===0)return null;const c=()=>{i(d=>d.filter(u=>u!==o))};return React.createElement(Snackbar,{open:!0,anchorOrigin:t},React.createElement(Alert,{action:React.createElement(IconButton,{color:"inherit",size:"small",onClick:c,"data-testid":"error-button-close"},React.createElement(CloseIcon,null)),severity:o.severity},React.createElement(Typography,{component:"span"},String(o.message),r.length>1&&React.createElement("em",null,` (${r.length-1} older ${pluralize("message",r.length-1)})`))))}function di(a){let r=0;for(let e=0;e<a.length;e++)r=a.charCodeAt(e)+((r<<5)-r);let i="#";for(let e=0;e<3;e++){const t=r>>e*8&255;i+=`00${t.toString(16)}`.slice(-2)}return i}function ui(a){var r;return(r=a.match(/\b\w/g))==null?void 0:r.join("").slice(0,2)}const jc=(0,S.Z)(a=>({avatar:{width:"4rem",height:"4rem",color:a.palette.common.white},avatarText:{fontWeight:a.typography.fontWeightBold,letterSpacing:"1px",textTransform:"uppercase"}}),{name:"BackstageAvatar"});function Uc(a){const{displayName:r,picture:i,customStyles:e}=a,t=jc();let n={...e};const s={fontFamily:n.fontFamily,fontSize:n.fontSize,fontWeight:n.fontWeight};return i||(n={backgroundColor:di(r||""),...e}),React.createElement(MaterialAvatar,{alt:r,src:i,className:t.avatar,style:n},r&&React.createElement(Typography,{variant:"h6",component:"span",className:t.avatarText,style:s},ui(r)))}function pi(){const[a]=(0,Xe.is)(l.createElement(Xe.AW,{index:!0,element:l.createElement("div",null)}));return!a.index}const mi=(0,S.Z)({visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",height:1,width:1},externalLink:{position:"relative"}},{name:"Link"}),gi=a=>/^([a-z+.-]+):/.test(a),ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,Br=window.open;if(Br&&!Br.__backstage){const a=function(...i){const e=String(i[0]);if(ks.test(e))throw new Error("Rejected window.open() with a javascript: URL as a security precaution");return Br.apply(this,i)};a.__backstage=!0,window.open=a}const ws=()=>{try{return(0,j.u)(j.p).getOptionalString("app.baseUrl")}catch{return}},Ts=()=>{var a;const r="http://sample.dev",i=(a=ws())!=null?a:"/",{pathname:e}=new URL(i,r);return(0,Ie.trimEnd)(e,"/")},Pr=a=>{let r=String(a);const i=Ts(),e=gi(r),t=r.startsWith(i);return!e&&!t&&(r=i.concat(r)),r},Or=a=>{var r;return a instanceof Array?a.map(Or).join(" ").trim():typeof a=="object"&&a?Or((r=a==null?void 0:a.props)==null?void 0:r.children):["string","number"].includes(typeof a)?String(a):""},jt=l.forwardRef(({onClick:a,noTrack:r,...i},e)=>{const t=mi(),n=(0,de.z$)(),s=pi()?Pr(i.to):i.to,o=Or(i.children)||s,c=gi(s),d=c&&!!/^https?:/.exec(s);if(ks.test(s))throw new Error("Link component rejected javascript: URL as a security precaution");const u=m=>{a==null||a(m),r||n.captureEvent("click",o,{attributes:{to:s}})};return c?l.createElement(We.Z,{...d?{target:"_blank",rel:"noopener"}:{},...i,ref:e,href:s,onClick:u,className:Te()(t.externalLink,i.className)},i.children,l.createElement(L.Z,{component:"span",className:t.visuallyHidden},", Opens in a new window")):l.createElement(We.Z,{...i,ref:e,component:dt.rU,to:s,onClick:u})}),fi=l.forwardRef((a,r)=>l.createElement(jt,{ref:r,...a,color:"initial"})),ma=l.forwardRef((a,r)=>l.createElement(nt.Z,{ref:r,component:fi,...a})),Kt=null;function ga(a){const{text:r,tooltipDelay:i=1e3,tooltipText:e="Text copied to clipboard","aria-label":t="Copy text"}=a,n=(0,j.u)(j.r),[s,o]=(0,l.useState)(!1),[{error:c},d]=(0,Ct.Z)();(0,l.useEffect)(()=>{c&&n.post(c)},[c,n]);const u=m=>{m.stopPropagation(),o(!0),d(r)};return l.createElement(l.Fragment,null,l.createElement(vt.ZP,{id:"copy-test-tooltip",title:e,placement:"top",leaveDelay:i,onClose:()=>o(!1),open:s},l.createElement(Ee.Z,{onClick:u,"aria-label":t},l.createElement(ht.Z,null))))}function fa(a){const{text:r,language:i,showLineNumbers:e=!1,highlightedNumbers:t,customStyle:n,showCopyCodeButton:s=!1}=a,o=(0,we.Z)(),c=o.palette.type==="dark"?Fe.Z:Me.Z,d=o.palette.type==="dark"?"#256bf3":"#e6ffed";return l.createElement(J.Z,{position:"relative"},l.createElement(P.Z,{customStyle:n,language:i,style:c,showLineNumbers:e,wrapLines:!0,lineNumberStyle:{color:o.palette.textVerySubtle},lineProps:u=>t!=null&&t.includes(u)?{style:{backgroundColor:d}}:{}},r),s&&l.createElement(J.Z,{position:"absolute",top:0,right:0},l.createElement(ga,{text:r})))}function Qd(a){const{title:r,to:i}=a,e=useMediaQuery(t=>t.breakpoints.down("xs"));return i?e?React.createElement(IconButton,{component:Link$1,color:"primary",title:r,size:"small",to:i},React.createElement(AddCircleOutline,null)):React.createElement(Button$1,{component:Link$1,variant:"contained",color:"primary",to:i},r):null}var zn=(a=>(a.TOP_BOTTOM="TB",a.BOTTOM_TOP="BT",a.LEFT_RIGHT="LR",a.RIGHT_LEFT="RL",a))(zn||{}),Ga=(a=>(a.UP_LEFT="UL",a.UP_RIGHT="UR",a.DOWN_LEFT="DL",a.DOWN_RIGHT="DR",a))(Ga||{}),Is=(a=>(a.NETWORK_SIMPLEX="network-simplex",a.TIGHT_TREE="tight-tree",a.LONGEST_PATH="longest-path",a))(Is||{}),ha=(a=>(a.LEFT="l",a.RIGHT="r",a.CENTER="c",a))(ha||{}),hi=Object.freeze({__proto__:null,Direction:zn,Alignment:Ga,Ranker:Is,LabelPosition:ha});const Lr=(0,S.Z)(a=>({node:{fill:a.palette.primary.light,stroke:a.palette.primary.light},text:{fill:a.palette.primary.contrastText}}),{name:"BackstageDependencyGraphDefaultNode"});function $r({node:{id:a}}){const r=Lr(),[i,e]=React.useState(0),[t,n]=React.useState(0),s=React.useRef(null);React.useLayoutEffect(()=>{if(s.current){let{height:u,width:m}=s.current.getBBox();u=Math.round(u),m=Math.round(m),(u!==t||m!==i)&&(e(m),n(u))}},[i,t]);const o=10,c=i+o*2,d=t+o*2;return React.createElement("g",null,React.createElement("rect",{className:r.node,width:c,height:d,rx:10}),React.createElement("text",{ref:s,className:r.text,y:d/2,x:c/2,textAnchor:"middle",alignmentBaseline:"middle"},a))}const Vc="arrow-marker",yi="node",vi="edge",Ei="label",bi=(0,X.Z)(a=>({node:{transition:`${a.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphNode"}),xi=a=>React.createElement($r,{...a});function Si({render:a=xi,setNode:r,node:i}){const{width:e,height:t,x:n=0,y:s=0}=i,o=i,c=bi(),d=React.useRef(null);return React.useLayoutEffect(()=>{if(d.current){let{height:u,width:m}=d.current.getBBox();u=Math.round(u),m=Math.round(m),(u!==t||m!==e)&&r(i.id,{...i,height:u,width:m})}},[i,e,t,r]),React.createElement("g",{ref:d,"data-testid":yi,className:c.node,transform:`translate(${n-e/2},${s-t/2})`},a({node:o}))}const Ri=(0,X.Z)(a=>({text:{fill:a.palette.textContrast}}),{name:"BackstageDependencyGraphDefaultLabel"});function Ci({edge:{label:a}}){const r=Ri();return React.createElement("text",{className:r.text,textAnchor:"middle"},a)}const ki=(0,X.Z)(a=>({path:{strokeWidth:1,stroke:a.palette.textSubtle,fill:"none",transition:`${a.transitions.duration.shortest}ms`},label:{transition:`${a.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphEdge"}),wi=a=>React.createElement(Ci,{...a});function Ti({render:a=wi,setEdge:r,id:i,edge:e,curve:t}){const{x:n=0,y:s=0,width:o,height:c,points:d}=e,u=e,m=ki(),g=React.useRef(null);React.useLayoutEffect(()=>{if(g.current){let{height:x,width:k}=g.current.getBBox();x=Math.round(x),k=Math.round(k),(x!==c||k!==o)&&r(i,{...e,height:x,width:k})}},[e,c,o,r,i]);let y="";const b=React.useMemo(()=>d3Shape.line().x(x=>x.x).y(x=>x.y).curve(d3Shape[t]),[t]);if(d){const x=d.filter(k=>isFinite(k.x)&&isFinite(k.y));y=b(x)||""}return React.createElement(React.Fragment,null,y&&React.createElement("path",{"data-testid":vi,className:m.path,d:y}),u.label?React.createElement("g",{ref:g,"data-testid":Ei,className:m.label,transform:`translate(${n},${s})`},a({edge:u})):null)}const Ns="workspace";function Gc(a){var r,i;const{edges:e,nodes:t,renderNode:n,direction:s=zn.TOP_BOTTOM,align:o,nodeMargin:c=50,edgeMargin:d=10,rankMargin:u=50,paddingX:m=0,paddingY:g=0,acyclicer:y,ranker:b=Is.NETWORK_SIMPLEX,labelPosition:x=ha.RIGHT,labelOffset:k=10,edgeRanks:I=1,edgeWeight:B=1,renderLabel:M,defs:D,zoom:G="enabled",curve:U="curveMonotoneX",fit:K="grow",...ae}=a,te=useTheme$1(),[Be,Ue]=React.useState(100),[Pe,gt]=React.useState(100),ge=React.useRef(new dagre.graphlib.Graph),[et,Jt]=React.useState(((r=ge.current.graph())==null?void 0:r.width)||0),[re,lt]=React.useState(((i=ge.current.graph())==null?void 0:i.height)||0),[Oe,ye]=React.useState([]),[Ve,fe]=React.useState([]),le=Math.max(et,Be),ve=Math.max(re,Pe),Ge=Math.min(re,Pe),he=K==="grow"?ve:Ge,Ze=React.useMemo(()=>debounce(ze=>{if(!ze)return;const xt=d3Selection.select(ze),tt=d3Selection.select(ze.getElementById(Ns));function ke(){xt.call(d3Zoom.zoom().scaleExtent([1,10]).on("zoom",ct=>{ct.transform.x=Math.min(0,Math.max(ct.transform.x,le-le*ct.transform.k)),ct.transform.y=Math.min(0,Math.max(ct.transform.y,ve-ve*ct.transform.k)),tt.attr("transform",ct.transform)}))}G==="enabled"?ke():G==="enable-on-click"&&xt.on("click",()=>ke());const{width:$e,height:He}=ze.getBoundingClientRect();Be!==$e&&Ue($e),Pe!==He&&gt(He)},100),[Pe,Be,le,ve,G]),Yt=React.useCallback(()=>{const ze=ge.current.nodes(),xt=ge.current.edges();ze.forEach(tt=>{t.some($e=>$e.id===tt)||ge.current.removeNode(tt)}),xt.forEach(tt=>{e.some($e=>$e.from===tt.v&&$e.to===tt.w)||ge.current.removeEdge(tt.v,tt.w)}),t.forEach(tt=>{const ke=ge.current.nodes().find($e=>tt.id===$e);if(ke&&ge.current.node(ke)){const{width:$e,height:He,x:ct,y:en}=ge.current.node(ke);ge.current.setNode(ke,{...tt,width:$e,height:He,x:ct,y:en})}else ge.current.setNode(tt.id,{...tt,width:0,height:0})}),e.forEach(tt=>{ge.current.setEdge(tt.from,tt.to,{...tt,label:tt.label,width:0,height:0,labelpos:x,labeloffset:k,weight:B,minlen:I})})},[e,t,x,k,B,I]),Qt=React.useMemo(()=>debounce(()=>{dagre.layout(ge.current);const{height:ze,width:xt}=ge.current.graph(),tt=Math.max(0,ze||0),ke=Math.max(0,xt||0);Jt(ke),lt(tt),ye(ge.current.nodes()),fe(ge.current.edges())},250,{leading:!0}),[]);React.useEffect(()=>(ge.current.setGraph({rankdir:s,align:o,nodesep:c,edgesep:d,ranksep:u,marginx:m,marginy:g,acyclicer:y,ranker:b}),Yt(),Qt(),Qt.cancel),[y,o,s,d,m,g,c,u,b,Yt,Qt]);function jn(ze,xt){return ge.current.setNode(ze,xt),Qt(),ge.current}function zo(ze,xt){return ge.current.setEdge(ze,xt),Qt(),ge.current}return React.createElement("svg",{ref:Ze,...ae,width:"100%",height:he,viewBox:`0 0 ${le} ${ve}`},React.createElement("defs",null,React.createElement("marker",{id:Vc,viewBox:"0 0 24 24",markerWidth:"14",markerHeight:"14",refX:"16",refY:"12",orient:"auto",markerUnits:"strokeWidth"},React.createElement("path",{fill:te.palette.textSubtle,d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),D),React.createElement("g",{id:Ns},React.createElement("svg",{width:et,height:re,y:ve/2-re/2,x:le/2-et/2,viewBox:`0 0 ${et} ${re}`},Ve.map(ze=>{const xt=ge.current.edge(ze);return xt?React.createElement(Ti,{key:`${ze.v}-${ze.w}`,id:ze,setEdge:zo,render:M,edge:xt,curve:U}):null}),Oe.map(ze=>{const xt=ge.current.node(ze);return xt?React.createElement(Si,{key:ze,setNode:jn,render:n,node:xt}):null}))))}const Ii=(0,S.Z)(a=>{var r;return{root:{padding:a.spacing(0),marginBottom:a.spacing(0),marginTop:a.spacing(0),display:"flex",flexFlow:"row nowrap"},topPosition:{position:"relative",marginBottom:a.spacing(6),marginTop:-a.spacing(3),zIndex:"unset"},icon:{fontSize:a.typography.h6.fontSize},content:{width:"100%",maxWidth:"inherit",flexWrap:"nowrap"},message:{display:"flex",alignItems:"center",color:a.palette.banner.text,"& a":{color:a.palette.banner.link}},info:{backgroundColor:a.palette.banner.info},error:{backgroundColor:a.palette.banner.error},warning:{backgroundColor:(r=a.palette.banner.warning)!=null?r:a.palette.banner.error}}},{name:"BackstageDismissableBanner"}),Ni=a=>{var r;const{variant:i,message:e,id:t,fixed:n=!1}=a,s=Ii(),c=useApi(storageApiRef).forBucket("notifications"),d=(r=c.snapshot("dismissedBanners").value)!=null?r:[],[u,m]=useState(new Set(d)),g=useObservable(c.observe$("dismissedBanners"));useEffect(()=>{var b;if(g!=null&&g.value){const x=(b=g==null?void 0:g.value)!=null?b:[];m(new Set(x))}},[g==null?void 0:g.value]);const y=()=>{c.set("dismissedBanners",[...u,t])};return React.createElement(Snackbar,{anchorOrigin:n?{vertical:"bottom",horizontal:"center"}:{vertical:"top",horizontal:"center"},open:!u.has(t),classes:{root:classNames(s.root,!n&&s.topPosition)}},React.createElement(SnackbarContent,{classes:{root:classNames(s.content,s[i]),message:s.message},message:e,action:[React.createElement(IconButton,{key:"dismiss",title:"Permanently dismiss this message",color:"inherit",onClick:y},React.createElement(CloseIcon,{className:s.icon}))]}))},Kc=(0,S.Z)({generalImg:{width:"95%",zIndex:2,position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 15%)"}},{name:"BackstageEmptyStateImage"}),Zi=({missing:a})=>{const r=Kc();switch(a){case"field":return l.createElement("img",{src:ce,className:r.generalImg,alt:"annotation is missing"});case"info":return l.createElement("img",{src:kt,alt:"no Information",className:r.generalImg});case"content":return l.createElement("img",{src:St,alt:"create Component",className:r.generalImg});case"data":return l.createElement("img",{src:nn,alt:"no Build",className:r.generalImg});default:return null}},Jc=(0,S.Z)(a=>({root:{backgroundColor:a.palette.background.default,padding:a.spacing(2,0,0,0)},action:{marginTop:a.spacing(2)},imageContainer:{position:"relative"}}),{name:"BackstageEmptyState"});function Ai(a){const{title:r,description:i,missing:e,action:t}=a,n=Jc();return l.createElement(W.Z,{container:!0,direction:"row",justifyContent:"space-around",alignItems:"flex-start",className:n.root,spacing:2},l.createElement(W.Z,{item:!0,xs:12,md:6},l.createElement(W.Z,{container:!0,direction:"column"},l.createElement(W.Z,{item:!0,xs:!0},l.createElement(L.Z,{variant:"h5"},r)),l.createElement(W.Z,{item:!0,xs:!0},l.createElement(L.Z,{variant:"body1"},i)),l.createElement(W.Z,{item:!0,xs:!0,className:n.action},t))),l.createElement(W.Z,{item:!0,xs:12,md:6,className:n.imageContainer},typeof e=="string"?l.createElement(Zi,{missing:e}):e.customImage))}const Dr=`apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: example
  description: example.com
  annotations:
    ANNOTATION: value
spec:
  type: website
  lifecycle: production
  owner: user:guest`,Zs=/^.*ANNOTATION.*$/m,As=Dr.match(Zs)[0],Mr=Dr.split(`
`).findIndex(a=>Zs.test(a)),Bs=(0,S.Z)(a=>({code:{borderRadius:6,margin:`${a.spacing(2)}px 0px`,background:a.palette.type==="dark"?"#444":a.palette.common.white}}),{name:"BackstageMissingAnnotationEmptyState"});function Ps(a){return Array.from(Array(a+1).keys(),r=>r+Mr)}function Bi(a){const r=a.map(i=>As.replace("ANNOTATION",i)).join(`
`);return Dr.replace(As,r)}function Pi(a){const r=a.length<=1;return l.createElement(l.Fragment,null,"The ",r?"annotation":"annotations"," ",a.map(i=>l.createElement("code",null,i)).reduce((i,e)=>l.createElement(l.Fragment,null,i,", ",e))," ",r?"is":"are"," missing. You need to add the"," ",r?"annotation":"annotations"," to your component if you want to enable this tool.")}function Oi(a){const{annotation:r,readMoreUrl:i}=a,e=Array.isArray(r)?r:[r],t=i||"https://backstage.io/docs/features/software-catalog/well-known-annotations",n=Bs();return l.createElement(Ai,{missing:"field",title:"Missing Annotation",description:Pi(e),action:l.createElement(l.Fragment,null,l.createElement(L.Z,{variant:"body1"},"Add the annotation to your component YAML as shown in the highlighted example below:"),l.createElement(J.Z,{className:n.code},l.createElement(fa,{text:Bi(e),language:"yaml",showLineNumbers:!0,highlightedNumbers:Ps(e.length),customStyle:{background:"inherit",fontSize:"115%"}})),l.createElement(nt.Z,{color:"primary",component:jt,to:t},"Read more"))})}const Ka=(a,r)=>(r.palette.type==="light"?Qe._j:Qe.$n)(r.palette[a].light,.6),Os=(a,r)=>(r.palette.type==="light"?Qe.$n:Qe._j)(r.palette[a].light,.9),Ls=(0,S.Z)(a=>({root:{marginRight:a.spacing(1),fill:({severity:r})=>Ka(r,a)}})),Ja=({severity:a})=>{const r=Ls({severity:a});return l.createElement(gr.Z,{classes:r})},$s=({severity:a})=>{const r=Ls({severity:a});return l.createElement(mn.Z,{classes:r})},Ds=(0,S.Z)(a=>({panel:{backgroundColor:({severity:r})=>Os(r,a),color:({severity:r})=>Ka(r,a),verticalAlign:"middle"},summary:{display:"flex",flexDirection:"row"},summaryText:{color:({severity:r})=>Ka(r,a),fontWeight:a.typography.fontWeightBold},message:{width:"100%",display:"block",color:({severity:r})=>Ka(r,a),backgroundColor:({severity:r})=>Os(r,a)},details:{width:"100%",display:"block",color:a.palette.textContrast,backgroundColor:a.palette.background.default,border:`1px solid ${a.palette.border}`,padding:a.spacing(2),fontFamily:"sans-serif"}}),{name:"BackstageWarningPanel"}),Li=a=>a.charAt(0).toLocaleUpperCase("en-US")+a.slice(1);function $i(a){const{severity:r="warning",title:i,message:e,children:t,defaultExpanded:n}=a,s=Ds({severity:r}),o=Li(r)+(i?`: ${i}`:"");return l.createElement($t.Z,{defaultExpanded:n!=null?n:!1,className:s.panel,role:"alert"},l.createElement(pr.Z,{expandIcon:l.createElement($s,{severity:r}),className:s.summary},l.createElement(Ja,{severity:r}),l.createElement(L.Z,{className:s.summaryText,variant:"subtitle1"},o)),(e||t)&&l.createElement(mr.Z,null,l.createElement(W.Z,{container:!0},e&&l.createElement(W.Z,{item:!0,xs:12},l.createElement(L.Z,{className:s.message,variant:"body1"},e)),t&&l.createElement(W.Z,{item:!0,xs:12,className:s.details},t))))}const Di=(0,S.Z)(a=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:a.spacing(2)},divider:{margin:a.spacing(2)}}),{name:"BackstageErrorPanel"}),Mi=({error:a,message:r,stack:i,children:e})=>{const t=Di();return l.createElement(at.Z,{dense:!0},l.createElement(Ut.Z,{alignItems:"flex-start"},l.createElement(Lt.Z,{classes:{secondary:t.text},primary:"Error",secondary:a}),l.createElement(ga,{text:a})),l.createElement(Ut.Z,{alignItems:"flex-start"},l.createElement(Lt.Z,{classes:{secondary:t.text},primary:"Message",secondary:r}),l.createElement(ga,{text:r})),i&&l.createElement(Ut.Z,{alignItems:"flex-start"},l.createElement(Lt.Z,{classes:{secondary:t.text},primary:"Stack Trace",secondary:i}),l.createElement(ga,{text:i})),e)};function Ya(a){const{title:r,error:i,defaultExpanded:e,children:t}=a;return l.createElement($i,{severity:"error",title:r!=null?r:i.message,defaultExpanded:e},l.createElement(Mi,{error:i.name,message:i.message,stack:i.stack,children:t}))}const Wi=(0,S.Z)(a=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:a.spacing(2)},divider:{margin:a.spacing(2)}}),{name:"BackstageResponseErrorPanel"});function Yc(a){var r;const{title:i,error:e,defaultExpanded:t}=a,n=Wi();if(e.name!=="ResponseError")return React.createElement(Ya,{title:i!=null?i:e.message,defaultExpanded:t,error:e});const{body:s,cause:o}=e,{request:c,response:d}=s,u=`${d.statusCode}: ${o.name}`,m=c&&`${c.method} ${c.url}`,g=o.message.replace(/\\n/g,`
`),y=(r=o.stack)==null?void 0:r.replace(/\\n/g,`
`),b=JSON.stringify(s,void 0,2);return React.createElement(Ya,{title:i!=null?i:e.message,defaultExpanded:t,error:{name:u,message:g,stack:y}},m&&React.createElement(ListItem,{alignItems:"flex-start"},React.createElement(ListItemText,{classes:{secondary:n.text},primary:"Request",secondary:c?`${m}`:void 0}),React.createElement(ga,{text:m})),React.createElement(React.Fragment,null,React.createElement(Divider,{component:"li",className:n.divider}),React.createElement(ListItem,{alignItems:"flex-start"},React.createElement(ListItemText,{classes:{secondary:n.text},primary:"Full Error as JSON"})),React.createElement(fa,{language:"json",text:b,showCopyCodeButton:!0})))}function Qa(a){const r=document.createElement("div");return r.setAttribute("id",a),r}function zi(a){document.body.insertBefore(a,document.body.lastElementChild.nextElementSibling)}function Qc(a){const r=useRef(null);useEffect(function(){const t=document.querySelector(`#${a}`),n=t||Qa(a);return t||zi(n),n.appendChild(r.current),function(){r.current.remove(),n.childNodes.length===-1&&n.remove()}},[a]);function i(){return r.current||(r.current=document.createElement("div")),r.current}return i()}const Wr="core.calloutSeen";function Hi(){const[a,r]=useState(()=>{const e=localStorage.getItem(Wr);return e?JSON.parse(e):{}}),i=useCallback((e,t)=>{const n=localStorage.getItem(Wr),o={...n?JSON.parse(n):{},[e]:t};r(o),localStorage.setItem(Wr,JSON.stringify(o))},[]);return{states:a,setState:i}}function Fi(a){const{states:r,setState:i}=Hi(),e=useCallback(()=>{i(a,!0)},[i,a]);return{seen:r[a]===!0,markSeen:e}}function zr(a){const{seen:r,markSeen:i}=Fi(a);return{show:r===!1,hide:i}}const ji=(0,S.Z)(a=>({"@keyframes pulsateSlightly":{"0%":{transform:"scale(1.0)"},"100%":{transform:"scale(1.1)"}},"@keyframes pulsateAndFade":{"0%":{transform:"scale(1.0)",opacity:.9},"100%":{transform:"scale(1.5)",opacity:0}},featureWrapper:{position:"relative"},backdrop:{zIndex:2e3,position:"fixed",overflow:"hidden",left:0,right:0,top:0,bottom:0},dot:{position:"absolute",backgroundColor:"transparent",borderRadius:"100%",border:"1px solid rgba(103, 146, 180, 0.98)",boxShadow:"0px 0px 0px 20000px rgba(0, 0, 0, 0.5)",zIndex:2001,transformOrigin:"center center",animation:"$pulsateSlightly 1744ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) alternate infinite"},pulseCircle:{width:"100%",height:"100%",backgroundColor:"transparent",borderRadius:"100%",border:`2px solid ${a.palette.common.white}`,zIndex:2001,transformOrigin:"center center",animation:"$pulsateAndFade 872ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) infinite"},text:{position:"absolute",color:a.palette.common.white,zIndex:2003}}),{name:"BackstageFeatureCalloutCircular"});function Xc(a){const{featureId:r,title:i,description:e,children:t}=a,{show:n,hide:s}=zr(r),o=Qc("core.callout"),c=useRef(null),[d,u]=useState(),m=ji(),g=useCallback(()=>{if(c.current){const y=c.current.getBoundingClientRect(),b=Math.max(y.width,y.height),x=800,k=y.x-(b-y.width)/2-x,I=y.y-(b-y.height)/2-x,B=b+2*x,M=450,D=y.x+y.width/2-M,G=y.y-(b-y.height)/2+b+20;u({dotLeft:k,dotTop:I,dotSize:B,borderWidth:x,textTop:G,textLeft:D,textWidth:M})}},[]);return useEffect(()=>(window.addEventListener("resize",g),window.addEventListener("scroll",g),()=>{window.removeEventListener("resize",g),window.removeEventListener("scroll",g)}),[g]),useLayoutEffect(g,[c.current,g]),n?React.createElement(React.Fragment,null,React.createElement(Box,{className:m.featureWrapper,ref:c},t),createPortal(React.createElement(Box,{className:m.backdrop},React.createElement(ClickAwayListener,{onClickAway:s},React.createElement(React.Fragment,null,React.createElement(Box,{className:m.dot,"data-testid":"dot",style:{left:d==null?void 0:d.dotLeft,top:d==null?void 0:d.dotTop,width:d==null?void 0:d.dotSize,height:d==null?void 0:d.dotSize,borderWidth:d==null?void 0:d.borderWidth},onClick:s,onKeyDown:s,role:"button",tabIndex:0},React.createElement(Box,{className:m.pulseCircle})),React.createElement(Box,{className:m.text,"data-testid":"text",style:{left:d==null?void 0:d.textLeft,top:d==null?void 0:d.textTop,width:d==null?void 0:d.textWidth}},React.createElement(Typography,{variant:"h2",paragraph:!0},i),React.createElement(Typography,null,e))))),o)):React.createElement(React.Fragment,null,t)}const Ui=(0,S.Z)(a=>({link:{display:"grid",justifyItems:"center",gridGap:4,textAlign:"center"},disabled:{color:a.palette.text.secondary,cursor:"default"},primary:{color:a.palette.primary.main},secondary:{color:a.palette.secondary.main},label:{textTransform:"uppercase",fontWeight:a.typography.fontWeightBold,letterSpacing:1.2}}),{name:"BackstageIconLinkVertical"});function Vi({color:a="primary",disabled:r=!1,href:i="#",icon:e=React.createElement(LinkIcon,null),label:t,onClick:n,title:s}){const o=Ui();return r?React.createElement(Box,{title:s,className:classNames(o.link,o.disabled)},e,React.createElement(Typography,{variant:"caption",component:"span",className:o.label},t)):React.createElement(jt,{title:s,className:classNames(o.link,o[a]),to:i,onClick:n},e,React.createElement(Typography,{variant:"caption",component:"span",className:o.label},t))}const _c=(0,S.Z)(a=>({links:{margin:a.spacing(2,0),display:"grid",gridAutoFlow:"column",gridAutoColumns:"min-content",gridGap:a.spacing(3)}}),{name:"BackstageHeaderIconLinkRow"});function qc(a){const{links:r}=a,i=_c();return React.createElement("nav",{className:i.links},r.map((e,t)=>React.createElement(Vi,{key:t+1,...e})))}const Ms=a=>{const r=a==="dark"?"16%":"97%";return`
    hsl(0, 0%, ${r}) 0%,
    hsla(0, 0%, ${r}, 0.987) 8.1%,
    hsla(0, 0%, ${r}, 0.951) 15.5%,
    hsla(0, 0%, ${r}, 0.896) 22.5%,
    hsla(0, 0%, ${r}, 0.825) 29%,
    hsla(0, 0%, ${r}, 0.741) 35.3%,
    hsla(0, 0%, ${r}, 0.648) 41.2%,
    hsla(0, 0%, ${r}, 0.55) 47.1%,
    hsla(0, 0%, ${r}, 0.45) 52.9%,
    hsla(0, 0%, ${r}, 0.352) 58.8%,
    hsla(0, 0%, ${r}, 0.259) 64.7%,
    hsla(0, 0%, ${r}, 0.175) 71%,
    hsla(0, 0%, ${r}, 0.104) 77.5%,
    hsla(0, 0%, ${r}, 0.049) 84.5%,
    hsla(0, 0%, ${r}, 0.013) 91.9%,
    hsla(0, 0%, ${r}, 0) 100%
  `},Gi=100,Ws=10,zs=(0,S.Z)(a=>({root:{position:"relative",display:"flex",flexFlow:"row nowrap",alignItems:"center"},container:{overflow:"auto",scrollbarWidth:0,"&::-webkit-scrollbar":{display:"none"}},fade:{position:"absolute",width:Gi,height:`calc(100% + ${Ws}px)`,transition:"opacity 300ms",pointerEvents:"none"},fadeLeft:{left:-Ws,background:`linear-gradient(90deg, ${Ms(a.palette.type)})`},fadeRight:{right:-Ws,background:`linear-gradient(270deg, ${Ms(a.palette.type)})`},fadeHidden:{opacity:0},button:{position:"absolute"},buttonLeft:{left:-a.spacing(2)},buttonRight:{right:-a.spacing(2)}}),{name:"BackstageHorizontalScrollGrid"});function Ki(a){const[[r,i],e]=React.useState([0,0]);return React.useLayoutEffect(()=>{const t=a.current;if(!t){e([0,0]);return}const n=()=>{const s=t.scrollLeft,o=t.scrollWidth-t.offsetWidth-t.scrollLeft;e([s,o])};return n(),t.addEventListener("scroll",n),window.addEventListener("resize",n),()=>{t.removeEventListener("scroll",n),window.removeEventListener("resize",n)}},[a]),[r,i]}function Hr(a,r,i){const[e,t]=React.useState(0);return React.useLayoutEffect(()=>{if(e===0)return;const n=window.performance.now(),s=requestAnimationFrame(o=>{if(!a.current)return;const c=o-n,d=Math.abs(e)*c/r,m=Math.max(i,d)*Math.sign(e);a.current.scrollBy({left:m});const g=e-m;Math.sign(e)!==Math.sign(g)?t(0):t(g)});return()=>cancelAnimationFrame(s)},[a,e,r,i]),t}function ed(a){const{scrollStep:r=100,scrollSpeed:i=50,minScrollDistance:e=5,children:t,...n}=a,s=zs(a),o=React.useRef(),[c,d]=Ki(o),u=Hr(o,i,e),m=g=>{o.current&&u(g?r:-r)};return React.createElement(Box,{...n,className:s.root},React.createElement(Grid,{container:!0,direction:"row",wrap:"nowrap",className:s.container,ref:o},t),React.createElement(Box,{className:classNames(s.fade,s.fadeLeft,{[s.fadeHidden]:c===0})}),React.createElement(Box,{className:classNames(s.fade,s.fadeRight,{[s.fadeHidden]:d===0})}),c>0&&React.createElement(IconButton,{title:"Scroll Left",onClick:()=>m(!1),className:classNames(s.button,s.buttonLeft,{})},React.createElement(ChevronLeftIcon,null)),d>0&&React.createElement(IconButton,{title:"Scroll Right",onClick:()=>m(!0),className:classNames(s.button,s.buttonRight,{})},React.createElement(ChevronRight,null)))}const Ji=(0,S.Z)(a=>({alpha:{color:a.palette.common.white,fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"},beta:{color:"#4d65cc",fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"}}),{name:"BackstageLifecycle"});function td(a){const r=Ji(a),{shorthand:i,alpha:e}=a;return i?React.createElement(Typography,{component:"span",className:r[e?"alpha":"beta"],style:{fontSize:"120%"}},e?React.createElement(React.Fragment,null,"\u03B1"):React.createElement(React.Fragment,null,"\u03B2")):React.createElement(Typography,{component:"span",className:r[e?"alpha":"beta"]},e?"Alpha":"Beta")}const nd=(0,l.lazy)(()=>Promise.all([p.e(7996),p.e(7898)]).then(p.bind(p,87898)).then(a=>({default:a.RealLogViewer})));function ad(a){const{Progress:r}=useApp().getComponents();return React.createElement(Suspense,{fallback:React.createElement(r,null)},React.createElement(nd,{...a}))}const rd=(0,S.Z)(a=>({markdown:{"& table":{borderCollapse:"collapse",border:`1px solid ${a.palette.border}`},"& th, & td":{border:`1px solid ${a.palette.border}`,padding:a.spacing(1)},"& td":{wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:a.spacing(3,2,3,2.5),borderBottom:0},"& th":{backgroundColor:a.palette.background.paper},"& tr":{backgroundColor:a.palette.background.paper},"& tr:nth-child(odd)":{backgroundColor:a.palette.background.default},"& a":{color:a.palette.link},"& img":{maxWidth:"100%"}}}),{name:"BackstageMarkdownContent"}),Hs=(a,r)=>r?typeof r=="string"?a+r:l.Children.toArray(r.props.children).reduce(Hs,a):a,ya=({level:a,children:r})=>{const t=l.Children.toArray(r).reduce(Hs,"").toLocaleLowerCase("en-US").replace(/\W/g,"-");return l.createElement(`h${a}`,{id:t},r)},Yi={code:({inline:a,className:r,children:i,...e})=>{const t=String(i).replace(/\n+$/,""),n=/language-(\w+)/.exec(r||"");return!a&&n?l.createElement(fa,{language:n[1],text:t}):l.createElement("code",{className:r,...e},i)},h1:ya,h2:ya,h3:ya,h4:ya,h5:ya,h6:ya};function Qi(a){const{content:r,dialect:i="gfm",linkTarget:e,transformLinkUri:t,transformImageUri:n,className:s}=a,o=rd();return React.createElement(ReactMarkdown,{remarkPlugins:i==="gfm"?[gfm]:[],className:`${o.markdown} ${s}`,children:r,components:Yi,linkTarget:e,transformLinkUri:t,transformImageUri:n})}const Jn=(0,S.Z)(a=>({root:{paddingLeft:a.spacing(3)}}),{name:"BackstageLoginRequestListItem"}),Xi=({request:a,busy:r,setBusy:i})=>{const e=Jn(),[t,n]=useState(),s=async()=>{i(!0);try{await a.trigger()}catch(c){n(isError(c)?c.message:"An unspecified error occurred")}finally{i(!1)}},o=a.provider.icon;return React.createElement(ListItem,{disabled:r,classes:{root:e.root}},React.createElement(ListItemAvatar,null,React.createElement(o,{fontSize:"large"})),React.createElement(ListItemText,{primary:a.provider.title,secondary:t&&React.createElement(Typography,{color:"error"},t)}),React.createElement(Button$1,{color:"primary",variant:"contained",onClick:s},"Log in"))},sd=(0,S.Z)(a=>({dialog:{paddingTop:a.spacing(1)},title:{minWidth:0},titleHeading:{fontSize:a.typography.h6.fontSize},contentList:{padding:0},actionButtons:{padding:a.spacing(2,0)}}),{name:"OAuthRequestDialog"});function od(a){const r=sd(),[i,e]=useState(!1),t=useApi(oauthRequestApiRef),n=useObservable(useMemo(()=>t.authRequest$(),[t]),[]),s=()=>{n.forEach(o=>o.reject())};return React.createElement(Dialog,{open:Boolean(n.length),fullWidth:!0,maxWidth:"xs",classes:{paper:r.dialog},"aria-labelledby":"oauth-req-dialog-title"},React.createElement("main",null,React.createElement(DialogTitle,{classes:{root:r.title},id:"oauth-req-dialog-title"},React.createElement(Typography,{className:r.titleHeading,variant:"h1"},"Login Required")),React.createElement(DialogContent,{dividers:!0,classes:{root:r.contentList}},React.createElement(List,null,n.map(o=>React.createElement(Xi,{key:o.provider.title,request:o,busy:i,setBusy:e}))))),React.createElement(DialogActions,{classes:{root:r.actionButtons}},React.createElement(Button$1,{onClick:s},"Reject All")))}const _i=(0,S.Z)({container:{overflow:"visible !important"}},{name:"BackstageOverflowTooltip"});function id(a){var r;const[i,e]=useState(!1),t=useIsMounted(),n=_i(),s=o=>{t()&&e(o)};return React.createElement(Tooltip,{title:(r=a.title)!=null?r:a.text||"",placement:a.placement,disableHoverListener:!i},React.createElement(TextTruncate,{text:a.text,line:a.line,onToggled:s,containerClassName:n.container}))}function Fr(a){const r=(0,we.Z)(),[i,e]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{const t=setTimeout(()=>e(!0),r.transitions.duration.short);return()=>clearTimeout(t)},[r.transitions.duration.short]),i?l.createElement(vs.Z,{...a,"data-testid":"progress"}):l.createElement(J.Z,{display:"none"})}const qi=(0,S.Z)(a=>({root:{maxWidth:"fit-content",padding:a.spacing(2,2,2,2.5)},boxTitle:{margin:0,color:a.palette.textSubtle},arrow:{color:a.palette.textSubtle}}),{name:"BackstageBottomLink"});function el(a){const{link:r,title:i,onClick:e}=a,t=qi();return l.createElement(J.Z,null,l.createElement(Ra.Z,null),l.createElement(jt,{to:r,onClick:e,underline:"none"},l.createElement(J.Z,{display:"flex",alignItems:"center",className:t.root},l.createElement(J.Z,{className:t.boxTitle,fontWeight:"fontWeightBold",m:1},l.createElement(L.Z,null,l.createElement("strong",null,i))),l.createElement(Za.Z,{className:t.arrow}))))}const Xa=a=>{const{slackChannel:r}=a;if(r){if(typeof r=="string")return l.createElement(L.Z,null,"Please contact ",r," for help.");if(!r.href)return l.createElement(L.Z,null,"Please contact ",r.name," for help.")}else return null;return l.createElement(ma,{to:r.href,variant:"contained"},r.name)},Fs=class extends l.Component{constructor(r){super(r),this.state={error:void 0,errorInfo:void 0}}componentDidCatch(r,i){console.error(`ErrorBoundary, error: ${r}, info: ${i}`),this.setState({error:r,errorInfo:i})}render(){const{slackChannel:r,children:i}=this.props,{error:e}=this.state;return e?l.createElement(Ya,{title:"Something Went Wrong",error:e},l.createElement(Xa,{slackChannel:r})):i}},js=(0,S.Z)(a=>({noPadding:{padding:0,"&:last-child":{paddingBottom:0}},header:{padding:a.spacing(2,2,2,2.5)},headerTitle:{fontWeight:a.typography.fontWeightBold},headerSubheader:{paddingTop:a.spacing(1)},headerAvatar:{},headerAction:{},headerContent:{},subheader:{display:"flex"}}),{name:"BackstageInfoCard"}),tl=(0,oe.Z)(a=>({root:{display:"inline-block",padding:a.spacing(8,8,0,0),float:"right"}}),{name:"BackstageInfoCardCardActionsTopRight"})(Ta.Z),jr={card:{flex:{display:"flex",flexDirection:"column"},fullHeight:{display:"flex",flexDirection:"column",height:"100%"},gridItem:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"}},cardContent:{fullHeight:{flex:1},gridItem:{flex:1}}};function va(a){const{title:r,subheader:i,divider:e=!0,deepLink:t,slackChannel:n,errorBoundaryProps:s,variant:o,children:c,headerStyle:d,headerProps:u,icon:m,action:g,actionsClassName:y,actions:b,cardClassName:x,actionsTopRight:k,className:I,noPadding:B,titleTypographyProps:M}=a,D=js();let G={},U={};o&&o.split(/[\s]+/g).forEach(Be=>{G={...G,...jr.card[Be]},U={...U,...jr.cardContent[Be]}});const K=()=>!i&&!m?null:l.createElement("div",{className:D.headerSubheader,"data-testid":"info-card-subheader"},i&&l.createElement("div",{className:D.subheader},i),m),ae=s||(n?{slackChannel:n}:{});return l.createElement(fr.Z,{style:G,className:I},l.createElement(Fs,{...ae},r&&l.createElement(Na.Z,{classes:{root:D.header,title:D.headerTitle,subheader:D.headerSubheader,avatar:D.headerAvatar,action:D.headerAction,content:D.headerContent},title:r,subheader:K(),action:g,style:{...d},titleTypographyProps:M,...u}),k&&l.createElement(tl,null,k),e&&l.createElement(Ra.Z,null),l.createElement(Ia.Z,{className:Te()(x,{[D.noPadding]:B}),style:U},c),b&&l.createElement(Ta.Z,{className:y},b),t&&l.createElement(el,{...t})))}const nl=(0,S.Z)(a=>({root:{position:"relative",lineHeight:0},overlay:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -60%)",fontSize:a.typography.pxToRem(45),fontWeight:a.typography.fontWeightBold,color:a.palette.textContrast},description:{fontSize:"100%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",wordBreak:"break-all",display:"inline-block"},circle:{width:"80%",transform:"translate(10%, 0)"},colorUnknown:{}}),{name:"BackstageGauge"}),Ur={fractional:!0,inverse:!1,unit:"%",max:100},Hn=({palette:a,value:r,inverse:i,max:e})=>{if(isNaN(r))return"#ddd";const t=e||Ur.max,n=i?t-r:r;return n<t/3?a.status.error:n<t*(2/3)?a.status.warning:a.status.ok};function al(a){const[r,i]=useState(null),{getColor:e=Hn}=a,t=nl(a),{palette:n}=useTheme(),{value:s,fractional:o,inverse:c,unit:d,max:u,description:m}={...Ur,...a},g=o?Math.round(s*u):s,y=u!==100?Math.round(s):g,[b,x]=useState(!1);return useEffect(()=>{const k=r,I=()=>x(!0),B=()=>x(!1);return k&&m?(k.addEventListener("mouseenter",I),k.addEventListener("mouseleave",B),()=>{k.removeEventListener("mouseenter",I),k.removeEventListener("mouseleave",B)}):()=>{x(!1)}},[m,r]),React.createElement(Box,{ref:i,className:t.root},React.createElement(Circle,{strokeLinecap:"butt",percent:g,strokeWidth:12,trailWidth:12,strokeColor:e({palette:n,value:y,inverse:c,max:u}),className:t.circle}),m&&b?React.createElement(Box,{className:t.description},m):React.createElement(Box,{className:t.overlay},isNaN(s)?"N/A":`${y}${d}`))}const Us=(0,S.Z)({root:{height:"100%",width:250}},{name:"BackstageGaugeCard"});function rl(a){const r=Us(a),{title:i,subheader:e,progress:t,inverse:n,deepLink:s,description:o,icon:c,variant:d,getColor:u}=a,m={inverse:n,description:o,getColor:u,value:t};return React.createElement(Box,{className:r.root},React.createElement(va,{title:i,subheader:e,deepLink:s,variant:d,icon:c},React.createElement(al,{...m})))}function ld(a){const{value:r,getColor:i=Hn}=a,{palette:e}=useTheme();if(isNaN(r))return null;let t=Math.round(r*100*100)/100;t>100&&(t=100);const n=i({palette:e,value:t,inverse:!1,max:100});return React.createElement(Tooltip,{title:`${t}%`},React.createElement(Typography,{component:"span"},React.createElement(Line,{percent:t,strokeWidth:4,trailWidth:4,strokeColor:n})))}const sl=(0,S.Z)(a=>(0,be.Z)({icon:{position:"absolute",right:a.spacing(.5),pointerEvents:"none"}}),{name:"BackstageClosedDropdown"}),cd=()=>{const a=sl();return l.createElement($a.Z,{className:a.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z",fill:"#616161"}))},dd=(0,S.Z)(a=>(0,be.Z)({icon:{position:"absolute",right:a.spacing(.5),pointerEvents:"none"}}),{name:"BackstageOpenedDropdown"}),ol=()=>{const a=dd();return l.createElement($a.Z,{className:a.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z",fill:"#616161"}))},il=(0,oe.Z)(a=>(0,be.Z)({root:{"label + &":{marginTop:a.spacing(3)}},input:{borderRadius:a.shape.borderRadius,position:"relative",backgroundColor:a.palette.background.paper,border:"1px solid #ced4da",fontSize:a.typography.body1.fontSize,padding:a.spacing(1.25,3.25,1.25,1.5),transition:a.transitions.create(["border-color","box-shadow"]),fontFamily:"Helvetica Neue","&:focus":{background:a.palette.background.paper,borderRadius:a.shape.borderRadius}}}),{name:"BackstageSelectInputBase"})(Vn.Z),ll=(0,S.Z)(a=>(0,be.Z)({formControl:{margin:`${a.spacing(1)} 0px`,maxWidth:300},label:{transform:"initial",fontWeight:"bold",fontSize:a.typography.body2.fontSize,fontFamily:a.typography.fontFamily,color:a.palette.text.primary,"&.Mui-focused":{color:a.palette.text.primary}},formLabel:{transform:"initial",fontWeight:"bold",fontSize:a.typography.body2.fontSize,fontFamily:a.typography.fontFamily,color:a.palette.text.primary,"&.Mui-focused":{color:a.palette.text.primary}},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},checkbox:{},root:{display:"flex",flexDirection:"column"}}),{name:"BackstageSelect"});function cl(a){const{multiple:r,items:i,label:e,placeholder:t,selected:n,onChange:s,triggerReset:o,native:c=!1,disabled:d=!1,margin:u}=a,m=ll(),[g,y]=(0,l.useState)(n||(r?[]:"")),[b,x]=(0,l.useState)(!1);(0,l.useEffect)(()=>{y(r?[]:"")},[o,r]),(0,l.useEffect)(()=>{n!==void 0&&y(n)},[n]);const k=D=>{y(D.target.value),s(D.target.value)},I=D=>{if(d){D.preventDefault();return}x(G=>r&&!(D.target instanceof HTMLElement)?!0:!G)},B=()=>{x(!1)},M=D=>()=>{const G=g.filter(U=>U!==D);y(G),s(G)};return l.createElement(J.Z,{className:m.root},l.createElement(Nn.Z,{onClickAway:B},l.createElement(ta.Z,{className:m.formControl},l.createElement(La.Z,{className:m.formLabel},e),l.createElement(Dt.Z,{"aria-label":e,value:g,native:c,disabled:d,"data-testid":"select",displayEmpty:!0,multiple:r,margin:u,onChange:k,onClick:I,open:b,input:l.createElement(il,null),label:e,tabIndex:0,renderValue:D=>{var G;return r&&g.length!==0?l.createElement(J.Z,{className:m.chips},D.map(U=>{var K,ae;return l.createElement(vr.Z,{key:(K=i.find(te=>te.value===U))==null?void 0:K.value,label:(ae=i.find(te=>te.value===U))==null?void 0:ae.label,clickable:!0,onDelete:M(U),className:m.chip})})):l.createElement(L.Z,null,g.length===0?t||"":(G=i.find(U=>U.value===D))==null?void 0:G.label)},IconComponent:()=>b?l.createElement(ol,null):l.createElement(cd,null),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},t&&!r&&l.createElement(na.Z,{value:[]},t),c?i&&i.map(D=>l.createElement("option",{value:D.value,key:D.value},D.label)):i&&i.map(D=>l.createElement(na.Z,{key:D.value,value:D.value},r&&l.createElement(Vt.Z,{color:"primary",checked:g.includes(D.value)||!1,className:m.checkbox}),D.label))))))}const Vr=()=>{},Vs=l.createContext({stepperLength:0,stepIndex:0,setStepIndex:Vr,stepHistory:[],setStepHistory:Vr,onStepChange:Vr});function ud(a){const{children:r,elevated:i,onStepChange:e,activeStep:t=0}=a,[n,s]=useState(t),[o,c]=useState([0]);useEffect(()=>{s(t)},[t]);const d=[];let u;return Children.forEach(r,m=>{isValidElement(m)&&(m.props.end?u=m:d.push(m))}),React.createElement(React.Fragment,null,React.createElement(Vs.Provider,{value:{stepIndex:n,setStepIndex:s,stepHistory:o,setStepHistory:c,onStepChange:e,stepperLength:Children.count(r)}},React.createElement(MuiStepper,{activeStep:n,orientation:"vertical",elevation:i?2:0},d)),n>=Children.count(r)-1&&u)}const Gr=(0,S.Z)(a=>({root:{marginTop:a.spacing(3),"& button":{marginRight:a.spacing(1)}}}),{name:"BackstageSimpleStepperFooter"}),Gs=({text:a,handleClick:r})=>React.createElement(Button$1,{onClick:r},a||"Reset"),pd=({text:a,handleClick:r,disabled:i,last:e,stepIndex:t})=>React.createElement(Button$1,{variant:"contained",color:"primary",disabled:i,"data-testid":`nextButton-${t}`,onClick:r},a||(e?"Finish":"Next")),dl=({text:a,handleClick:r,disabled:i,stepIndex:e})=>React.createElement(Button$1,{variant:"outlined",color:"primary",disabled:i,"data-testid":`skipButton-${e}`,onClick:r},a||"Skip"),ul=({text:a,handleClick:r,disabled:i,stepIndex:e})=>React.createElement(Button$1,{onClick:r,"data-testid":`backButton-${e}`,disabled:i},a||"Back"),Ks=({actions:a={},children:r})=>{const i=Gr(),{stepperLength:e,stepIndex:t,setStepIndex:n,stepHistory:s,setStepHistory:o,onStepChange:c}=useContext(Vs),d=(y,b)=>{b&&b(),c&&c(t,y),n(y)},u=()=>{const y=a.nextStep?a.nextStep(t,e-1):t+1;d(y,a.onNext),o([...s,y])},m=()=>{s.pop(),d(s[s.length-1],a.onBack),o([...s])},g=()=>{d(0,a.onRestart),o([0])};return React.createElement(Box,{className:i.root},[void 0,!0].includes(a.showBack)&&t!==0&&React.createElement(ul,{text:a.backText,handleClick:m,disabled:t===0,stepIndex:t}),a.showSkip&&React.createElement(dl,{text:a.skipText,handleClick:u,disabled:!!e&&t>=e||!!a.canSkip&&!a.canSkip(),stepIndex:t}),[void 0,!0].includes(a.showNext)&&React.createElement(pd,{text:a.nextText,handleClick:u,disabled:!!e&&t>=e||!!a.canNext&&!a.canNext(),stepIndex:t}),a.showRestart&&t!==0&&React.createElement(Gs,{text:a.restartText,handleClick:g,stepIndex:t}),r)},pl=(0,S.Z)(a=>({end:{padding:a.spacing(3)}}),{name:"SimpleStepperStep"});function md(a){const{title:r,children:i,end:e,actions:t,...n}=a,s=pl();return e?React.createElement(Box,{className:s.end},React.createElement(Typography,{variant:"h6"},r),i,React.createElement(Ks,{actions:{...t||{},showNext:!1}})):React.createElement(MuiStep,{...n},React.createElement(StepLabel,null,React.createElement(Typography,{variant:"h6"},r)),React.createElement(StepContent,null,i,React.createElement(Ks,{actions:t})))}const Fn=(0,S.Z)(a=>({status:{fontWeight:a.typography.fontWeightMedium,"&::before":{width:"0.7em",height:"0.7em",display:"inline-block",marginRight:a.spacing(1),borderRadius:"50%",content:'""'}},ok:{"&::before":{backgroundColor:a.palette.status.ok}},warning:{"&::before":{backgroundColor:a.palette.status.warning}},error:{"&::before":{backgroundColor:a.palette.status.error}},pending:{"&::before":{backgroundColor:a.palette.status.pending}},running:{"&::before":{backgroundColor:a.palette.status.running}},aborted:{"&::before":{backgroundColor:a.palette.status.aborted}}}),{name:"BackstageStatus"});function ml(a){const r=Fn(a);return l.createElement(L.Z,{component:"span",className:Te()(r.status,r.ok),"aria-label":"Status ok","aria-hidden":"true",...a})}function gd(a){const r=Fn(a);return l.createElement(L.Z,{component:"span",className:Te()(r.status,r.warning),"aria-label":"Status warning","aria-hidden":"true",...a})}function Yn(a){const r=Fn(a);return l.createElement(L.Z,{component:"span",className:Te()(r.status,r.error),"aria-label":"Status error","aria-hidden":"true",...a})}function gl(a){const r=Fn(a);return l.createElement(L.Z,{component:"span",className:Te()(r.status,r.pending),"aria-label":"Status pending","aria-hidden":"true",...a})}function Xd(a){const r=Fn(a);return React.createElement(Typography,{component:"span",className:classNames(r.status,r.running),"aria-label":"Status running","aria-hidden":"true",...a})}function fl(a){const r=Fn(a);return l.createElement(L.Z,{component:"span",className:Te()(r.status,r.aborted),"aria-label":"Status aborted","aria-hidden":"true",...a})}const fd=a=>(0,be.Z)({root:{fontWeight:a.typography.fontWeightBold,whiteSpace:"nowrap",paddingRight:a.spacing(4),border:"0",verticalAlign:"top"}}),hd={root:{border:"0",verticalAlign:"top"}},hl=a=>(0,be.Z)({root:{margin:a.spacing(0,0,-1,0)}}),yl=a=>(0,be.Z)({root:{padding:a.spacing(0,0,1,0)},random:{}}),vl=(0,oe.Z)(fd,{name:"BackstageMetadataTableTitleCell"})(xn.Z),El=(0,oe.Z)(hd,{name:"BackstageMetadataTableCell"})(xn.Z),bl=({dense:a,children:r})=>React.createElement(Table$1,{size:a?"small":"medium"},React.createElement(TableBody,null,r)),xl=({title:a,children:r,...i})=>React.createElement(TableRow,null,a&&React.createElement(vl,null,a),React.createElement(El,{colSpan:a?1:2,...i},r)),Js=(0,oe.Z)(hl,{name:"BackstageMetadataTableList"})(({classes:a,children:r})=>l.createElement(at.Z,{disablePadding:!0,className:a.root},r)),Ys=(0,oe.Z)(yl,{name:"BackstageMetadataTableListItem"})(({classes:a,children:r})=>l.createElement(Ut.Z,{className:a.root},r)),Qs=(0,be.Z)({root:{margin:"0 0",listStyleType:"none"}}),Xs=a=>(0,be.Z)({root:{...Qs.root,paddingLeft:a.spacing(1)}}),Kr=(0,oe.Z)(Qs,{name:"BackstageStructuredMetadataTableList"})(({classes:a,children:r})=>l.createElement(Js,{classes:a},r)),Jr=(0,oe.Z)(Xs,{name:"BackstageStructuredMetadataTableNestedList"})(({classes:a,children:r})=>l.createElement(Js,{classes:a},r));function Sl(a,r){const i=a.map((e,t)=>React.createElement(Ys,{key:t},_a(e)));return r?React.createElement(Jr,null,i):React.createElement(Kr,null,i)}function _s(a,r,i){const e=Object.keys(a).map(t=>{const n=_a(a[t],!0),s=i&&i.titleFormat?i.titleFormat(t):startCase(t);return React.createElement(Ys,{key:t},React.createElement(Typography,{variant:"body2",component:"span"},`${s}: `),n)});return r?React.createElement(Jr,null,e):React.createElement(Kr,null,e)}function _a(a,r,i){return React.isValidElement(a)?React.createElement(Fragment,null,a):typeof a=="object"&&!Array.isArray(a)?_s(a,r,i):Array.isArray(a)?Sl(a,i):typeof a=="boolean"?React.createElement(Fragment,null,a?"\u2705":"\u274C"):React.createElement(Typography,{variant:"body2",component:"span"},a)}const Rl=({value:a,options:r})=>React.createElement(Fragment,null,_a(a,r)),Cl=({title:a,value:r,options:i})=>React.createElement(xl,{title:i&&i.titleFormat?i.titleFormat(a):startCase(a)},React.createElement(Rl,{value:r,options:i}));function Yr(a,r){return Object.keys(a).map(i=>React.createElement(Cl,{key:i,title:i,value:a[i],options:r}))}function yd(a){const{metadata:r,dense:i=!0,options:e}=a,t=Yr(r,e||{});return React.createElement(bl,{dense:i},t)}function kl(a){return qs.stringify(a,{strictNullHandling:!0})}function eo(a){return qs.parse(a,{ignoreQueryPrefix:!0,strictNullHandling:!0})}function wl(a,r){return eo(a)[r]}function Tl(a,r,i){const e={...eo(a),[r]:i};return kl(e)}function Il(a,r=250){const[i,e]=useSearchParams(),t=i.toString(),[n,s]=useState(wl(t,a));return useEffect(()=>{const o=wl(t,a);s(c=>isEqual(o,c)?c:o)},[t,s,a]),useDebouncedEffect(()=>{const o=Tl(t,a,n);t!==o&&e(o,{replace:!0})},[e,n,t,a],r),[n,s]}const to={url:"https://github.com/backstage/backstage/issues",items:[{title:"Support Not Configured",icon:"warning",links:[{title:"Add `app.support` config key",url:"https://github.com/backstage/backstage/blob/master/app-config.yaml"}]}]};function no(){const r=useApiHolder().get(configApiRef),i=r==null?void 0:r.getOptionalConfig("app.support");return i?{url:i.getString("url"),items:i.getConfigArray("items").flatMap(e=>{var t;return{title:e.getString("title"),icon:e.getOptionalString("icon"),links:((t=e.getOptionalConfigArray("links"))!=null?t:[]).flatMap(n=>({url:n.getString("url"),title:n.getString("title")}))}})}:to}function un(a,r){const e=useApp().getSystemIcon(a);return e?React.createElement(e,{...r}):React.createElement(MuiBrokenImageIcon,{...r})}function vd(a){return un("brokenImage",a)}function Nl(a){return un("catalog",a)}function pn(a){return un("chat",a)}function _d(a){return un("dashboard",a)}function qd(a){return un("docs",a)}function eu(a){return un("email",a)}function tu(a){return un("github",a)}function nu(a){return un("group",a)}function Qr(a){return un("help",a)}function au(a){return un("user",a)}function ru(a){return un("warning",a)}const qa=(0,S.Z)({popoverList:{minWidth:260,maxWidth:400}},{name:"BackstageSupportButton"}),Ed=({icon:a})=>{var r;const i=useApp(),e=a&&(r=i.getSystemIcon(a))!=null?r:Qr;return React.createElement(e,null)},bd=({link:a})=>{var r;return React.createElement(jt,{to:a.url},(r=a.title)!=null?r:a.url)},Zl=({item:a})=>{var r;return React.createElement(ListItem,null,React.createElement(ListItemIcon,null,React.createElement(Ed,{icon:a.icon})),React.createElement(ListItemText,{primary:a.title,secondary:(r=a.links)==null?void 0:r.reduce((i,e,t)=>[...i,t>0&&React.createElement("br",{key:t}),React.createElement(bd,{link:e,key:e.url})],[])}))};function xd(a){const{title:r,items:i,children:e}=a,{items:t}=no(),[n,s]=useState(!1),[o,c]=useState(null),d=qa(),u=useMediaQuery(y=>y.breakpoints.down("sm")),m=y=>{c(y.currentTarget),s(!0)},g=()=>{s(!1)};return React.createElement(React.Fragment,null,React.createElement(Box,{display:"flex",ml:1},u?React.createElement(IconButton,{color:"primary",size:"small",onClick:m,"data-testid":"support-button","aria-label":"Support"},React.createElement(Qr,null)):React.createElement(Button$1,{"data-testid":"support-button","aria-label":"Support",color:"primary",onClick:m,startIcon:React.createElement(Qr,null)},"Support")),React.createElement(Popover,{"data-testid":"support-button-popover",open:n,anchorEl:o,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:g},React.createElement(List,{className:d.popoverList},r&&React.createElement(ListItem,{alignItems:"flex-start"},React.createElement(Typography,{variant:"subtitle1"},r)),React.Children.map(e,(y,b)=>React.createElement(ListItem,{alignItems:"flex-start",key:`child-${b}`},y)),(i!=null?i:t).map((y,b)=>React.createElement(Zl,{item:y,key:`item-${b}`}))),React.createElement(DialogActions,null,React.createElement(Button$1,{color:"primary",onClick:g,"aria-label":"Close"},"Close"))))}const er=72,ao=24,Al=18,qt={drawerWidthClosed:er,drawerWidthOpen:224,defaultOpenDelayMs:100,defaultCloseDelayMs:0,defaultFadeDuration:200,logoHeight:32,iconContainerWidth:er,iconSize:er-ao*2,iconPadding:ao,selectedIndicatorWidth:3,userBadgePadding:Al,userBadgeDiameter:er-Al*2,mobileSidebarHeight:56},ro=a=>({...qt,...a,iconContainerWidth:qt.drawerWidthClosed,iconSize:qt.drawerWidthClosed-qt.iconPadding*2,userBadgeDiameter:qt.drawerWidthClosed-qt.userBadgePadding*2}),Xr={drawerWidthClosed:0,drawerWidthOpen:202,defaultOpenDelayMs:qt.defaultOpenDelayMs+200},kn=a=>({...Xr,...a}),Bl="@backstage/core/sidebar-intro-dismissed",Pt=(0,l.createContext)({sidebarConfig:qt,submenuConfig:Xr}),_r=(0,l.createContext)({isHoveredOn:!1,setIsHoveredOn:()=>{}}),so={isOpen:!1,setOpen:()=>{}},Ot=(0,l.createContext)(so),tr=(0,sa.CT)("sidebar-open-state-context");function qr(a){const{children:r,value:i}=a;return React.createElement(Ot.Provider,{value:i},React.createElement(tr.Provider,{value:createVersionedValueMap({1:i})},r))}const Ea=()=>{const a=(0,l.useContext)(tr),r=(0,l.useContext)(Ot);if(a===void 0)return r||so;const i=a.atVersion(1);if(i===void 0)throw new Error("No context found for version 1.");return i},es={isPinned:!0,toggleSidebarPinState:()=>{},isMobile:!1},ts=(0,l.createContext)(es),ba=(0,sa.CT)("sidebar-pin-state-context");function oo(a){const{children:r,value:i}=a;return React.createElement(ts.Provider,{value:i},React.createElement(ba.Provider,{value:createVersionedValueMap({1:i})},r))}const nr=()=>{const a=(0,l.useContext)(ba),r=(0,l.useContext)(ts);if(a===void 0)return r||es;const i=a.atVersion(1);if(i===void 0)throw new Error("No context found for version 1.");return i},io=(0,S.Z)(a=>({root:{flexGrow:0,margin:a.spacing(0,2),color:a.palette.navigation.color},selected:r=>({color:`${a.palette.navigation.selectedColor}!important`,borderTop:`solid ${r.sidebarConfig.selectedIndicatorWidth}px ${a.palette.navigation.indicator}`,marginTop:"-1px"}),label:{display:"none"}})),Pl=a=>{const{to:r,label:i,icon:e,value:t}=a,{sidebarConfig:n}=(0,l.useContext)(Pt),s=io({sidebarConfig:n}),o=(0,Xe.TH)(),{selectedMenuItemIndex:c,setSelectedMenuItemIndex:d}=(0,l.useContext)(po),u=(g,y)=>{d(y===c?-1:y)},m=t===c&&c>=0||t!==c&&!(c>=0)&&r===o.pathname;return l.createElement(Er.Z,{"aria-label":i,label:i,icon:e,component:jt,to:r||o.pathname,onChange:u,value:t,selected:m,classes:s})},ar=a=>{const{children:r,to:i,label:e,icon:t,value:n}=a,{isMobile:s}=nr();return s?l.createElement(Pl,{to:i,label:e,icon:t,value:n}):l.createElement(l.Fragment,null,r)},lo=(0,S.Z)(a=>({root:{position:"fixed",backgroundColor:a.palette.navigation.background,color:a.palette.navigation.color,bottom:0,left:0,right:0,zIndex:a.zIndex.snackbar,borderTop:"1px solid #383838"},overlay:r=>({background:a.palette.navigation.background,width:"100%",bottom:`${r.sidebarConfig.mobileSidebarHeight}px`,height:`calc(100% - ${r.sidebarConfig.mobileSidebarHeight}px)`,flex:"0 1 auto",overflow:"auto"}),overlayHeader:{display:"flex",color:a.palette.text.primary,alignItems:"center",justifyContent:"space-between",padding:a.spacing(2,3)},overlayHeaderClose:{color:a.palette.text.primary},marginMobileSidebar:r=>({marginBottom:`${r.sidebarConfig.mobileSidebarHeight}px`})})),Ol=a=>orderBy(a,({props:{priority:r}})=>Number.isInteger(r)?r:-1,"desc"),co=l.createElement(ar).type,uo=({children:a,label:r="Menu",open:i,onClose:e})=>{const{sidebarConfig:t}=useContext(Pt),n=lo({sidebarConfig:t});return React.createElement(Drawer,{anchor:"bottom",open:i,onClose:e,ModalProps:{BackdropProps:{classes:{root:n.marginMobileSidebar}}},classes:{root:n.marginMobileSidebar,paperAnchorBottom:n.overlay}},React.createElement(Box,{className:n.overlayHeader},React.createElement(Typography,{variant:"h3"},r),React.createElement(IconButton,{onClick:e,classes:{root:n.overlayHeaderClose}},React.createElement(CloseIcon,null))),React.createElement(Box,{component:"nav"},a))},po=(0,l.createContext)({selectedMenuItemIndex:-1,setSelectedMenuItemIndex:()=>{}}),Ll=a=>{const{sidebarConfig:r}=useContext(Pt),{children:i}=a,e=lo({sidebarConfig:r}),t=useLocation(),[n,s]=useState(-1);useEffect(()=>{s(-1)},[t.pathname]);let o=useElementFilter(i,d=>d.getElements().filter(u=>u.type===co));if(i)o.length?o=Ol(o):o.push(React.createElement(ar,{key:"default_menu",icon:React.createElement(MenuIcon,null)},i));else return null;const c=n>=0&&!o[n].props.to;return React.createElement(qr,{value:{isOpen:!0,setOpen:()=>{}}},React.createElement(po.Provider,{value:{selectedMenuItemIndex:n,setSelectedMenuItemIndex:s}},React.createElement(uo,{label:o[n]&&o[n].props.label,open:c,onClose:()=>s(-1)},o[n]&&o[n].props.children),React.createElement(BottomNavigation,{className:e.root,"data-testid":"mobile-sidebar-root",component:"nav"},o)))},mo={getSidebarPinState(){let a;try{a=JSON.parse(window.localStorage.getItem("sidebarPinState")||"true")}catch{return!0}return!!a},setSidebarPinState(a){return window.localStorage.setItem("sidebarPinState",JSON.stringify(a))}},go=(0,S.Z)(a=>({root:{width:"100%",transition:"padding-left 0.1s ease-out",isolation:"isolate",[a.breakpoints.up("sm")]:{paddingLeft:r=>r.isPinned?r.sidebarConfig.drawerWidthOpen:r.sidebarConfig.drawerWidthClosed},[a.breakpoints.down("xs")]:{paddingBottom:r=>r.sidebarConfig.mobileSidebarHeight}},content:{zIndex:0,isolation:"isolate","&:focus":{outline:0}}}),{name:"BackstageSidebarPage"}),fo=(0,l.createContext)({content:{contentRef:void 0}});function $l(a){const[r,i]=useState(()=>mo.getSidebarPinState()),{sidebarConfig:e}=useContext(Pt),t=useRef(null),n=useMemo(()=>({content:{contentRef:t}}),[t]);useEffect(()=>{mo.setSidebarPinState(r)},[r]);const s=useMediaQuery(d=>d.breakpoints.down("xs"),{noSsr:!0}),o=()=>i(!r),c=go({isPinned:r,sidebarConfig:e});return React.createElement(oo,{value:{isPinned:r,toggleSidebarPinState:o,isMobile:s}},React.createElement(fo.Provider,{value:n},React.createElement(Box,{className:c.root},a.children)))}function ho(){const{content:a}=(0,l.useContext)(fo);return{focusContent:(0,l.useCallback)(()=>{var i,e;(e=(i=a==null?void 0:a.contentRef)==null?void 0:i.current)==null||e.focus()},[a]),contentRef:a==null?void 0:a.contentRef}}const ns=(0,S.Z)(a=>({drawer:r=>({display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",left:0,top:0,bottom:0,zIndex:a.zIndex.appBar,background:a.palette.navigation.background,overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",width:r.sidebarConfig.drawerWidthClosed,transition:a.transitions.create("width",{easing:a.transitions.easing.sharp,duration:a.transitions.duration.shortest}),"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}),drawerOpen:r=>({width:r.sidebarConfig.drawerWidthOpen,transition:a.transitions.create("width",{easing:a.transitions.easing.sharp,duration:a.transitions.duration.shorter})}),visuallyHidden:{top:0,position:"absolute",zIndex:1e3,transform:"translateY(-200%)","&:focus":{transform:"translateY(5px)"}}}),{name:"BackstageSidebar"}),Sd=a=>{const{sidebarConfig:r}=useContext(Pt),{openDelayMs:i=r.defaultOpenDelayMs,closeDelayMs:e=r.defaultCloseDelayMs,disableExpandOnHover:t,children:n}=a,s=ns({sidebarConfig:r}),o=useMediaQuery(I=>I.breakpoints.down("md"),{noSsr:!0}),[c,d]=useState(0),u=useRef(),{isPinned:m,toggleSidebarPinState:g}=nr(),y=()=>{m||t||(u.current&&(clearTimeout(u.current),u.current=void 0),c!==2&&!o&&(u.current=window.setTimeout(()=>{u.current=void 0,d(2)},i),d(1)))},b=()=>{m||t||(u.current&&(clearTimeout(u.current),u.current=void 0),c===1?d(0):c===2&&(u.current=window.setTimeout(()=>{u.current=void 0,d(0)},e)))},x=c===2&&!o||m,k=I=>{I?(d(2),g()):(d(0),g())};return React.createElement("nav",{style:{},"aria-label":"sidebar nav"},React.createElement(yo,null),React.createElement(qr,{value:{isOpen:x,setOpen:k}},React.createElement(Box,{className:s.root,"data-testid":"sidebar-root",onMouseEnter:t?()=>{}:y,onFocus:t?()=>{}:y,onMouseLeave:t?()=>{}:b,onBlur:t?()=>{}:b},React.createElement(Box,{className:classNames(s.drawer,{[s.drawerOpen]:x})},n))))},Dl=a=>{var r,i;const e=ro((r=a.sidebarOptions)!=null?r:{}),t=kn((i=a.submenuOptions)!=null?i:{}),{children:n,disableExpandOnHover:s,openDelayMs:o,closeDelayMs:c}=a,{isMobile:d}=nr();return d?React.createElement(Ll,null,n):React.createElement(Pt.Provider,{value:{sidebarConfig:e,submenuConfig:t}},React.createElement(Sd,{openDelayMs:o,closeDelayMs:c,disableExpandOnHover:s},n))};function yo(){const{sidebarConfig:a}=useContext(Pt),{focusContent:r,contentRef:i}=ho(),e=ns({sidebarConfig:a});return i!=null&&i.current?React.createElement(Button$1,{onClick:r,variant:"contained",className:classNames(e.visuallyHidden)},"Skip to content"):null}function rr(a,r){const i=new URLSearchParams(r.search).toString(),e=aa().parse(i),t=new URLSearchParams(a.search).toString(),n=aa().parse(t);return(0,Ie.isEqual)(r.pathname,a.pathname)&&(0,Ie.isMatch)(n,e)}const Rd=(0,S.Z)(a=>{var r,i;return{item:{height:48,width:"100%","&:hover":{background:((r=a.palette.navigation.navItem)==null?void 0:r.hoverBackground)||"#6f6f6f",color:a.palette.navigation.selectedColor},display:"flex",alignItems:"center",color:a.palette.navigation.color,padding:a.spacing(2.5),cursor:"pointer",position:"relative",background:"none",border:"none"},itemContainer:{width:"100%"},selected:{background:"#6f6f6f",color:a.palette.common.white},label:{margin:a.spacing(1.75),marginLeft:a.spacing(1),fontSize:a.typography.body2.fontSize,whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis",lineHeight:1},subtitle:{fontSize:10,whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis"},dropdownArrow:{position:"absolute",right:21},dropdown:{display:"flex",flexDirection:"column",alignItems:"end"},dropdownItem:{width:"100%",padding:"10px 0 10px 0","&:hover":{background:((i=a.palette.navigation.navItem)==null?void 0:i.hoverBackground)||"#6f6f6f",color:a.palette.navigation.selectedColor}},textContent:{color:a.palette.navigation.color,paddingLeft:a.spacing(4),paddingRight:a.spacing(1),fontSize:a.typography.body2.fontSize,whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis"}}},{name:"BackstageSidebarSubmenuItem"}),Cd=a=>{const{title:r,subtitle:i,to:e,icon:t,dropdownItems:n}=a,s=Rd(),{setIsHoveredOn:o}=useContext(_r),c=()=>{o(!1)},d=useResolvedPath$1(e!=null?e:""),u=useLocation();let m=rr(u,d);const[g,y]=useState(!1),b=()=>{y(!g)};return n!==void 0?(n.some(x=>{const k=resolvePath(x.to);return m=rr(u,k),m}),React.createElement(Box,{className:s.itemContainer},React.createElement(Tooltip,{title:r,enterDelay:500,enterNextDelay:500},React.createElement(Button$1,{role:"button",onClick:b,onTouchStart:x=>x.stopPropagation(),className:classNames(s.item,m?s.selected:void 0)},t&&React.createElement(t,{fontSize:"small"}),React.createElement(Typography,{variant:"subtitle1",className:s.label},r,React.createElement("br",null),i&&React.createElement(Typography,{variant:"caption",className:s.subtitle},i)),g?React.createElement(ArrowDropUpIcon,{className:s.dropdownArrow}):React.createElement(ArrowDropDownIcon,{className:s.dropdownArrow}))),n&&g&&React.createElement(Box,{className:s.dropdown},n.map((x,k)=>React.createElement(Tooltip,{key:k,title:x.title,enterDelay:500,enterNextDelay:500},React.createElement(jt,{to:x.to,underline:"none",className:s.dropdownItem,onClick:c,onTouchStart:I=>I.stopPropagation()},React.createElement(Typography,{className:s.textContent},x.title))))))):React.createElement(Box,{className:s.itemContainer},React.createElement(Tooltip,{title:r,enterDelay:500,enterNextDelay:500},React.createElement(jt,{to:e,underline:"none",className:classNames(s.item,m?s.selected:void 0),onClick:c,onTouchStart:x=>x.stopPropagation()},t&&React.createElement(t,{fontSize:"small"}),React.createElement(Typography,{variant:"subtitle1",className:s.label},r,React.createElement("br",null),i&&React.createElement(Typography,{variant:"caption",className:s.subtitle},i)))))},sr=(0,S.Z)(a=>({root:{zIndex:1e3,position:"relative",overflow:"visible",width:a.spacing(7)+1},drawer:r=>{var i,e;return{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",[a.breakpoints.up("sm")]:{marginLeft:r.left,transition:a.transitions.create("margin-left",{easing:a.transitions.easing.sharp,duration:a.transitions.duration.shortest})},top:0,bottom:0,padding:0,background:(e=(i=a.palette.navigation.submenu)==null?void 0:i.background)!=null?e:"#404040",overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",cursor:"default",width:r.submenuConfig.drawerWidthClosed,transitionDelay:`${r.submenuConfig.defaultOpenDelayMs}ms`,"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}},drawerOpen:r=>({width:r.submenuConfig.drawerWidthOpen,[a.breakpoints.down("xs")]:{width:"100%",position:"relative",paddingLeft:a.spacing(3),left:0,top:0}}),title:{fontSize:a.typography.h5.fontSize,fontWeight:a.typography.fontWeightMedium,color:a.palette.common.white,padding:a.spacing(2.5),[a.breakpoints.down("xs")]:{display:"none"}}}),{name:"BackstageSidebarSubmenu"}),Ml=a=>{const{isOpen:r}=Ea(),{sidebarConfig:i,submenuConfig:e}=(0,l.useContext)(Pt),t=r?i.drawerWidthOpen:i.drawerWidthClosed,n=sr({left:t,submenuConfig:e}),{isHoveredOn:s}=(0,l.useContext)(_r),[o,c]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{c(s)},[s]),l.createElement(J.Z,{className:Te()(n.drawer,{[n.drawerOpen]:o})},l.createElement(L.Z,{variant:"h5",className:n.title},a.title),a.children)},kd=(0,S.Z)({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),Wl=()=>{const a=kd();return React.createElement(Box,{className:a.iconContainer},React.createElement(Box,{className:a.arrow1},React.createElement(ArrowBackIosIcon,{style:{fontSize:"12px"}})),React.createElement(Box,null,React.createElement(ArrowBackIosIcon,{style:{fontSize:"12px"}})))},zl=(0,S.Z)({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),Hl=()=>{const a=zl();return React.createElement(Box,{className:a.iconContainer},React.createElement(Box,{className:a.arrow1},React.createElement(ArrowForwardIosIcon,{style:{fontSize:"12px"}})),React.createElement(Box,null,React.createElement(ArrowForwardIosIcon,{style:{fontSize:"12px"}})))},Fl=a=>(0,S.Z)(r=>{var i,e,t,n;return{root:{color:r.palette.navigation.color,display:"flex",flexFlow:"row nowrap",alignItems:"center",height:48,cursor:"pointer"},buttonItem:{background:"none",border:"none",width:"100%",margin:0,padding:0,textAlign:"inherit",font:"inherit",textTransform:"none"},closed:{width:a.drawerWidthClosed,justifyContent:"center"},open:{[r.breakpoints.up("sm")]:{width:a.drawerWidthOpen}},highlightable:{"&:hover":{background:(e=(i=r.palette.navigation.navItem)==null?void 0:i.hoverBackground)!=null?e:"#404040"}},highlighted:{background:(n=(t=r.palette.navigation.navItem)==null?void 0:t.hoverBackground)!=null?n:"#404040"},label:{fontWeight:"bold",whiteSpace:"nowrap",lineHeight:"auto",flex:"3 1 auto",width:"110px",overflow:"hidden","text-overflow":"ellipsis"},iconContainer:{boxSizing:"border-box",height:"100%",width:a.iconContainerWidth,marginRight:-r.spacing(2),display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"0"},searchRoot:{marginBottom:12},searchField:{color:"#b5b5b5",fontWeight:r.typography.fontWeightBold,fontSize:r.typography.fontSize},searchFieldHTMLInput:{padding:r.spacing(2,0,2)},searchContainer:{width:a.drawerWidthOpen-a.iconContainerWidth},secondaryAction:{width:r.spacing(6),textAlign:"center",marginRight:r.spacing(1)},closedItemIcon:{width:"100%",justifyContent:"center"},submenuArrow:{display:"flex"},expandButton:{background:"none",border:"none",color:r.palette.navigation.color,width:"100%",cursor:"pointer",position:"relative",height:48},arrows:{position:"absolute",right:10},selected:{"&$root":{borderLeft:`solid ${a.selectedIndicatorWidth}px ${r.palette.navigation.indicator}`,color:r.palette.navigation.selectedColor},"&$closed":{width:a.drawerWidthClosed},"& $closedItemIcon":{paddingRight:a.selectedIndicatorWidth},"& $iconContainer":{marginLeft:-a.selectedIndicatorWidth}}}},{name:"BackstageSidebarItem"});function or(a){return(0,l.useMemo)(()=>Fl(a),[a])()}const jl=(a,r)=>(0,de.vJ)(a.props.children,i=>{let e=!1;return i.getElements().forEach(({props:{to:t,dropdownItems:n}})=>{if(!e){if(n!=null&&n.length){n.forEach(({to:s})=>e=e||rr(r,(0,De.i3)(s)));return}t&&(e=rr(r,(0,De.i3)(t)))}}),e},[r.pathname]);function vo(a){return a.to===void 0}const ir=l.createElement(Ml).type,Ul=l.forwardRef(function({to:r,end:i,style:e,className:t,activeStyle:n,caseSensitive:s,activeClassName:o="active","aria-current":c="page",...d},u){let{pathname:m}=(0,Xe.TH)(),{pathname:g}=(0,Xe.WU)(r);s||(m=m.toLocaleLowerCase("en-US"),g=g.toLocaleLowerCase("en-US"));let y=m===g;!y&&!i&&(y=m.startsWith(`${g}/`));const b=y?c:void 0;return l.createElement(dt.rU,{...d,to:r,ref:u,"aria-current":b,style:{...e,...y?n:void 0},className:Te()([t,y?o:void 0])})}),as=(0,l.forwardRef)((a,r)=>{const{icon:i,text:e,hasNotifications:t=!1,hasSubmenu:n=!1,disableHighlight:s=!1,onClick:o,children:c,className:d,...u}=a,{sidebarConfig:m}=(0,l.useContext)(Pt),g=or(m),{isOpen:y}=Ea(),b=!y&&n?{display:"flex",marginLeft:"20px"}:{lineHeight:"0"},x=l.createElement(J.Z,{style:b},l.createElement(i,{fontSize:"small"}),!y&&n?l.createElement(Ua.Z,{fontSize:"small"}):l.createElement(l.Fragment,null)),k=l.createElement(wr.Z,{color:"secondary",variant:"dot",overlap:"circular",invisible:!t,className:Te()({[g.closedItemIcon]:!y})},x),I=l.createElement(l.Fragment,null,l.createElement(J.Z,{"data-testid":"login-button",className:g.iconContainer},k),e&&l.createElement(L.Z,{variant:"subtitle2",className:g.label},e),l.createElement("div",{className:g.secondaryAction},c)),B=y?I:k,M={onClick:o,className:Te()(d,g.root,y?g.open:g.closed,vo(a)&&g.buttonItem,{[g.highlightable]:!s})};return vo(a)?l.createElement(nt.Z,{role:"button","aria-label":e,...M,ref:r},B):l.createElement(Ul,{...M,activeClassName:g.selected,to:a.to?a.to:"",ref:r,"aria-label":e||a.to,...u},B)}),Vl=({children:a,...r})=>{const{sidebarConfig:i}=(0,l.useContext)(Pt),e=or(i),[t,n]=(0,l.useState)(!1),s=(0,Xe.TH)(),o=jl(a,s),c=(0,tn.Z)(g=>g.breakpoints.down("sm")),d=()=>{n(!0)},u=()=>{n(!1)},m=()=>c?t?l.createElement(xs.Z,{fontSize:"small",className:e.submenuArrow}):l.createElement(kr.Z,{fontSize:"small",className:e.submenuArrow}):!t&&l.createElement(Ua.Z,{fontSize:"small",className:e.submenuArrow});return l.createElement(_r.Provider,{value:{isHoveredOn:t,setIsHoveredOn:n}},l.createElement("div",{"data-testid":"item-with-submenu",onMouseLeave:u,onTouchStart:t?u:d,onMouseEnter:d,className:Te()(t&&e.highlighted)},l.createElement(as,{hasSubmenu:!0,className:o?e.selected:"",...r},m()),t&&a))},Gl=(0,l.forwardRef)((a,r)=>{const[i]=(0,de.vJ)(a.children,e=>e.getElements().filter(t=>t.type===ir));return i?l.createElement(Vl,{...a},i):l.createElement(as,{...a,ref:r})});function Kl(a){const{sidebarConfig:r}=useContext(Pt),[i,e]=useState(""),t=or(r),n=a.icon?a.icon:SearchIcon,s=()=>{a.onSearch(i),e("")},o=m=>{m.key==="Enter"&&(m.preventDefault(),s())},c=m=>{e(m.target.value)},d=m=>{m.preventDefault(),m.stopPropagation()},u=m=>{s(),m.preventDefault()};return React.createElement(Box,{className:t.searchRoot},React.createElement(Gl,{icon:n,to:a.to,onClick:u,disableHighlight:!0},React.createElement(TextField,{placeholder:"Search",value:i,onClick:d,onChange:c,onKeyDown:o,className:t.searchContainer,InputProps:{disableUnderline:!0,className:t.searchField},inputProps:{className:t.searchFieldHTMLInput}})))}const wd=(0,ot.Z)("div")({flex:1},{name:"BackstageSidebarSpace"}),Td=(0,ot.Z)("div")({height:8},{name:"BackstageSidebarSpacer"}),Id=(0,ot.Z)("hr")(({theme:a})=>({height:1,width:"100%",background:"#383838",border:"none",margin:a.spacing(1.2,0)}),{name:"BackstageSidebarDivider"}),Nd=a=>({overflowY:"auto","&::-webkit-scrollbar":{backgroundColor:a.palette.background.default,width:"5px",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:a.palette.text.hint,borderRadius:"5px"}}),su=(0,ot.Z)("div")(({theme:a})=>{const r=Nd(a);return{flex:"0 1 auto",overflowX:"hidden",width:"calc(100% - 5px)",minHeight:"48px",overflowY:"hidden","@media (hover: none)":r,"&:hover":r}}),Zd=()=>{const{sidebarConfig:a}=useContext(Pt),r=or(a),{isOpen:i,setOpen:e}=Ea();if(useMediaQuery(s=>s.breakpoints.down("md"),{noSsr:!0}))return null;const n=()=>{e(!i)};return React.createElement(Button$1,{role:"button",onClick:n,className:r.expandButton,"aria-label":"Expand Sidebar","data-testid":"sidebar-expand-button"},React.createElement(Box,{className:r.arrows},i?React.createElement(Wl,null):React.createElement(Hl,null)))},Jl=(0,S.Z)(a=>({introCard:r=>({color:"#b5b5b5",fontSize:12,width:r.sidebarConfig.drawerWidthOpen,marginTop:a.spacing(2.25),marginBottom:a.spacing(1.5),paddingLeft:r.sidebarConfig.iconPadding,paddingRight:r.sidebarConfig.iconPadding}),introDismiss:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:a.spacing(1.5)},introDismissLink:{color:"#dddddd",display:"flex",alignItems:"center",marginBottom:a.spacing(.5),"&:hover":{color:a.palette.linkHover,transition:a.transitions.create("color",{easing:a.transitions.easing.sharp,duration:a.transitions.duration.shortest})}},introDismissText:{fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",letterSpacing:1},introDismissIcon:{width:18,height:18,marginRight:a.spacing(1.5)}}),{name:"BackstageSidebarIntro"});function Ad(a){const{sidebarConfig:r}=useContext(Pt),i=Jl({sidebarConfig:r}),{text:e,onClose:t}=a,n=()=>t();return React.createElement(Box,{className:i.introCard},React.createElement(Typography,{variant:"subtitle2"},e),React.createElement(Box,{className:i.introDismiss},React.createElement(IconButton,{onClick:n,className:i.introDismissLink},React.createElement(CloseIcon,{className:i.introDismissIcon}),React.createElement(Typography,{component:"span",className:i.introDismissText},"Dismiss"))))}const Yl=a=>{const{text:r,onDismiss:i}=a,[e,t]=useState(!1),n=()=>{t(!0)};return React.createElement(Collapse,{in:!e,onExited:i},React.createElement(Ad,{text:r,onClose:n}))},Ql=null,Xl="And your recently viewed plugins will pop up here!";function _l(a){const{isOpen:r}=Ea(),i={starredItemsDismissed:!1,recentlyViewedItemsDismissed:!1},{value:e,set:t}=useLocalStorageValue(Bl),{starredItemsDismissed:n,recentlyViewedItemsDismissed:s}=e!=null?e:{},o=()=>{t(d=>({...i,...d,starredItemsDismissed:!0}))},c=()=>{t(d=>({...i,...d,recentlyViewedItemsDismissed:!0}))};return r?React.createElement(React.Fragment,null,!n&&React.createElement(React.Fragment,null,React.createElement(Yl,{text:Ql,onDismiss:o}),React.createElement(Id,null)),!s&&React.createElement(Yl,{text:Xl,onDismiss:c})):null}const ql=(0,S.Z)(a=>({root:{gridArea:"pageContent",minWidth:0,paddingTop:a.spacing(3),paddingBottom:a.spacing(3),paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}},stretch:{display:"flex",flexDirection:"column",flexGrow:1},noPadding:{padding:0}}),{name:"BackstageContent"});function rs(a){const{className:r,stretch:i,noPadding:e,children:t,...n}=a,{contentRef:s}=ho(),o=ql();return l.createElement("article",{ref:s,tabIndex:-1,...n,className:Te()(o.root,r,{[o.stretch]:i,[o.noPadding]:e})},t)}const Bd=(0,S.Z)(a=>({tabsWrapper:{gridArea:"pageSubheader",backgroundColor:a.palette.background.paper,paddingLeft:a.spacing(3),minWidth:0},defaultTab:{...a.typography.caption,padding:a.spacing(3,3),textTransform:"uppercase",fontWeight:a.typography.fontWeightBold,color:a.palette.text.secondary},selected:{color:a.palette.text.primary},tabRoot:{"&:hover":{backgroundColor:a.palette.background.default,color:a.palette.text.primary}}}),{name:"BackstageHeaderTabs"});function ec(a){const{tabs:r,onChange:i,selectedIndex:e}=a,[t,n]=(0,l.useState)(e!=null?e:0),s=Bd(),o=(0,l.useCallback)((c,d)=>{e===void 0&&n(d),i&&e!==d&&i(d)},[e,i]);return(0,l.useEffect)(()=>{e!==void 0&&n(e)},[e]),l.createElement(J.Z,{className:s.tabsWrapper},l.createElement(Ma.Z,{selectionFollowsFocus:!0,indicatorColor:"primary",textColor:"inherit",variant:"scrollable",scrollButtons:"auto","aria-label":"tabs",onChange:o,value:t},r.map((c,d)=>l.createElement(br.Z,{...c.tabProps,"data-testid":`header-tab-${d}`,label:c.label,key:c.id,value:d,className:s.defaultTab,classes:{selected:s.selected,root:s.tabRoot}}))))}function ss(a){var r,i,e,t;const n=(0,Xe.UO)(),o=a.map(({path:g,children:y})=>({caseSensitive:!1,path:`${g}/*`,element:y})).sort((g,y)=>y.path.replace(/\/\*$/,"").localeCompare(g.path.replace(/\/\*$/,""))),c=(r=(0,Xe.V$)(o))!=null?r:a[0].children;let d=(i=n["*"])!=null?i:"";d.startsWith("/")||(d=`/${d}`);const[u]=(e=(0,De.fp)(o,d))!=null?e:[],m=u?a.findIndex(g=>`${g.path}/*`===u.route.path):0;return{index:m===-1?0:m,element:c,route:(t=a[m])!=null?t:a[0]}}function tc(a){const{routes:r}=a,i=(0,Xe.s0)(),{index:e,route:t,element:n}=ss(r),s=(0,l.useMemo)(()=>r.map(c=>({id:c.path,label:c.title,tabProps:c.tabProps})),[r]),o=c=>{let{path:d}=r[c];d=d.replace(/\/\*$/,""),d=d.replace(/^\//,""),i(d)};return l.createElement(l.Fragment,null,l.createElement(ec,{tabs:s,selectedIndex:e,onChange:o}),l.createElement(rs,null,l.createElement(ra.q,{title:t.title}),n))}const os=()=>null;(0,de.R5)(os,"core.gatherMountPoints",!0);function Eo(a){const r=l.createElement(os,{path:"",title:""},l.createElement("div",null)).type;return l.Children.toArray(a).flatMap(i=>{if(!(0,l.isValidElement)(i))return[];if(i.type===l.Fragment)return Eo(i.props.children);if(i.type!==r)throw new Error("Child of TabbedLayout must be an TabbedLayout.Route");const{path:e,title:t,children:n,tabProps:s}=i.props;return[{path:e,title:t,children:n,tabProps:s}]})}function bo(a){const r=Eo(a.children);return l.createElement(tc,{routes:r})}bo.Route=os;const is=(0,S.Z)(a=>({value:{marginBottom:a.spacing(.75)},subvalue:{color:a.palette.textSubtle,fontWeight:"normal"}}),{name:"BackstageSubvalueCell"});function nc(a){const{value:r,subvalue:i}=a,e=is();return React.createElement(React.Fragment,null,React.createElement(Box,{className:e.value},r),React.createElement(Box,{className:e.subvalue},i))}const ac=(0,S.Z)(a=>({root:{height:"100%",width:"315px",display:"flex",flexDirection:"column",marginRight:a.spacing(3)},value:{fontWeight:"bold",fontSize:18},header:{display:"flex",alignItems:"center",height:a.spacing(7.5),justifyContent:"space-between",borderBottom:`1px solid ${a.palette.grey[500]}`},filters:{display:"flex",flexDirection:"column","& > *":{marginTop:a.spacing(2)}}}),{name:"BackstageTableFilters"}),rc=a=>{var r;const i=ac(),{onChangeFilters:e}=a,[t,n]=(0,l.useState)({...a.selectedFilters}),[s,o]=(0,l.useState)(!1),c=()=>{n({}),o(d=>!d)};return(0,l.useEffect)(()=>{e(t)},[t,e]),l.createElement(J.Z,{className:i.root},l.createElement(J.Z,{className:i.header},l.createElement(J.Z,{className:i.value},"Filters"),l.createElement(nt.Z,{color:"primary",onClick:c},"Clear all")),l.createElement(J.Z,{className:i.filters},((r=a.filters)==null?void 0:r.length)&&a.filters.map(d=>l.createElement(cl,{triggerReset:s,key:d.element.label,...d.element,selected:t[d.element.label],onChange:u=>n({...t,[d.element.label]:u})}))))},sc={Add:(0,l.forwardRef)((a,r)=>l.createElement(Es.Z,{...a,ref:r})),Check:(0,l.forwardRef)((a,r)=>l.createElement(Wa.Z,{...a,ref:r})),Clear:(0,l.forwardRef)((a,r)=>l.createElement(za.Z,{...a,ref:r})),Delete:(0,l.forwardRef)((a,r)=>l.createElement(xr.Z,{...a,ref:r})),DetailPanel:(0,l.forwardRef)((a,r)=>l.createElement(Ca.Z,{...a,ref:r})),Edit:(0,l.forwardRef)((a,r)=>l.createElement(Ha.Z,{...a,ref:r})),Export:(0,l.forwardRef)((a,r)=>l.createElement(Cr.Z,{...a,ref:r})),Filter:(0,l.forwardRef)((a,r)=>l.createElement(ia.Z,{...a,ref:r})),FirstPage:(0,l.forwardRef)((a,r)=>l.createElement(Sr.Z,{...a,ref:r})),LastPage:(0,l.forwardRef)((a,r)=>l.createElement(la.Z,{...a,ref:r})),NextPage:(0,l.forwardRef)((a,r)=>l.createElement(Ca.Z,{...a,ref:r})),PreviousPage:(0,l.forwardRef)((a,r)=>l.createElement(ys.Z,{...a,ref:r})),ResetSearch:(0,l.forwardRef)((a,r)=>l.createElement(za.Z,{...a,ref:r})),Search:(0,l.forwardRef)((a,r)=>l.createElement(ia.Z,{...a,ref:r})),SortArrow:(0,l.forwardRef)((a,r)=>l.createElement(oa.Z,{...a,ref:r})),ThirdStateCheck:(0,l.forwardRef)((a,r)=>l.createElement(Rr.Z,{...a,ref:r})),ViewColumn:(0,l.forwardRef)((a,r)=>l.createElement(Fa.Z,{...a,ref:r}))};function xo(a,r){const i=r.split(".");let e=a[i[0]];for(let t=1;t<i.length;++t){if(e===void 0)return e;const n=i[t];e=e[n]}return e}const oc=(0,oe.Z)(a=>({header:{padding:a.spacing(1,2,1,2.5),borderTop:`1px solid ${a.palette.grey.A100}`,borderBottom:`1px solid ${a.palette.grey.A100}`,color:a.palette.textSubtle,fontWeight:a.typography.fontWeightBold,position:"static",wordBreak:"normal"}}),{name:"BackstageTableHeader"})(On.W$),ls=(0,oe.Z)(a=>({root:{padding:a.spacing(3,0,2.5,2.5)},title:{"& > h6":{fontWeight:a.typography.fontWeightBold}},searchField:{paddingRight:a.spacing(2)}}),{name:"BackstageTableToolbar"})(On.UW),So=(0,S.Z)(a=>({root:{display:"flex",alignItems:"center",justifyContent:"space-between"},title:{fontWeight:a.typography.fontWeightBold,fontSize:18,whiteSpace:"nowrap"}}),{name:"BackstageTableFiltersContainer"}),ic=(0,S.Z)(()=>({root:{display:"flex",alignItems:"start"}}),{name:"BackstageTable"});function Ro(a,r){return a.map(i=>{var e;const t=(e=i.headerStyle)!=null?e:{};let n=i.cellStyle||{};if(i.highlight)if(t.color=r.palette.textContrast,typeof n=="object")n.fontWeight=r.typography.fontWeightBold;else{const s=n;n=(o,c,d)=>({...s(o,c,d),fontWeight:r.typography.fontWeightBold})}return{...i,headerStyle:t,cellStyle:n}})}function lc(a,r){return(0,Ie.transform)(a,(i,e,t)=>{(0,Ie.isEqual)(e,r[t])||(i[t]=e)})}const Co={search:"",filtersOpen:!1,filters:{}};function cc(a){const{toolbarRef:r,setSearch:i,hasFilters:e,selectedFiltersLength:t,toggleFilters:n}=a,s=So(),o=(0,l.useCallback)(c=>{a.onSearchChanged(c),i(c)},[a,i]);return e?l.createElement(J.Z,{className:s.root},l.createElement(J.Z,{className:s.root},l.createElement(Ee.Z,{onClick:n,"aria-label":"filter list"},l.createElement(ia.Z,null)),l.createElement(L.Z,{className:s.title},"Filters (",t,")")),l.createElement(ls,{...a,ref:r,onSearchChanged:o})):l.createElement(ls,{...a,ref:r,onSearchChanged:o})}function ko(a){const{data:r,columns:i,options:e,title:t,subtitle:n,filters:s,initialState:o,emptyContent:c,onStateChange:d,components:u,...m}=a,g=ic(),y=(0,we.Z)(),b={...Co,...o},[x,k]=(0,l.useState)(b.filtersOpen),I=(0,l.useCallback)(()=>k(Oe=>!Oe),[k]),[B,M]=(0,l.useState)(0),[D,G]=(0,l.useState)(r),[U,K]=(0,l.useState)(b.filters),ae=Ro(i,y),[te,Be]=(0,l.useState)(b.search);(0,l.useEffect)(()=>{if(d){const Oe=lc({search:te,filtersOpen:x,filters:U},Co);d(Oe)}},[te,x,U,d]);const Ue={headerStyle:{textTransform:"uppercase"}},Pe=(0,l.useCallback)(Oe=>{var ye;return(ye=i.find(Ve=>Ve.title===Oe))==null?void 0:ye.field},[i]);(0,l.useEffect)(()=>{if(typeof r=="function")return;if(!U){G(r);return}const Oe=Object.values(U);if(r&&Oe.flat().length){const ye=r.filter(Ve=>!!Object.entries(U).filter(([,fe])=>!!fe.length).every(([fe,le])=>{const ve=xo(Ve,Pe(fe));return Array.isArray(ve)&&Array.isArray(le)?ve.some(Ge=>le.includes(Ge)):Array.isArray(ve)?ve.includes(le):Array.isArray(le)?le.includes(ve):ve===le}));G(ye)}else G(r);M(Oe.flat().length)},[r,U,Pe]);const gt=(Oe,ye)=>{const Ve=le=>{const ve=new Set,Ge=he=>{he!=null&&ve.add(he)};return ye&&ye.forEach(he=>{const Ze=xo(he,Pe(le));Array.isArray(Ze)?Ze.forEach(Ge):Ge(Ze)}),ve},fe=le=>({placeholder:"All results",label:le.column,multiple:le.type==="multiple-select",items:[...Ve(le.column)].sort().map(ve=>({label:ve,value:ve}))});return Oe.map(le=>({type:le.type,element:fe(le)}))},ge=!!(s!=null&&s.length),et=(0,l.useCallback)(Oe=>l.createElement(cc,{setSearch:Be,hasFilters:ge,selectedFiltersLength:B,toggleFilters:I,...Oe}),[I,ge,B,Be]),Jt=typeof r!="function"&&r.length===0,re=i.length,lt=(0,l.useCallback)(Oe=>c&&Jt?l.createElement("tbody",null,l.createElement("tr",null,l.createElement("td",{colSpan:re},c))):l.createElement(On.os,{...Oe}),[Jt,c,re]);return l.createElement(J.Z,{className:g.root},x&&r&&typeof r!="function"&&(s==null?void 0:s.length)&&l.createElement(rc,{filters:gt(s,r),selectedFilters:U,onChangeFilters:K}),l.createElement(On.ZP,{components:{Header:oc,Toolbar:et,Body:lt,...u},options:{...Ue,...e},columns:ae,icons:sc,title:l.createElement(l.Fragment,null,l.createElement(L.Z,{variant:"h5",component:"h2"},t),n&&l.createElement(L.Z,{color:"textSecondary",variant:"body1"},n)),data:typeof r=="function"?r:D,style:{width:"100%"},localization:{toolbar:{searchPlaceholder:"Filter",searchTooltip:"Filter"}},...m}))}ko.icons=Object.freeze(sc);function wo(a,r){if(r<=0)return[a];const i=[];for(let e=0;e<a.length;e+=r)i.push(a.slice(e,e+r));return i}const To=a=>{const{children:r,value:i,index:e,...t}=a;return React.createElement(Box,{role:"tabpanel",hidden:i!==e,"aria-labelledby":`scrollable-auto-tab-${e}`,...t},i===e&&React.createElement(Box,{p:3},r))},Io=(0,S.Z)(a=>({root:{color:"#6E6E6E",overflow:"visible",fontSize:a.typography.h5.fontSize,textAlign:"center",borderRadius:"50%",backgroundColor:"#E6E6E6",marginLeft:r=>r.isNext?"auto":"0",marginRight:r=>r.isNext?"0":a.spacing(1.25),"&:hover":{backgroundColor:"#E6E6E6",opacity:"1"}}}),{name:"BackstageTabIcon"}),No=a=>{const r=Io(a),{ariaLabel:i,onClick:e}=a;return React.createElement(IconButton,{onClick:e,className:r.root,size:"small",disableRipple:!0,disableFocusRipple:!0,"aria-label":i},a.children)},Zo=(a,r)=>r?a?"20px":"0":"40px",dc=(0,S.Z)(a=>({root:{textTransform:"none",height:"64px",fontWeight:a.typography.fontWeightBold,fontSize:a.typography.pxToRem(13),color:a.palette.textSubtle,marginLeft:r=>Zo(r.isFirstNav,r.isFirstIndex),width:"130px",minWidth:"130px","&:hover":{outline:"none",backgroundColor:"transparent",color:a.palette.textSubtle}}}),{name:"BackstageTab"}),Ao=a=>{const r=dc(a),{isFirstNav:i,isFirstIndex:e,...t}=a;return React.createElement(Tab,{classes:r,disableRipple:!0,...t})},uc=(0,S.Z)(a=>({indicator:{display:"flex",justifyContent:"center",backgroundColor:a.palette.tabbar.indicator,height:a.spacing(.5)},flexContainer:{alignItems:"center"},root:{"&:last-child":{marginLeft:"auto"}}}),{name:"BackstageTabBar"}),pc=a=>{const r=uc(a);return React.createElement(Tabs$1,{classes:r,...a,TabIndicatorProps:{children:React.createElement(Typography,{component:"span"})}})},mc=(0,S.Z)(a=>({root:{flexGrow:1,width:"100%"},styledTabs:{backgroundColor:a.palette.background.paper},appbar:{boxShadow:"none",backgroundColor:a.palette.background.paper,paddingLeft:a.spacing(1.25),paddingRight:a.spacing(1.25)}}),{name:"BackstageTabs"});function Pd(a){const{tabs:r}=a,i=mc(),[e,t]=useState([0,0]),[n,s]=useState(0),[o,c]=useState(0),[d,u]=useState([[]]),m=useRef(),{width:g}=useWindowSize(),y=(B,M)=>{t([n,M])},b=()=>{s(n-1)},x=()=>{s(n+1)},k=()=>n+1<d.length;useEffect(()=>{const M=n===0?1:2,D=m.current.offsetWidth-20-M*30,G=e[0]*o+e[1],U=Math.floor(D/170);c(U),u(wo(r,U)),t([Math.floor(G/U),G%U])},[g,r]);const I=n===e[0]?e[1]:!1;return React.createElement(Box,{className:i.root},React.createElement(AppBar,{ref:m,className:i.appbar,position:"static"},React.createElement(Box,null,React.createElement(pc,{value:I,onChange:y,selectionFollowsFocus:!0},n!==0&&React.createElement(No,{onClick:b,ariaLabel:"navigate-before"},React.createElement(NavigateBeforeIcon,null)),d[n].map((B,M)=>React.createElement(Ao,{value:M,isFirstIndex:M===0,isFirstNav:n===0,key:M,icon:B.icon||void 0,label:B.label||void 0})),k()&&React.createElement(No,{isNext:!0,onClick:x,ariaLabel:"navigate-next"},React.createElement(NavigateNextIcon,null))))),I!==!1?d[n].map((B,M)=>React.createElement(To,{key:M,value:M,index:I},B.content)):React.createElement(To,{key:"panel_outside_chunked_array",value:e[1],index:e[1]},d[e[0]][e[1]].content))}function gc(a,r){const i=a[a.length-1];if(i)return i>=.9?r.palette.status.ok:i>=.5?r.palette.status.warning:r.palette.status.error}function Od(a){var r;const i=useTheme();return a.data?React.createElement(Sparklines,{width:120,height:30,min:0,max:1,...a},a.title&&React.createElement("title",null,a.title),React.createElement(SparklinesLine,{color:(r=a.color)!=null?r:gc(a.data,i)})):null}const Ld=a=>makeStyles(r=>({container:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-end",alignItems:"center",marginBottom:r.spacing(2),textAlign:a.textAlign},leftItemsBox:{flex:"1 1 auto",minWidth:0,overflow:"visible"},rightItemsBox:{flex:"0 1 auto",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",marginLeft:r.spacing(1),minWidth:0,overflow:"visible"},description:{},title:{display:"inline-flex",marginBottom:0}}),{name:"BackstageContentHeader"}),fc=({title:a="Unknown page",className:r})=>React.createElement(Typography,{variant:"h4",component:"h2",className:r,"data-testid":"header-title"},a);function $d(a){const{description:r,title:i,titleComponent:e=void 0,children:t,textAlign:n="left"}=a,s=Ld({textAlign:n})(),o=e||React.createElement(fc,{title:i,className:s.title});return React.createElement(React.Fragment,null,React.createElement(Helmet,{title:i}),React.createElement(Box,{className:s.container},React.createElement(Box,{className:s.leftItemsBox},o,r&&React.createElement(Typography,{className:s.description,variant:"body2"},r)),React.createElement(Box,{className:s.rightItemsBox},t)))}const hc=(0,S.Z)(a=>({micDrop:{maxWidth:"60%",bottom:a.spacing(2),right:a.spacing(2),[a.breakpoints.down("xs")]:{maxWidth:"96%",bottom:"unset",right:"unset",margin:`${a.spacing(10)}px auto ${a.spacing(4)}px`}}}),{name:"BackstageErrorPageMicDrop"}),yc=()=>{const a=hc();return React.createElement("img",{src:MicDropSvgUrl,className:a.micDrop,alt:"Girl dropping mic from her hands"})},vc=(0,S.Z)(a=>({container:{padding:a.spacing(8),[a.breakpoints.down("xs")]:{padding:a.spacing(2)}},title:{paddingBottom:a.spacing(5),[a.breakpoints.down("xs")]:{paddingBottom:a.spacing(4),fontSize:a.typography.h3.fontSize}},subtitle:{color:a.palette.textSubtle}}),{name:"BackstageErrorPage"});function Dd(a){const{status:r,statusMessage:i,additionalInfo:e,supportUrl:t}=a,n=vc(),s=useNavigate(),o=no();return React.createElement(Grid,{container:!0,spacing:0,className:n.container},React.createElement(Grid,{item:!0,xs:12,sm:8,md:4},React.createElement(Typography,{"data-testid":"error",variant:"body1",className:n.subtitle},"ERROR ",r,": ",i),React.createElement(Typography,{variant:"body1",className:n.subtitle},e),React.createElement(Typography,{variant:"h2",className:n.title},"Looks like someone dropped the mic!"),React.createElement(Typography,{variant:"h6"},React.createElement(jt,{to:"#","data-testid":"go-back-link",onClick:()=>s(-1)},"Go back"),"... or please"," ",React.createElement(jt,{to:t||o.url},"contact support")," if you think this is a bug.")),React.createElement(yc,null))}const Ec=(0,oe.Z)({root:{textDecoration:"underline",cursor:"pointer"}},{name:"BackstageBreadcrumbsClickableText"})(L.Z),cs=(0,oe.Z)({root:{textDecoration:"underline",color:"inherit"}},{name:"BackstageBreadcrumbsStyledBox"})(J.Z);function Md(a){const{children:r,...i}=a,[e,t]=React.useState(null),n=React.Children.toArray(r),[s,o,...c]=n,d=c.length?c.pop():n[n.length-1],u=n.length>3,m=b=>{t(b.currentTarget)},g=()=>{t(null)},y=Boolean(e);return React.createElement(Fragment,null,React.createElement(MaterialBreadcrumbs,{"aria-label":"breadcrumb",...i},n.length>1&&React.createElement(cs,{clone:!0},s),n.length>2&&React.createElement(cs,{clone:!0},o),u&&React.createElement(Ec,{onClick:m},"..."),React.createElement(Box,{style:{fontStyle:"italic"}},d)),React.createElement(Popover,{open:y,anchorEl:e,onClose:g,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},React.createElement(List,null,c.map((b,x)=>React.createElement(ListItem,{key:x,button:!0},React.createElement(cs,{clone:!0},b))))))}const bc=(0,S.Z)(a=>({header:{gridArea:"pageHeader",padding:a.spacing(3),width:"100%",boxShadow:a.shadows[4],position:"relative",zIndex:100,display:"flex",flexDirection:"row",alignItems:"center",backgroundImage:a.page.backgroundImage,backgroundPosition:"center",backgroundSize:"cover",[a.breakpoints.down("sm")]:{flexWrap:"wrap"}},leftItemsBox:{maxWidth:"100%",flexGrow:1},rightItemsBox:{width:"auto",alignItems:"center"},title:{color:a.page.fontColor,wordBreak:"break-word",fontSize:a.typography.h3.fontSize,marginBottom:0},subtitle:{color:a.page.fontColor,opacity:.8,display:"inline-block",marginTop:a.spacing(1),maxWidth:"75ch"},type:{textTransform:"uppercase",fontSize:11,opacity:.8,marginBottom:a.spacing(1),color:a.page.fontColor},breadcrumb:{color:a.page.fontColor},breadcrumbType:{fontSize:"inherit",opacity:.7,marginRight:-a.spacing(.3),marginBottom:a.spacing(.3)},breadcrumbTitle:{fontSize:"inherit",marginLeft:-a.spacing(.3),marginBottom:a.spacing(.3)}}),{name:"BackstageHeader"}),ds=({type:a,typeLink:r,classes:i,pageTitle:e})=>a?r?React.createElement(Md,{className:i.breadcrumb},React.createElement(jt,{to:r},a),React.createElement(Typography,null,e)):React.createElement(Typography,{className:i.type},a):null,xc=({pageTitle:a,classes:r,tooltip:i})=>{const e=React.createElement(Typography,{className:r.title,variant:"h1"},a);return i?React.createElement(Tooltip,{title:i,placement:"top-start"},e):e},Sc=({classes:a,subtitle:r})=>r?typeof r!="string"?React.createElement(React.Fragment,null,r):React.createElement(Typography,{className:a.subtitle,variant:"subtitle2",component:"span"},r):null;function us(a){const{children:r,pageTitleOverride:i,style:e,subtitle:t,title:n,tooltip:s,type:o,typeLink:c}=a,d=bc(),m=useApi(configApiRef).getOptionalString("app.title")||"Backstage",g=i||n,y=n||i,b=`${g} | %s | ${m}`,x=`${g} | ${m}`;return React.createElement(React.Fragment,null,React.createElement(Helmet,{titleTemplate:b,defaultTitle:x}),React.createElement("header",{style:e,className:d.header},React.createElement(Box,{className:d.leftItemsBox},React.createElement(ds,{classes:d,type:o,typeLink:c,pageTitle:y}),React.createElement(xc,{classes:d,pageTitle:y,tooltip:s}),React.createElement(Sc,{classes:d,subtitle:t})),React.createElement(Grid,{container:!0,className:d.rightItemsBox,spacing:4},r)))}const Rc=({label:a,secondaryLabel:r,icon:i,disabled:e=!1,onClick:t})=>React.createElement(Fragment,null,React.createElement(ListItem,{"data-testid":"header-action-item",disabled:e,button:!0,onClick:n=>{t&&t(n)}},i&&React.createElement(ListItemIcon,null,i),React.createElement(ListItemText,{primary:a,secondary:r})));function Wd(a){const{palette:{common:{white:r}}}=useTheme(),{actionItems:i}=a,[e,t]=React.useState(!1),n=React.useRef(null);return React.createElement(Fragment,null,React.createElement(IconButton,{onClick:()=>t(!0),"data-testid":"header-action-menu",ref:n,style:{color:r,height:56,width:56,marginRight:-4,padding:0}},React.createElement(MoreVert,null)),React.createElement(Popover,{open:e,anchorEl:n.current,anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},onClose:()=>t(!1)},React.createElement(List,null,i.map((s,o)=>React.createElement(Rc,{key:`header-action-menu-${o}`,...s})))))}const lr=(0,S.Z)(a=>({root:{textAlign:"left"},label:{color:a.palette.common.white,fontWeight:a.typography.fontWeightBold,letterSpacing:0,fontSize:a.typography.fontSize,marginBottom:a.spacing(1)/2,lineHeight:1},value:{color:"rgba(255, 255, 255, 0.8)",fontSize:a.typography.fontSize,lineHeight:1}}),{name:"BackstageHeaderLabel"}),Cc=({value:a,className:r})=>React.createElement(Typography,{className:r},a);function ou(a){const{label:r,value:i,url:e}=a,t=lr(),n=React.createElement(Cc,{className:t.value,value:i||"<Unknown>"});return React.createElement(Grid,{item:!0},React.createElement(Typography,{component:"span",className:t.root},React.createElement(Typography,{className:t.label},r),e?React.createElement(jt,{to:e},n):n))}const kc=a=>(0,be.Z)({root:{color:a.palette.common.white,padding:a.spacing(2,2,3),backgroundImage:a.getPageTheme({themeId:"card"}).backgroundImage,backgroundPosition:0,backgroundSize:"inherit"}}),wc=(0,S.Z)(kc,{name:"BackstageItemCardHeader"});function zd(a){const{title:r,subtitle:i,children:e}=a,t=wc(a);return React.createElement(Box,{className:t.root},i&&React.createElement(Typography,{variant:"subtitle2",component:"h3"},i),r&&React.createElement(Typography,{variant:"h6",component:"h4"},r),e)}function Hd(a){const{description:r,tags:i,title:e,type:t,subtitle:n,label:s,onClick:o,href:c}=a;return React.createElement(Card,null,React.createElement(CardMedia,null,React.createElement(zd,{title:e,subtitle:n||t})),React.createElement(CardContent,null,i!=null&&i.length?React.createElement(Box,null,i.map((d,u)=>React.createElement(Chip,{size:"small",label:d,key:u}))):null,r),React.createElement(CardActions,null,!c&&React.createElement(ma,{to:"#",onClick:o,color:"primary"},s),c&&React.createElement(ma,{to:c,color:"primary"},s)))}const Tc=a=>(0,be.Z)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(22em, 1fr))",gridAutoRows:"1fr",gridGap:a.spacing(2)}}),Ic=(0,S.Z)(Tc,{name:"BackstageItemCardGrid"});function iu(a){const{children:r,...i}=a,e=Ic(i);return React.createElement(Box,{className:e.root,...i},r)}const Nc=(0,S.Z)(a=>({root:{display:"grid",gridTemplateAreas:"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'",gridTemplateRows:"max-content auto 1fr",gridTemplateColumns:"auto 1fr auto",overflowY:"auto",height:"100vh",[a.breakpoints.down("xs")]:{height:"100%"}}}),{name:"BackstagePage"});function ps(a){const{themeId:r,children:i}=a,e=Nc();return React.createElement(ThemeProvider,{theme:t=>({...t,page:t.getPageTheme({themeId:r})})},React.createElement("main",{className:e.root},i))}function Fd(a){const{themeId:r,children:i,...e}=a;return React.createElement(ps,{themeId:r},React.createElement(us,{...e}),i)}const Zc=Ft.object({providerInfo:Ft.object({}).catchall(Ft.unknown()).optional(),profile:Ft.object({email:Ft.string().optional(),displayName:Ft.string().optional(),picture:Ft.string().optional()}),backstageIdentity:Ft.object({token:Ft.string(),identity:Ft.object({type:Ft.literal("user"),userEntityRef:Ft.string(),ownershipEntityRefs:Ft.array(Ft.string())})})}),xa={defaultTokenExpiryMillis:5*60*1e3,tokenExpiryMarginMillis:5*60*1e3};function jd(a){const r=new Date(Date.now()+xa.defaultTokenExpiryMillis);if(!a)return r;const[i,e,t]=a.split("."),n=JSON.parse(window.atob(e));return typeof n.exp!="number"?r:new Date(n.exp*1e3-xa.tokenExpiryMarginMillis)}class Ac{constructor(r){this.options=r,this.abortController=new AbortController,this.state={type:"empty"}}async start(){await this.getSessionAsync()}getUserId(){const{backstageIdentity:r}=this.getSessionSync(),i=r.identity.userEntityRef,e=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(i);if(!e)throw new TypeError(`Invalid user entity reference "${i}"`);return e[3]}async getIdToken(){return(await this.getSessionAsync()).backstageIdentity.token}getProfile(){return this.getSessionSync().profile}async getProfileInfo(){return(await this.getSessionAsync()).profile}async getBackstageIdentity(){return(await this.getSessionAsync()).backstageIdentity.identity}async getCredentials(){return{token:(await this.getSessionAsync()).backstageIdentity.token}}async signOut(){this.abortController.abort()}getSessionSync(){if(this.state.type==="active")return this.state.session;if(this.state.type==="fetching"&&this.state.previous)return this.state.previous;throw new Error("No session available. Try reloading your browser page.")}async getSessionAsync(){if(this.state.type==="fetching")return this.state.promise;if(this.state.type==="active"&&new Date<this.state.expiresAt)return this.state.session;const r=this.state.type==="active"?this.state.session:void 0,i=this.fetchSession().then(e=>(this.state={type:"active",session:e,expiresAt:jd(e.backstageIdentity.token)},e),e=>{throw this.state={type:"failed",error:e},e});return this.state={type:"fetching",promise:i,previous:r},i}async fetchSession(){const r=await this.options.discoveryApi.getBaseUrl("auth"),i=typeof this.options.headers=="function"?await this.options.headers():this.options.headers,e=new Headers(i);e.set("X-Requested-With","XMLHttpRequest");const t=await fetch(`${r}/${this.options.provider}/refresh`,{signal:this.abortController.signal,headers:e,credentials:"include"});if(!t.ok)throw await ResponseError.fromResponse(t);return Zc.parse(await t.json())}}const Bc=a=>{const r=useApi(discoveryApiRef),[{status:i,error:e},{execute:t}]=useAsync(async()=>{const n=new Ac({provider:a.provider,discoveryApi:r,headers:a.headers});await n.start(),a.onSignInSuccess(n)});return useMountEffect(t),i==="loading"?React.createElement(Fr,null):e?React.createElement(Ya,{title:"You do not appear to be signed in. Please try reloading the browser page.",error:e}):null};class ms{getUserId(){return"guest"}async getIdToken(){}getProfile(){return{email:"guest@example.com",displayName:"Guest"}}async getProfileInfo(){return{email:"guest@example.com",displayName:"Guest"}}async getBackstageIdentity(){const r="user:default/guest";return{type:"user",userEntityRef:r,ownershipEntityRefs:[r]}}async getCredentials(){return{}}async signOut(){}}function Pc(a){const[r,i,e]=a.split(".");return JSON.parse(window.atob(i))}class Bo{constructor(r){this.result=r}getUserId(){return this.result.userId}static fromResult(r){return new Bo(r)}async getIdToken(){var r,i;return(i=(r=this.result).getIdToken)==null?void 0:i.call(r)}getProfile(){return this.result.profile}async getProfileInfo(){return this.result.profile}async getBackstageIdentity(){const r=await this.getIdToken();if(!r){const t=`user:default/${this.getUserId()}`;return{type:"user",userEntityRef:t,ownershipEntityRefs:[t]}}const{sub:i,ent:e}=Pc(r);return{type:"user",userEntityRef:i,ownershipEntityRefs:e!=null?e:[]}}async getCredentials(){var r,i;return{token:await((i=(r=this.result).getIdToken)==null?void 0:i.call(r))}}async signOut(){var r,i;return(i=(r=this.result).signOut)==null?void 0:i.call(r)}}class wn{constructor(r,i,e){this.identity=r,this.authApi=i,this.profile=e}static createGuest(){return new ms}static fromLegacy(r){return Bo.fromResult(r)}static create(r){return new wn(r.identity,r.authApi,r.profile)}getUserId(){const r=this.identity.userEntityRef,i=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(r);if(!i)throw new TypeError(`Invalid user entity reference "${r}"`);return i[3]}async getIdToken(){return(await this.authApi.getBackstageIdentity()).token}getProfile(){if(!this.profile)throw new Error("The identity API does not implement synchronous profile fetching, use getProfileInfo() instead");return this.profile}async getProfileInfo(){if(this.profilePromise)return await this.profilePromise;try{return this.profilePromise=this.authApi.getProfile(),await this.profilePromise}catch(r){throw this.profilePromise=void 0,r}}async getBackstageIdentity(){return this.identity}async getCredentials(){return{token:(await this.authApi.getBackstageIdentity()).token}}async signOut(){return this.authApi.signOut()}}const gs=(0,S.Z)({container:{padding:0,listStyle:"none"},item:{display:"flex",flexDirection:"column",width:"100%",maxWidth:"400px",margin:0,padding:0}},{name:"BackstageSignInPage"}),Qn=({children:a})=>{const r=gs();return l.createElement(W.Z,{component:"li",item:!0,classes:r},a)},cr={Component:({config:a,onSignInSuccess:r})=>{const{apiRef:i,title:e,message:t}=a,n=(0,j.u)(i),s=(0,j.u)(j.r),o=async()=>{try{const c=await n.getBackstageIdentity({instantPopup:!0});if(!c)throw new Error(`The ${e} provider is not configured to support sign-in`);const d=await n.getProfile();r(wn.create({identity:c.identity,profile:d,authApi:n}))}catch(c){s.post(new ka.SP("Login failed",c))}};return l.createElement(Qn,null,l.createElement(va,{variant:"fullHeight",title:e,actions:l.createElement(nt.Z,{color:"primary",variant:"outlined",onClick:o},"Sign In")},l.createElement(L.Z,{variant:"body1"},t)))},loader:async(a,r)=>{const i=a.get(r),e=await i.getBackstageIdentity({optional:!0});if(!e)return;const t=await i.getProfile();return wn.create({identity:e.identity,profile:t,authApi:i})}},Oc={Component:({onSignInSuccess:a})=>l.createElement(Qn,null,l.createElement(va,{title:"Guest",variant:"fullHeight",actions:l.createElement(nt.Z,{color:"primary",variant:"outlined",onClick:()=>a(new ms)},"Enter")},l.createElement(L.Z,{variant:"body1"},"Enter as a Guest User.",l.createElement("br",null),"You will not have a verified identity,",l.createElement("br",null),"meaning some features might be unavailable."))),loader:async()=>new ms},Ud=/^[a-z0-9_\-]+\.[a-z0-9_\-]+\.[a-z0-9_\-]+$/i,Vd=(0,S.Z)(a=>({form:{display:"flex",flexFlow:"column nowrap"},button:{alignSelf:"center",marginTop:a.spacing(2)}}),{name:"BackstageCustomProvider"}),Oo=a=>{const{ref:r,...i}=a;return{inputRef:r,...i}},Lo={Component:({onSignInSuccess:a})=>{const r=Vd(),{register:i,handleSubmit:e,formState:t}=(0,Fc.cI)({mode:"onChange"}),{errors:n}=t,s=({userId:o,idToken:c})=>{a(wn.fromLegacy({userId:o,getIdToken:c!==void 0?async()=>c:void 0,profile:{email:`${o}@example.com`}}))};return l.createElement(Qn,null,l.createElement(va,{title:"Custom User",variant:"fullHeight"},l.createElement(L.Z,{variant:"body1"},"Enter your own User ID and credentials.",l.createElement("br",null),"This selection will not be stored."),l.createElement("form",{className:r.form,onSubmit:e(s)},l.createElement(ta.Z,null,l.createElement(ja.Z,{...Oo(i("userId",{required:!0})),label:"User ID",margin:"normal",error:Boolean(n.userId)}),n.userId&&l.createElement(ii.Z,{error:!0},n.userId.message)),l.createElement(ta.Z,null,l.createElement(ja.Z,{...Oo(i("idToken",{required:!1,validate:o=>!o||Ud.test(o)||"Token is not a valid OpenID Connect JWT Token"})),label:"ID Token (optional)",margin:"normal",autoComplete:"off",error:Boolean(n.idToken)}),n.idToken&&l.createElement(ii.Z,{error:!0},n.idToken.message)),l.createElement(nt.Z,{type:"submit",color:"primary",variant:"outlined",className:r.button,disabled:!(t!=null&&t.isDirty)||!li()(n)},"Continue"))))},loader:async()=>{}};class $o{constructor(r){this.config=r}static from(r){return new $o(r)}getUserId(){if(!this.config.identityApi.getUserId)throw new Error("SignOutProxy IdentityApi.getUserId is not implemented");return this.config.identityApi.getUserId()}getIdToken(){if(!this.config.identityApi.getIdToken)throw new Error("SignOutProxy IdentityApi.getIdToken is not implemented");return this.config.identityApi.getIdToken()}getProfile(){if(!this.config.identityApi.getProfile)throw new Error("SignOutProxy IdentityApi.getProfile is not implemented");return this.config.identityApi.getProfile()}getProfileInfo(){return this.config.identityApi.getProfileInfo()}getBackstageIdentity(){return this.config.identityApi.getBackstageIdentity()}getCredentials(){return this.config.identityApi.getCredentials()}signOut(){return this.config.signOut()}}const fs="@backstage/core:SignInPage:provider",Do={guest:Oc,custom:Lo,common:cr};function dr(a,r){if(a in r)throw new Error(`"${a}" ID is duplicated. IDs of identity providers have to be unique.`)}function ur(a){return a.reduce((i,e)=>{if(typeof e=="string")return dr(e,i),i[e]={components:Do[e],id:e},i;const{id:t}=e;return dr(t,i),i[t]={components:Do.common,id:t,config:e},i},{})}const Mo=(a,r)=>{const i=useApi(errorApiRef),e=useApiHolder(),[t,n]=useState(!0),s=useCallback(c=>{r($o.from({identityApi:c,signOut:async()=>{var d;localStorage.removeItem(fs),await((d=c.signOut)==null?void 0:d.call(c))}}))},[r]);useLayoutEffect(()=>{var c;if(!t)return;const d=localStorage.getItem(fs);if(d===null){n(!1);return}const u=a[d];if(!u){n(!1);return}let m=!1;return u.components.loader(e,(c=u.config)==null?void 0:c.apiRef).then(g=>{m||(g?s(g):n(!1))}).catch(g=>{m||(localStorage.removeItem(fs),i.post(g),n(!1))}),()=>{m=!0}},[t,i,r,e,a,s]);const o=useMemo(()=>Object.keys(a).map(c=>{const d=a[c],{Component:u}=d.components,m=g=>{localStorage.setItem(fs,d.id),s(g)};return React.createElement(u,{key:d.id,config:d.config,onSignInSuccess:m})}),[a,s]);return[t,o]},Wo=({onSignInSuccess:a,providers:r=[],title:i,align:e="left"})=>{const t=useApi(configApiRef),n=gs(),s=ur(r),[o,c]=Mo(s,a);return o?React.createElement(Fr,null):React.createElement(ps,{themeId:"home"},React.createElement(us,{title:t.getString("app.title")}),React.createElement(rs,null,i&&React.createElement($d,{title:i,textAlign:e}),React.createElement(Grid,{container:!0,justifyContent:e==="center"?e:"flex-start",spacing:2,component:"ul",classes:n},c)))},Lc=({provider:a,auto:r,onSignInSuccess:i})=>{const e=gs(),t=useApi(a.apiRef),n=useApi(configApiRef),[s,o]=useState(),[c,d]=useState(!1),u=async({checkExisting:m,showPopup:g})=>{try{let y;if(m&&(y=await t.getBackstageIdentity({optional:!0})),!y&&(g||r)&&(d(!0),y=await t.getBackstageIdentity({instantPopup:!0}),!y))throw new Error(`The ${a.title} provider is not configured to support sign-in`);if(!y){d(!0);return}const b=await t.getProfile();i(wn.create({identity:y.identity,authApi:t,profile:b}))}catch(y){o(y),d(!0)}};return useMountEffect(()=>u({checkExisting:!0})),c?React.createElement(ps,{themeId:"home"},React.createElement(us,{title:n.getString("app.title")}),React.createElement(rs,null,React.createElement(Grid,{container:!0,justifyContent:"center",spacing:2,component:"ul",classes:e},React.createElement(Qn,null,React.createElement(va,{variant:"fullHeight",title:a.title,actions:React.createElement(Button$1,{color:"primary",variant:"outlined",onClick:()=>{u({showPopup:!0})}},"Sign In")},React.createElement(Typography,{variant:"body1"},a.message),s&&s.name!=="PopupRejectedError"&&React.createElement(Typography,{variant:"body1",color:"error"},s.message)))))):React.createElement(Fr,null)};function Jd(a){return"provider"in a?React.createElement(Lc,{...a}):React.createElement(Wo,{...a})}const $c=(0,S.Z)(a=>({root:{padding:a.spacing(0,2,0,2.5),minHeight:a.spacing(3)},indicator:{backgroundColor:a.palette.info.main,height:a.spacing(.3)}}),{name:"BackstageTabbedCard"}),Dc=(0,oe.Z)(a=>({root:{padding:a.spacing(2,2,2,2.5),display:"inline-block"},title:{fontWeight:700},subheader:{paddingTop:a.spacing(1)}}),{name:"BackstageTabbedCardBoldHeader"})(Na.Z);function du(a){const{slackChannel:r,errorBoundaryProps:i,children:e,title:t,deepLink:n,value:s,onChange:o}=a,c=$c(),[d,u]=useState(0),m=o||((b,x)=>u(x));let g;s?React.Children.map(e,b=>{var x;React.isValidElement(b)&&(b==null?void 0:b.props.value)===s&&(g=(x=b==null?void 0:b.props)==null?void 0:x.children)}):React.Children.map(e,(b,x)=>{React.isValidElement(b)&&x===d&&(g=b==null?void 0:b.props.children)});const y=i||(r?{slackChannel:r}:{});return React.createElement(Card,null,React.createElement(Fs,{...y},t&&React.createElement(Dc,{title:t}),React.createElement(Tabs$1,{selectionFollowsFocus:!0,classes:c,value:s||d,onChange:m},e),React.createElement(Divider,null),React.createElement(CardContent,null,g),n&&React.createElement(el,{...n})))}const Mc=(0,S.Z)(a=>({root:{minWidth:a.spacing(6),minHeight:a.spacing(3),margin:a.spacing(0,2,0,0),padding:a.spacing(.5,0,.5,0),textTransform:"none","&:hover":{opacity:1,backgroundColor:"transparent",color:a.palette.text.primary}},selected:{fontWeight:a.typography.fontWeightBold}}),{name:"BackstageCardTab"});function Yd(a){const{children:r,...i}=a,e=Mc();return React.createElement(Tab,{disableRipple:!0,classes:e,...i})}},24180:(Tn,ft,p)=>{p.d(ft,{A:()=>kr,I:()=>wr,L:()=>Mn,O:()=>N,a:()=>Nr,b:()=>Ma,c:()=>zt,d:()=>On,e:()=>xe,g:()=>sa,o:()=>Vt});var j=p(57032),de=p(30705),Ee=p(19034),L=p.n(Ee),h=p(2784),l=p(23860),S=p(72969),we=p(49828),Qe=p(61837),oe=p(48348),be=p(12231),ot=p(86136),nt=p(90436),We=p(79692),Ke=p(7089),Te=p(15459),Ie=p(80030),Xe=p(12420),dt=p(11776),De=p(38402),J=p(49378),P=p(94339),Fe=p(32552),Me=p(24579),vt=p(86619),ht=p(50581),Ct=p(27616),tn=p(8284),In=p(70660),ut=p(60905),Xn=p(9520),X=p(81556),O=p(43054),W=p(2997),ce=p(98977),kt=p(27291),St=p(39781),nn=p(98685),at=p(7896),Ut=p(59740),Lt=p(6277),$t=p(68079),pr=p(96234),mr=p(24514);function gr(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=E.boundaryCount,v=f===void 0?1:f,R=E.componentName,C=R===void 0?"usePagination":R,w=E.count,Z=w===void 0?1:w,A=E.defaultPage,T=A===void 0?1:A,V=E.disabled,_=V===void 0?!1:V,Ne=E.hideNextButton,Je=Ne===void 0?!1:Ne,Re=E.hidePrevButton,Ae=Re===void 0?!1:Re,Ye=E.onChange,_e=E.page,Et=E.showFirstButton,st=Et===void 0?!1:Et,Zt=E.showLastButton,Rt=Zt===void 0?!1:Zt,it=E.siblingCount,qe=it===void 0?1:it,bt=(0,Ut.Z)(E,["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"]),Ce=v-1,yt=(0,mr.Z)({controlled:_e,default:T,name:C}),Ht=(0,pr.Z)(yt,2),At=Ht[0],dn=Ht[1],da=function(mt,Gt){_e||dn(Gt),Ye&&Ye(mt,Gt)},q=function(mt,Gt){var Zr=Gt-mt+1;return Array.from({length:Zr},function(Ss,Ar){return mt+Ar})},ua=q(1,Math.min(Ce+1,Z)),Rn=q(Math.max(Z-Ce,Ce+2),Z),ee=Math.max(Math.min(At-qe,Z-Ce-qe*2-2),Ce+3),Wn=Math.min(Math.max(At+qe,Ce+qe*2+3),Rn[0]-2),Kn=[].concat((0,$t.Z)(st?["first"]:[]),(0,$t.Z)(Ae?[]:["previous"]),(0,$t.Z)(ua),(0,$t.Z)(ee>Ce+3?["start-ellipsis"]:2+Ce<Z-Ce-1?[2+Ce]:[]),(0,$t.Z)(q(ee,Wn)),(0,$t.Z)(Wn<Z-Ce-2?["end-ellipsis"]:Z-Ce-1>Ce+1?[Z-Ce-1]:[]),(0,$t.Z)(Rn),(0,$t.Z)(Je?[]:["next"]),(0,$t.Z)(Rt?["last"]:[])),Cn=function(mt){switch(mt){case"first":return 1;case"previous":return At-1;case"next":return At+1;case"last":return Z;default:return null}},pa=Kn.map(function(pt){return typeof pt=="number"?{onClick:function(Gt){da(Gt,pt)},type:"page",page:pt,selected:pt===At,disabled:_,"aria-current":pt===At?"true":void 0}:{onClick:function(Gt){da(Gt,Cn(pt))},type:pt,page:Cn(pt),selected:!1,disabled:_||pt.indexOf("ellipsis")===-1&&(pt==="next"||pt==="last"?At>=Z:At<=1)}});return(0,at.Z)({items:pa},bt)}var mn=p(41128),Ra=p(60345),Nn=p(18542);const hs=(0,Nn.Z)(h.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),ys=(0,Nn.Z)(h.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),Ca=(0,Nn.Z)(h.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),ka=(0,Nn.Z)(h.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");var wa=p(97580),vs=function(f){return{root:(0,at.Z)({},f.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:f.palette.text.primary}),page:{transition:f.transitions.create(["color","background-color"],{duration:f.transitions.duration.short}),"&:hover":{backgroundColor:f.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&$focusVisible":{backgroundColor:f.palette.action.focus},"&$selected":{backgroundColor:f.palette.action.selected,"&:hover, &$focusVisible":{backgroundColor:(0,mn.U1)(f.palette.action.selected,f.palette.action.selectedOpacity+f.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{opacity:1,color:f.palette.action.disabled,backgroundColor:f.palette.action.selected}},"&$disabled":{opacity:f.palette.action.disabledOpacity}},sizeSmall:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px","& $icon":{fontSize:f.typography.pxToRem(18)}},sizeLarge:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:f.typography.pxToRem(15),"& $icon":{fontSize:f.typography.pxToRem(22)}},textPrimary:{"&$selected":{color:f.palette.primary.contrastText,backgroundColor:f.palette.primary.main,"&:hover, &$focusVisible":{backgroundColor:f.palette.primary.dark,"@media (hover: none)":{backgroundColor:f.palette.primary.main}},"&$disabled":{color:f.palette.action.disabled}}},textSecondary:{"&$selected":{color:f.palette.secondary.contrastText,backgroundColor:f.palette.secondary.main,"&:hover, &$focusVisible":{backgroundColor:f.palette.secondary.dark,"@media (hover: none)":{backgroundColor:f.palette.secondary.main}},"&$disabled":{color:f.palette.action.disabled}}},outlined:{border:"1px solid ".concat(f.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$selected":{"&$disabled":{border:"1px solid ".concat(f.palette.action.disabledBackground)}}},outlinedPrimary:{"&$selected":{color:f.palette.primary.main,border:"1px solid ".concat((0,mn.U1)(f.palette.primary.main,.5)),backgroundColor:(0,mn.U1)(f.palette.primary.main,f.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:(0,mn.U1)(f.palette.primary.main,f.palette.action.activatedOpacity+f.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:f.palette.action.disabled}}},outlinedSecondary:{"&$selected":{color:f.palette.secondary.main,border:"1px solid ".concat((0,mn.U1)(f.palette.secondary.main,.5)),backgroundColor:(0,mn.U1)(f.palette.secondary.main,f.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:(0,mn.U1)(f.palette.secondary.main,f.palette.action.activatedOpacity+f.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:f.palette.action.disabled}}},rounded:{borderRadius:f.shape.borderRadius},ellipsis:{height:"auto","&$disabled":{opacity:f.palette.action.disabledOpacity}},focusVisible:{},disabled:{},selected:{},icon:{fontSize:f.typography.pxToRem(20),margin:"0 -8px"}}},fr=h.forwardRef(function(f,v){var R=f.classes,C=f.className,w=f.color,Z=w===void 0?"standard":w,A=f.component,T=f.disabled,V=T===void 0?!1:T,_=f.page,Ne=f.selected,Je=Ne===void 0?!1:Ne,Re=f.shape,Ae=Re===void 0?"round":Re,Ye=f.size,_e=Ye===void 0?"medium":Ye,Et=f.type,st=Et===void 0?"page":Et,Zt=f.variant,Rt=Zt===void 0?"text":Zt,it=(0,Ut.Z)(f,["classes","className","color","component","disabled","page","selected","shape","size","type","variant"]);return st==="start-ellipsis"||st==="end-ellipsis"?h.createElement("div",{ref:v,className:(0,Lt.default)(R.root,R.ellipsis,V&&R.disabled,_e!=="medium"&&R["size".concat((0,wa.Z)(_e))])},"\u2026"):h.createElement(Ra.Z,(0,at.Z)({ref:v,component:A,disabled:V,focusVisibleClassName:R.focusVisible,className:(0,Lt.default)(R.root,R.page,R[Rt],R[Ae],C,Z!=="standard"&&R["".concat(Rt).concat((0,wa.Z)(Z))],V&&R.disabled,Je&&R.selected,_e!=="medium"&&R["size".concat((0,wa.Z)(_e))])},it),st==="page"&&_,st==="previous"&&h.createElement(Ca,{className:R.icon}),st==="next"&&h.createElement(ka,{className:R.icon}),st==="first"&&h.createElement(hs,{className:R.icon}),st==="last"&&h.createElement(ys,{className:R.icon}))});const Ta=(0,Te.Z)(vs,{name:"MuiPaginationItem"})(fr);var Ia={root:{},ul:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}};function Na(E,f,v){return E==="page"?"".concat(v?"":"Go to ","page ").concat(f):"Go to ".concat(E," page")}var Za=h.forwardRef(function(f,v){var R=f.boundaryCount,C=R===void 0?1:R,w=f.children,Z=f.classes,A=f.className,T=f.color,V=T===void 0?"standard":T,_=f.count,Ne=_===void 0?1:_,Je=f.defaultPage,Re=Je===void 0?1:Je,Ae=f.disabled,Ye=Ae===void 0?!1:Ae,_e=f.getItemAriaLabel,Et=_e===void 0?Na:_e,st=f.hideNextButton,Zt=st===void 0?!1:st,Rt=f.hidePrevButton,it=Rt===void 0?!1:Rt,qe=f.renderItem,bt=qe===void 0?function(mt){return h.createElement(Ta,mt)}:qe,Ce=f.shape,yt=Ce===void 0?"round":Ce,Ht=f.showFirstButton,At=Ht===void 0?!1:Ht,dn=f.showLastButton,da=dn===void 0?!1:dn,q=f.siblingCount,ua=q===void 0?1:q,Rn=f.size,ee=Rn===void 0?"medium":Rn,Wn=f.variant,Kn=Wn===void 0?"text":Wn,Cn=(0,Ut.Z)(f,["boundaryCount","children","classes","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"]),pa=gr((0,at.Z)({},f,{componentName:"Pagination"})),pt=pa.items;return h.createElement("nav",(0,at.Z)({"aria-label":"pagination navigation",className:(0,Lt.default)(Z.root,A),ref:v},Cn),h.createElement("ul",{className:Z.ul},w||pt.map(function(mt,Gt){return h.createElement("li",{key:Gt},bt((0,at.Z)({},mt,{color:V,"aria-label":Et(mt.type,mt.page,mt.selected),shape:yt,size:ee,variant:Kn})))})))});const Aa=(0,Te.Z)(Ia,{name:"MuiPagination"})(Za);var _n=p(21853),an=p(18205),vn=p(91552),gn=p(55484),rn=p(25556),sn=p(3131),wt=p(36869),Zn=p(63004),En=p(27741),An=p(97245),qn=p(62208),Ba=p(35765),hr=p(3702),yr=p(98493),Pa=p.n(yr),ea=p(98018),bn=p.n(ea),fn=p(41122),Bn=p.n(fn),Oa=p(91750),Fo=p(38016);const Vt=(0,j.c)({id:"plugin.opsgenie.service"}),vr="/opsgenie/api";class ta{constructor(f){var v;this.discoveryApi=f.discoveryApi,this.identityApi=f.identityApi,this.domain=f.domain,this.proxyPath=(v=f.proxyPath)!=null?v:vr,this.readOnly=f.readOnly}async fetch(f,v){const R=await this.apiUrl(),C=await this.addAuthHeaders(v||{}),w=await fetch(`${R}${f}`,C);if(!w.ok)throw new Error(`Request failed with ${w.status} ${w.statusText}`);return await w.json()}async call(f,v){const R=await this.apiUrl(),C=await this.addAuthHeaders(v||{}),w=await fetch(`${R}${f}`,C);if(!w.ok)throw new Error(`Request failed with ${w.status}: ${w.statusText}`)}async getAlerts(f){const v=(f==null?void 0:f.limit)||50,R=f!=null&&f.query?`&query=${f==null?void 0:f.query}`:"";return(await this.fetch(`/v2/alerts?limit=${v}${R}`)).data}async getIncidents(f){const v=(f==null?void 0:f.limit)||50,R=(f==null?void 0:f.sort)||"createdAt",C=(f==null?void 0:f.order)||"desc",w=f!=null&&f.query?`&query=${f==null?void 0:f.query}`:"";let Z=await this.fetch(`/v1/incidents?limit=${v}&sort=${R}&order=${C}${w}`),A=Z.data;for(;Z.paging.next;){const T=new URL(Z.paging.next);Z=await this.fetch(T.pathname+T.search),A=A.concat(Z.data)}return A}async acknowledgeAlert(f){if(this.isReadOnly())throw new Error("You can't acknowledge an alert in read-only mode.");const v={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:"Backstage \u2014 Opsgenie plugin"})};await this.call(`/v2/alerts/${f.id}/acknowledge`,v)}async closeAlert(f){if(this.isReadOnly())throw new Error("You can't close an alert in read-only mode.");const v={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source:"Backstage \u2014 Opsgenie plugin"})};await this.call(`/v2/alerts/${f.id}/close`,v)}async getSchedules(){return(await this.fetch("/v2/schedules")).data}async getSchedulesForTeam(f){return(await this.fetch("/v2/schedules")).data.filter(R=>R.ownerTeam&&R.ownerTeam.name===f)}async getTeams(){return(await this.fetch("/v2/teams")).data}async getOnCall(f){return(await this.fetch(`/v2/schedules/${f}/on-calls`)).data.onCallParticipants}getAlertDetailsURL(f){return`${this.domain}/alert/detail/${f.id}/details`}getIncidentDetailsURL(f){return`${this.domain}/incident/detail/${f.id}`}getUserDetailsURL(f){return`${this.domain}/settings/users/${f}/detail`}isReadOnly(){return this.readOnly}async apiUrl(){return await this.discoveryApi.getBaseUrl("proxy")+this.proxyPath}async addAuthHeaders(f){const{token:v}=await this.identityApi.getCredentials(),R=f.headers||{};return{...f,headers:{...R,...v?{Authorization:`Bearer ${v}`}:{}}}}}const Vn="Unknown",La=9,na=18,Dt=(0,j.c)({id:"plugin.opsgenie.analytics"}),$a=(E,f)=>{for(const v of E)if(v.id===f)return v.name;return Vn},Pn=(E,f)=>{if(f.extraProperties.responders)return f.extraProperties.responders;const v=f.responders.filter(R=>R.type==="team");return v.length===0?Vn:$a(E,v[0].id)},xn=E=>{E.sort((f,v)=>f.date<v.date?-1:f.date>v.date?1:0)};class Da{constructor(f){this.businessHours=f.businessHours}incidentsByHour(f){const v={};for(let C=0;C<=23;C++)v[C]=0;f.incidents.forEach(C=>{const w=L()(C.impactStartDate);v[w.hour()]+=1});const R=Object.keys(v).map(C=>({hour:C,total:v[C]}));return R.sort((C,w)=>parseInt(C.hour,10)-parseInt(w.hour,10)),R}incidentsByDay(f){const v={};for(let C=0;C<7;C++)v[C]=0;f.incidents.forEach(C=>{const w=L()(C.impactStartDate);v[w.day()]+=1});const R=Object.keys(v).map(C=>({day:L()().day(C).format("dddd"),dayNum:parseInt(C,10),total:v[C]}));return R.sort((C,w)=>(C.dayNum+6)%7-(w.dayNum+6)%7),R}incidentsByWeekAndSeverity(f){const v={},R=f.from.clone().startOf("isoWeek"),C=f.to.clone().startOf("isoWeek");for(;R<=C;){const Z=`w${R.isoWeek()} - ${R.year()}`;v[Z]||(v[Z]={p1:0,p2:0,p3:0,p4:0,p5:0,date:R.clone()}),R.add(1,"weeks")}f.incidents.forEach(Z=>{const A=L()(Z.impactStartDate),T=`w${A.isoWeek()} - ${A.year()}`;Z.priority==="P1"?v[T].p1+=1:Z.priority==="P2"?v[T].p2+=1:Z.priority==="P3"?v[T].p3+=1:Z.priority==="P4"?v[T].p4+=1:Z.priority==="P5"&&(v[T].p5+=1)});const w=Object.keys(v).map(Z=>({week:Z,p1:v[Z].p1,p2:v[Z].p2,p3:v[Z].p3,p4:v[Z].p4,p5:v[Z].p5,date:v[Z].date}));return xn(w),w}incidentsByWeekAndHours(f){const v={},R=f.from.clone().startOf("isoWeek"),C=f.to.clone().startOf("isoWeek");for(;R<=C;){const Z=`w${R.isoWeek()} - ${R.year()}`;v[Z]||(v[Z]={businessHours:0,onCallHours:0,total:0,date:R.clone()}),R.add(1,"weeks")}f.incidents.forEach(Z=>{const A=L()(Z.impactStartDate),T=`w${A.isoWeek()} - ${A.year()}`;v[T].total+=1,this.isBusinessHours(A)?v[T].businessHours+=1:v[T].onCallHours+=1});const w=Object.keys(v).map(Z=>({week:Z,businessHours:v[Z].businessHours,onCallHours:v[Z].onCallHours,total:v[Z].total,date:v[Z].date}));return xn(w),w}incidentsByDayAndResponder(f){const v={},R={};for(let w=0;w<7;w++)v[w]={total:0,responders:{}};f.incidents.forEach(w=>{const A=L()(w.impactStartDate).day(),T=Pn(f.teams,w);R[T]=!0,v[A].responders[T]||(v[A].responders[T]=0),v[A].responders[T]+=1,v[A].total+=1});const C=Object.keys(v).map(w=>{const Z={period:L()().day(w).format("dddd"),dayNum:parseInt(w,10),total:v[w].total};return Object.keys(R).forEach(A=>{Z[A]=v[w].responders[A]||0}),Z});return C.sort((w,Z)=>(w.dayNum+6)%7-(Z.dayNum+6)%7),{dataPoints:C,responders:Object.keys(R)}}incidentsByMonthAndResponder(f){const v={},R={},C=f.from.clone(),w=f.to.clone();for(;C<=w;){const A=`${C.month()+1}/${C.year()}`;v[A]||(v[A]={responders:{},total:0,date:C.clone()}),C.add(1,"month")}f.incidents.forEach(A=>{const T=L()(A.impactStartDate),V=`${T.month()+1}/${T.year()}`,_=Pn(f.teams,A);R[_]=!0,v[V].responders[_]||(v[V].responders[_]=0),v[V].responders[_]+=1,v[V].total+=1});const Z=Object.keys(v).map(A=>{const T={period:A,total:v[A].total,date:v[A].date};return Object.keys(R).forEach(V=>{T[V]=v[A].responders[V]||0}),T});return xn(Z),{dataPoints:Z,responders:Object.keys(R)}}incidentsByWeekAndResponder(f){const v={},R={},C=f.from.clone().startOf("isoWeek"),w=f.to.clone().startOf("isoWeek");for(;C<=w;){const A=`w${C.isoWeek()} - ${C.year()}`;v[A]||(v[A]={responders:{},total:0,date:C.clone()}),C.add(1,"weeks")}f.incidents.forEach(A=>{const T=L()(A.impactStartDate),V=`w${T.isoWeek()} - ${T.year()}`,_=Pn(f.teams,A);R[_]=!0,v[V].responders[_]||(v[V].responders[_]=0),v[V].responders[_]+=1,v[V].total+=1});const Z=Object.keys(v).map(A=>{const T={period:A,total:v[A].total,date:v[A].date};return Object.keys(R).forEach(V=>{T[V]=v[A].responders[V]||0}),T});return xn(Z),{dataPoints:Z,responders:Object.keys(R)}}incidentsByQuarterAndResponder(f){const v={},R={},C=f.from.clone(),w=f.to.clone();for(;C<=w;){const A=`Q${C.quarter()} - ${C.year()}`;v[A]||(v[A]={responders:{},total:0,date:C.clone()}),C.add(1,"quarter")}f.incidents.forEach(A=>{const T=L()(A.impactStartDate),V=`Q${T.quarter()} - ${T.year()}`,_=Pn(f.teams,A);R[_]=!0,v[V].responders[_]||(v[V].responders[_]=0),v[V].responders[_]+=1,v[V].total+=1});const Z=Object.keys(v).map(A=>{const T={period:A,total:v[A].total,date:v[A].date};return Object.keys(R).forEach(V=>{T[V]=v[A].responders[V]||0}),T});return xn(Z),{dataPoints:Z,responders:Object.keys(R)}}impactByWeekAndResponder(f){const v={},R={},C=f.from.clone().startOf("isoWeek"),w=f.to.clone().startOf("isoWeek"),Z=T=>T.length===0?0:T.reduce((V,_)=>V+_,0)/T.length;for(;C<=w;){const T=`w${C.isoWeek()} - ${C.year()}`;v[T]||(v[T]={responders:{},durations:[],date:C.clone()}),C.add(1,"weeks")}f.incidents.forEach(T=>{const V=L()(T.impactStartDate),_=L()(T.impactEndDate),Ne=`w${V.isoWeek()} - ${V.year()}`,Je=Pn(f.teams,T),Re=_.diff(V,"minutes");R[Je]=!0,v[Ne].responders[Je]||(v[Ne].responders[Je]=[]),v[Ne].responders[Je].push(Re),v[Ne].durations.push(Re)});const A=Object.keys(v).map(T=>{const V={period:T,total:Z(v[T].durations),date:v[T].date};return Object.keys(R).forEach(_=>{V[_]=v[T].responders[_]?Z(v[T].responders[_]):0}),V});return xn(A),{dataPoints:A,responders:Object.keys(R)}}isBusinessHours(f){return f.hour()>=this.businessHours.start&&f.hour()<this.businessHours.end}}const aa=(0,de.NT)({id:"opsgenie"}),ra=(0,de.rx)({id:"opsgenie",apis:[(0,de.ni)({api:Vt,deps:{discoveryApi:j.q,identityApi:j.t,configApi:j.p},factory:({discoveryApi:E,identityApi:f,configApi:v})=>{var R;return new ta({discoveryApi:E,identityApi:f,domain:v.getString("opsgenie.domain"),readOnly:(R=v.getOptionalBoolean("opsgenie.readOnly"))!=null?R:!1,proxyPath:v.getOptionalString("opsgenie.proxyPath")})}}),(0,de.ni)({api:Dt,deps:{configApi:j.p},factory:({configApi:E})=>new Da({businessHours:{start:E.getOptionalNumber("opsgenie.analytics.businessHours.start")||La,end:E.getOptionalNumber("opsgenie.analytics.businessHours.end")||na}})})],routes:{explore:aa}}),sa=ra.provide((0,de.P4)({name:"OpsgeniePage",component:()=>p.e(708).then(p.bind(p,19036)).then(E=>E.OpsgeniePage),mountPoint:aa})),Er=ra.provide((0,de.CO)({name:"EntityOpsgenieAlertsCard",component:{lazy:()=>p.e(9012).then(p.bind(p,69012)).then(E=>E.AlertsCard)}})),br=ra.provide((0,de.CO)({name:"EntityOpsgenieOnCallListCard",component:{lazy:()=>p.e(9012).then(p.bind(p,69012)).then(E=>E.OnCallListCard)}})),Ma="opsgenie.com/component-selector",On="opsgenie.com/team",Es=E=>{var f;return Boolean((f=E.metadata.annotations)==null?void 0:f[Ma])},oa=E=>{var f;return Boolean((f=E.metadata.annotations)==null?void 0:f[On])},Wa=({alert:E,onAlertChanged:f})=>{const v=(0,j.u)(Vt),R=(0,j.u)(j.l),[C,w]=h.useState(null),Z=f||(Ne=>{}),A=Ne=>{w(Ne.currentTarget)},T=()=>{w(null)},V=async()=>{try{await v.acknowledgeAlert(E),T(),R.post({message:"Alert acknowledged."}),E.acknowledged=!0,Z(E)}catch(Ne){R.post({message:`Could not acknowledge alert: ${Ne}`,severity:"error"})}},_=async()=>{try{await v.closeAlert(E),T(),R.post({message:"Alert closed."}),E.status="closed",Z(E)}catch(Ne){R.post({message:`Could not close alert: ${Ne}`,severity:"error"})}};return h.createElement(h.Fragment,null,h.createElement(Qe.Z,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:A},h.createElement(O.Z,null)),h.createElement(oe.Z,{id:`actions-menu-${E.id}`,anchorEl:C,keepMounted:!0,open:Boolean(C),onClose:T,PaperProps:{style:{maxHeight:48*4.5}}},!E.acknowledged&&E.status!=="closed"&&!v.isReadOnly()&&h.createElement(be.Z,{key:"ack",onClick:V},h.createElement(ot.Z,null,h.createElement(ce.Z,{fontSize:"small"})),h.createElement(nt.Z,{variant:"inherit",noWrap:!0},"Acknowledge")),E.status!=="closed"&&!v.isReadOnly()&&h.createElement(be.Z,{key:"close",onClick:_},h.createElement(ot.Z,null,h.createElement(X.Z,{fontSize:"small"})),h.createElement(nt.Z,{variant:"inherit",noWrap:!0},"Close")),h.createElement(be.Z,{key:"details",onClick:T},h.createElement(ot.Z,null,h.createElement(W.Z,{fontSize:"small"})),h.createElement(nt.Z,{variant:"inherit",noWrap:!0},h.createElement(S.rU,{to:v.getAlertDetailsURL(E)},"View in Opsgenie")))))},za=(0,We.Z)(E=>({warning:{borderColor:E.palette.status.warning,color:E.palette.status.warning,"& *":{color:E.palette.status.warning}},error:{borderColor:E.palette.status.error,color:E.palette.status.error,"& *":{color:E.palette.status.error}},closed:{borderColor:E.palette.status.ok,color:E.palette.status.ok,"& *":{color:E.palette.status.ok}}})),xr=({alert:E})=>{const f=za();let v=f.error,R="Unknown",C=h.createElement(St.Z,null);return E.status==="open"&&!E.acknowledged&&!E.isSeen?(v=f.error,R="Open",C=h.createElement(St.Z,null)):E.status==="open"&&!E.acknowledged&&E.isSeen?(v=f.error,R="Seen",C=h.createElement(kt.Z,null)):E.status==="open"&&E.acknowledged?(v=f.warning,R="Acknowledged",C=h.createElement(ce.Z,null)):E.status==="closed"&&(v=f.closed,R="Closed"),h.createElement(Ke.Z,{label:R,size:"small",variant:"outlined",icon:E.status==="closed"?void 0:C,className:v})},Ha=(0,Te.Z)({root:{backgroundColor:"#00857A",color:"white"}})(Ke.Z),ia=(0,Te.Z)({root:{backgroundColor:"#36b37e",color:"white"}})(Ke.Z),Sr=(0,Te.Z)({root:{backgroundColor:"#ffab00",color:"white"}})(Ke.Z),la=(0,Te.Z)({root:{backgroundColor:"#ff7452",color:"white"}})(Ke.Z),Rr=(0,Te.Z)({root:{backgroundColor:"#bf2600",color:"white"}})(Ke.Z),Cr={P5:"Informational",P4:"Low",P3:"Moderate",P2:"High",P1:"Critical"},Fa=({priority:E})=>{let f=h.createElement(h.Fragment,null);switch(E){case"P5":f=h.createElement(Ha,{label:E,size:"small"});break;case"P4":f=h.createElement(ia,{label:E,size:"small"});break;case"P3":f=h.createElement(Sr,{label:E,size:"small"});break;case"P2":f=h.createElement(la,{label:E,size:"small"});break;case"P1":f=h.createElement(Rr,{label:E,size:"small"});break;default:f=h.createElement(Ke.Z,{label:E,size:"small"})}return h.createElement(Ie.ZP,{title:Cr[E]},h.createElement("div",null,f))},bs=({alerts:E})=>{const f=(0,j.u)(Vt),v={width:"5%",maxWidth:"5%"},R={width:"10%",maxWidth:"10%"},[C,w]=(0,h.useState)(E),Z=T=>{w(C.map(V=>T.id===V.id?T:V))},A=[{title:"ID",field:"tinyId",highlight:!0,cellStyle:v,headerStyle:v,render:T=>h.createElement(S.rU,{to:f.getAlertDetailsURL(T)},"#",T.tinyId)},{title:"Priority",field:"priority",cellStyle:v,headerStyle:v,render:T=>h.createElement(Fa,{priority:T.priority})},{title:"Status",field:"status",cellStyle:v,headerStyle:v,render:T=>h.createElement(xr,{alert:T})},{title:"Alert",field:"message"},{title:"Tags",field:"tags",render:T=>h.createElement(h.Fragment,null,T.tags.map((V,_)=>h.createElement(Ke.Z,{label:V,key:_,size:"small"})))},{title:"Updated At",field:"updatedAt",type:"datetime",dateSetting:{locale:"en-UK"},cellStyle:R,headerStyle:R},{title:"Actions",field:"",cellStyle:v,headerStyle:v,render:T=>h.createElement(Wa,{alert:T,onAlertChanged:Z})}];return h.createElement(S.iA,{options:{sorting:!0,search:!0,paging:!0,actionsColumnIndex:-1,pageSize:25,pageSizeOptions:[25,50,100,150,200],padding:"dense"},localization:{header:{actions:void 0}},columns:A,data:C})},kr=()=>{const E=(0,j.u)(Vt),{value:f,loading:v,error:R}=(0,l.Z)(async()=>await E.getAlerts());return v?h.createElement(S.Ex,null):R?h.createElement(we.Z,{"data-testid":"error-message",severity:"error"},R.message):h.createElement(bs,{alerts:f})},xs=({incidents:E})=>{const f=(0,j.u)(Vt),v={width:"5%",maxWidth:"5%"},R={width:"10%",maxWidth:"10%"},C=[{title:"ID",field:"tinyId",highlight:!0,cellStyle:v,headerStyle:v,render:w=>h.createElement(S.rU,{to:f.getIncidentDetailsURL(w)},"#",w.tinyId)},{title:"Priority",field:"priority",cellStyle:v,headerStyle:v,render:w=>h.createElement(Fa,{priority:w.priority})},{title:"Status",field:"status",cellStyle:v,headerStyle:v,render:w=>h.createElement(Ke.Z,{label:w.status,color:w.status==="open"?"secondary":"default",size:"small"})},{title:"Description",field:"message"},{title:"Tags",field:"tags",render:w=>h.createElement(h.Fragment,null,w.tags.map((Z,A)=>h.createElement(Ke.Z,{label:Z,key:A,size:"small"})))},{title:"Updated At",field:"updatedAt",type:"datetime",dateSetting:{locale:"en-UK"},cellStyle:R,headerStyle:R}];return h.createElement(S.iA,{options:{sorting:!0,search:!0,paging:!0,actionsColumnIndex:-1,pageSize:25,pageSizeOptions:[25,50,100,150,200],padding:"dense"},localization:{header:{actions:void 0}},columns:C,data:E})},wr=()=>{const E=(0,j.u)(Vt),{value:f,loading:v,error:R}=(0,l.Z)(async()=>await E.getIncidents());return v?h.createElement(S.Ex,null):R?h.createElement(we.Z,{"data-testid":"error-message",severity:"error"},R.message):h.createElement(xs,{incidents:f})},ja=(0,We.Z)(E=>(0,Xe.Z)({pagination:{marginTop:E.spacing(2)},search:{marginBottom:E.spacing(2)},onCallItemGrid:{gridTemplateColumns:"repeat(auto-fill, minmax(32em, 1fr))"}})),Ua=(E,f)=>E.name,Tr=(E,f)=>{const[v,R]=h.useState(E);return(0,h.useEffect)(()=>{const C=setTimeout(()=>{R(E)},f);return()=>{clearTimeout(C)}},[E,f]),v},xe=({schedule:E,responderFormatter:f})=>{const v=(0,j.u)(Vt),{value:R,loading:C,error:w}=(0,l.Z)(async()=>await v.getOnCall(E.id));if(C)return h.createElement(S.Ex,null);if(w)return h.createElement(we.Z,{"data-testid":"error-message",severity:"error"},w.message);const Z=f||Ua;return h.createElement(dt.Z,null,R.map((A,T)=>h.createElement(De.Z,{key:T,button:!0,component:"a",href:v.getUserDetailsURL(A.id)},h.createElement(ot.Z,null,h.createElement(nn.Z,null)),h.createElement(J.Z,{primary:Z(A,E)}))),R.length===0&&h.createElement(De.Z,null,h.createElement(J.Z,{primary:`\u26A0\uFE0F No one on-call for schedule "${E.name}".`})))},F=({schedule:E,responderFormatter:f})=>{const v=h.createElement("div",{style:{display:"flex"}},h.createElement(Ie.ZP,{title:E.enabled?"Enabled":"Disabled"},h.createElement("div",null,E.enabled?h.createElement(S.Kq,null):h.createElement(S.dh,null))),E.ownerTeam.name);return h.createElement(P.Z,null,h.createElement(Fe.Z,{title:v,titleTypographyProps:{variant:"h6"}}),h.createElement(Me.Z,null,h.createElement(xe,{schedule:E,responderFormatter:f})))},on=({schedules:E,cardsPerPage:f,responderFormatter:v})=>{const R=ja(),[C,w]=h.useState(E),[Z,A]=h.useState(""),[T,V]=h.useState(1),[_,Ne]=h.useState(0),Je=(Ae,Ye)=>{Ne((Ye-1)*f),V(Ye)},Re=Tr(Z,300);return(0,h.useEffect)(()=>{if(!Re){w(E);return}const Ae=E.filter(Ye=>Ye.name.toLowerCase().includes(Re.toLowerCase()));w(Ae)},[Re,E]),h.createElement("div",null,h.createElement(vt.Z,{fullWidth:!0,variant:"outlined",className:R.search,placeholder:"Team\u2026",InputProps:{startAdornment:h.createElement(ht.Z,{position:"start"},h.createElement(_n.Z,null))},onChange:Ae=>A(Ae.target.value)}),h.createElement(S.Oh,{classes:{root:R.onCallItemGrid}},C.filter((Ae,Ye)=>Ye>=_&&Ye<_+f).map(Ae=>h.createElement(F,{key:Ae.id,schedule:Ae,responderFormatter:v}))),h.createElement(Aa,{className:R.pagination,count:Math.ceil(C.length/f),page:T,onChange:Je,showFirstButton:!0,showLastButton:!0}))},N=({cardsPerPage:E,responderFormatter:f})=>{const v=(0,j.u)(Vt),{value:R,loading:C,error:w}=(0,l.Z)(async()=>await v.getSchedules());return C?h.createElement(S.Ex,null):w?h.createElement(we.Z,{"data-testid":"error-message",severity:"error"},w.message):h.createElement(on,{schedules:R.filter(Z=>Z.enabled),cardsPerPage:E||6,responderFormatter:f})},H=E=>{const f=document.getElementById(E);f&&Pa().toBlob(f,{bgcolor:"white"}).then(v=>{bn()(v,`${E}.png`)})},Le=({targetRef:E})=>h.createElement(Qe.Z,{"aria-label":"save",title:"Save as image",onClick:()=>H(E)},h.createElement(hr.Z,null)),$=(0,We.Z)(E=>({tooltip:{backgroundColor:E.palette.background.default,paddingLeft:"1rem",paddingRight:"1rem",paddingBottom:"0.5rem",paddingTop:"0.5rem",borderRadius:"5px",border:"1px solid white",borderColor:E.palette.grey[300]}})),Sn=E=>{const f=$();if(!E.active||!E.payload||!E.payload.length)return null;const v=E.payload.filter(C=>C.payload[C.dataKey]!==0);if(!v.length)return null;const R=v.map(C=>{let w=C.payload[C.dataKey],Z=C.name;if(E.formatter){const A=E.formatter(w,Z);Array.isArray(A)?(Z=A[1],w=A[0]):w=A}return h.createElement("p",{key:C.dataKey,style:{color:C.fill}},`${Z}: ${w}`)});return h.createElement("div",{className:f.tooltip},R)},Xt=({context:E})=>{const v=(0,j.u)(Dt).incidentsByWeekAndHours(E);return h.createElement("div",{id:"weekly-incidents",style:{width:"100%",height:300,paddingTop:"1.2rem",paddingRight:"1.2rem"}},h.createElement(an.h,null,h.createElement(vn.c,{data:v},h.createElement(gn.q,{strokeDasharray:"3 3"}),h.createElement(rn.K,{dataKey:"week"}),h.createElement(sn.B,null),h.createElement(wt.$,{dataKey:"businessHours",fill:"#82ca9d",name:"Business hours",stackId:"a",barSize:30}),h.createElement(wt.$,{dataKey:"onCallHours",fill:"#8884d8",name:"On-call hours",stackId:"a",barSize:30}),h.createElement(Zn.x,{type:"monotone",dataKey:"total",name:"Total",stroke:"#ff7300"}),h.createElement(En.u,{content:h.createElement(Sn,null)}),h.createElement(An.D,null))))},ln=({context:E})=>h.createElement(S.rJ,{title:"Incidents by week",action:h.createElement(Le,{targetRef:"weekly-incidents"})},h.createElement(Xt,{context:E})),Ln=({context:E})=>{const v=(0,j.u)(Dt).incidentsByWeekAndSeverity(E);return h.createElement("div",{id:"weekly-incidents-severity",style:{width:"100%",height:300,paddingTop:"1.2rem",paddingRight:"1.2rem"}},h.createElement(an.h,null,h.createElement(vn.c,{data:v},h.createElement(gn.q,{strokeDasharray:"3 3"}),h.createElement(rn.K,{dataKey:"week"}),h.createElement(sn.B,null),h.createElement(wt.$,{dataKey:"p1",fill:"#bf2600",name:"P1 - Critical",stackId:"a",barSize:30}),h.createElement(wt.$,{dataKey:"p2",fill:"#ff7452",name:"P2 - High",stackId:"a",barSize:30}),h.createElement(wt.$,{dataKey:"p3",fill:"#ffab00",name:"P3 - Moderate",stackId:"a",barSize:30}),h.createElement(wt.$,{dataKey:"p4",fill:"#36b37e",name:"P4 - Low",stackId:"a",barSize:30}),h.createElement(wt.$,{dataKey:"p5",fill:"#00857A",name:"P5 - Informational",stackId:"a",barSize:30}),h.createElement(En.u,{content:h.createElement(Sn,null)}),h.createElement(An.D,null))))},Ir=({context:E})=>h.createElement(S.rJ,{title:"Incidents by week and severity",action:h.createElement(Le,{targetRef:"weekly-incidents-severity"})},h.createElement(Ln,{context:E})),Y=(()=>{const E=["#FF9830","#ff7452","#F2495C","#F2CC0C","#00857A","#5794F2","#144790","#B877D9","#255637","#481D24","#E56399"],f={};return v=>f[v]?f[v]:E.length===0?Bn()(v):(f[v]=E.pop(),f[v])})(),je=({data:E})=>h.createElement(an.h,null,h.createElement(vn.c,{data:E.dataPoints},h.createElement(gn.q,{strokeDasharray:"3 3"}),h.createElement(rn.K,{dataKey:"period"}),h.createElement(sn.B,null),E.responders.map(f=>h.createElement(wt.$,{dataKey:f,fill:Y(f),stackId:"a",barSize:30,key:f})),h.createElement(Zn.x,{type:"monotone",dataKey:"total",name:"Total",stroke:"#ff7300"}),h.createElement(En.u,{content:h.createElement(Sn,null)}),h.createElement(An.D,null))),ie=({context:E})=>{const f="weekly-incidents-responders",R=(0,j.u)(Dt).incidentsByWeekAndResponder(E);return h.createElement(S.rJ,{title:"Incidents by week and responder",action:h.createElement(Le,{targetRef:f})},h.createElement("div",{id:f,style:{width:"100%",height:450,paddingTop:"1.2rem",paddingRight:"1.2rem"}},h.createElement(je,{data:R})))},Q=({context:E})=>{const f="quarterly-incidents-responders",R=(0,j.u)(Dt).incidentsByQuarterAndResponder(E);return h.createElement(S.rJ,{title:"Incidents by quarter and responder",action:h.createElement(Le,{targetRef:f})},h.createElement("div",{id:f,style:{width:"100%",height:450,paddingTop:"1.2rem",paddingRight:"1.2rem"}},h.createElement(je,{data:R})))},Se=({context:E})=>{const v=(0,j.u)(Dt).incidentsByHour(E);return h.createElement("div",{id:"hourly-incidents",style:{width:"100%",height:300,paddingTop:"1.2rem",paddingRight:"1.2rem"}},h.createElement(an.h,null,h.createElement(qn.G,{data:v},h.createElement(gn.q,{strokeDasharray:"3 3"}),h.createElement(rn.K,{dataKey:"hour",name:"Hour",unit:"h"}),h.createElement(sn.B,{dataKey:"total",name:"Total"}),h.createElement(En.u,{content:h.createElement(Sn,null)}),h.createElement(Ba.b,{name:"Hour",data:v,fill:"#8884d8"}))))},se=({context:E})=>h.createElement(S.rJ,{title:"Incidents by hour",action:h.createElement(Le,{targetRef:"hourly-incidents"})},h.createElement(Se,{context:E})),ca=({context:E})=>{const f="monthly-incidents-responders",R=(0,j.u)(Dt).incidentsByMonthAndResponder(E);return h.createElement(S.rJ,{title:"Incidents by month and responder",action:h.createElement(Le,{targetRef:f})},h.createElement("div",{id:f,style:{width:"100%",height:450,paddingTop:"1.2rem",paddingRight:"1.2rem"}},h.createElement(je,{data:R})))},rt=({context:E})=>{const f="daily-incidents-responders",R=(0,j.u)(Dt).incidentsByDayAndResponder(E);return h.createElement(S.rJ,{title:"Incidents by day and responder",action:h.createElement(Le,{targetRef:f})},h.createElement("div",{id:f,style:{width:"100%",height:450,paddingTop:"1.2rem",paddingRight:"1.2rem"}},h.createElement(je,{data:R})))},$n=({context:E})=>{const v=(0,j.u)(Dt).incidentsByDay(E);return h.createElement("div",{id:"daily-incidents",style:{width:"100%",height:300,paddingTop:"1.2rem",paddingRight:"1.2rem"}},h.createElement(an.h,null,h.createElement(qn.G,{data:v},h.createElement(gn.q,{strokeDasharray:"3 3"}),h.createElement(rn.K,{dataKey:"day",name:"Day"}),h.createElement(sn.B,{dataKey:"total",name:"Total"}),h.createElement(En.u,{content:h.createElement(Sn,null)}),h.createElement(Ba.b,{name:"day",data:v,fill:"#8884d8"}))))},Dn=({context:E})=>h.createElement(S.rJ,{title:"Incidents by day",action:h.createElement(Le,{targetRef:"daily-incidents"})},h.createElement($n,{context:E})),ue=(0,We.Z)(E=>({root:{marginRight:E.spacing(1),fill:E.palette.infoText}})),Tt=()=>{const E=ue();return h.createElement(Oa.Z,{classes:E})},Gn=()=>{const E=ue();return h.createElement(Fo.Z,{classes:E})},z=(0,We.Z)(E=>({panel:{backgroundColor:E.palette.infoBackground,color:E.palette.infoText,verticalAlign:"middle",marginBottom:"1rem"},summary:{display:"flex",flexDirection:"row"},summaryText:{color:E.palette.infoText,fontWeight:"bold"},message:{width:"100%",display:"block",color:E.palette.infoText,backgroundColor:E.palette.infoBackground,"& > a":{textDecoration:"underline"}},details:{width:"100%",display:"block",color:E.palette.textContrast,backgroundColor:E.palette.background.default,border:`1px solid ${E.palette.border}`,padding:E.spacing(2),fontFamily:"sans-serif"}})),ne=E=>{const f=z(E),{title:v,message:R,children:C}=E;return h.createElement(Ct.Z,{className:f.panel},h.createElement(tn.Z,{expandIcon:h.createElement(Gn,null),className:f.summary},h.createElement(Tt,null),h.createElement(nt.Z,{className:f.summaryText,variant:"subtitle1"},v)),(R||C)&&h.createElement(In.Z,null,h.createElement(ut.Z,{container:!0},R&&h.createElement(ut.Z,{item:!0,xs:12},h.createElement(nt.Z,{className:f.message,variant:"body1"},R)),C&&h.createElement(ut.Z,{item:!0,xs:12,className:f.details},C))))},Va=(0,We.Z)(E=>({tooltip:{backgroundColor:E.palette.background.default,paddingLeft:"1rem",paddingRight:"1rem",paddingBottom:"0.5rem",paddingTop:"0.5rem",borderRadius:"5px",border:"1px solid white",borderColor:E.palette.grey[300]}})),pe=E=>E===0?"0 min":L().duration(E,"minutes").humanize(),me=E=>{const f=Va();if(!E.active||!E.payload||!E.payload.length)return null;const v=E.payload.filter(C=>C.payload[C.dataKey]!==0);if(!v.length)return null;const R=v.map(C=>{const w=pe(C.payload[C.dataKey]);return h.createElement("p",{key:C.dataKey,style:{color:C.fill}},`${C.name}: ${w}`)});return h.createElement("div",{className:f.tooltip},R)},cn=({context:E})=>{const f="weekly-impact-responders",R=(0,j.u)(Dt).impactByWeekAndResponder(E);return h.createElement(S.rJ,{title:"Average impact by week and responder",action:h.createElement(Le,{targetRef:f})},h.createElement("div",{id:f,style:{width:"100%",height:450,paddingTop:"1.2rem",paddingRight:"1.2rem"}},h.createElement(an.h,null,h.createElement(vn.c,{data:R.dataPoints},h.createElement(gn.q,{strokeDasharray:"3 3"}),h.createElement(rn.K,{dataKey:"period"}),h.createElement(sn.B,{tickFormatter:C=>C===0?"0 min":L().duration(C,"minutes").humanize()}),R.responders.map(C=>h.createElement(wt.$,{dataKey:C,fill:Y(C),stackId:"a",barSize:30,key:C})),h.createElement(En.u,{content:h.createElement(me,null)}),h.createElement(An.D,null)))))},Nr=()=>{const E=(0,j.u)(j.p),f=(0,j.u)(Vt),v=L()().subtract(1,"year").startOf("quarter"),R=L()(),{value:C,loading:w,error:Z}=(0,l.Z)(async()=>Promise.all([f.getIncidents({limit:100,query:`createdAt < ${R.valueOf()} AND createdAt > ${v.valueOf()}`}),f.getTeams()]));if(w)return h.createElement(S.Ex,null);if(Z)return h.createElement(we.Z,{severity:"error"},Z.message);const A={from:v,to:R,incidents:C[0].filter(V=>L()(V.impactStartDate).isAfter(v)),teams:C[1]},T={start:E.getOptionalNumber("opsgenie.analytics.businessHours.start")||La,end:E.getOptionalNumber("opsgenie.analytics.businessHours.end")||na};return h.createElement(ut.Z,{container:!0,spacing:3},h.createElement(ut.Z,{item:!0,xs:12},h.createElement(ne,{title:"This graphs cover one year worth of incidents, from the current quarter to the same quarter last year.",message:h.createElement("ul",null,h.createElement("li",null,"Incidents from ",v.format("LL")," to now are used"),h.createElement("li",null,"Business hours are ",T.start," to ",T.end),h.createElement("li",null,"Responders are read from the ",h.createElement("code",null,"responders"),' incident extra property if defined, or from the "responders" section of an incident.'))})),h.createElement(ut.Z,{item:!0,md:6,xs:12},h.createElement(ln,{context:A})),h.createElement(ut.Z,{item:!0,md:6,xs:12},h.createElement(Ir,{context:A})),h.createElement(ut.Z,{item:!0,md:6,xs:12},h.createElement(ie,{context:A})),h.createElement(ut.Z,{item:!0,md:6,xs:12},h.createElement(ca,{context:A})),h.createElement(ut.Z,{item:!0,md:6,xs:12},h.createElement(Q,{context:A})),h.createElement(ut.Z,{item:!0,md:6,xs:12},h.createElement(rt,{context:A})),h.createElement(ut.Z,{item:!0,md:6,xs:12},h.createElement(se,{context:A})),h.createElement(ut.Z,{item:!0,md:6,xs:12},h.createElement(Dn,{context:A})),h.createElement(ut.Z,{item:!0,md:6,xs:12},h.createElement(cn,{context:A})))},_t=()=>null;(0,de.R5)(_t,"core.gatherMountPoints",!0);function It(E){const f=h.createElement(_t,{path:"",title:""},h.createElement("div",null)).type;return h.Children.toArray(E).flatMap(v=>{if(!(0,h.isValidElement)(v))return[];if(v.type===h.Fragment)return It(v.props.children);if(v.type!==f)throw new Error("Child of ExploreLayout must be an ExploreLayout.Route");const{path:R,title:C,children:w,tabProps:Z}=v.props;return[{path:R,title:C,children:w,tabProps:Z}]})}const Mn=({children:E})=>{const f=It(E);return h.createElement(S.T3,{themeId:"tool"},h.createElement(S.h4,{title:"Opsgenie"}),h.createElement(S.tn,{routes:f}))};Mn.Route=_t;const Nt=(0,We.Z)({denseListIcon:{marginRight:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}}),hn=({alert:E})=>{const f=Nt();return h.createElement(Ie.ZP,{title:E.status,placement:"top"},h.createElement("div",{className:f.denseListIcon},E.status==="open"?h.createElement(S.vK,null):h.createElement(S.Kq,null)))},yn=(0,We.Z)({listItemPrimary:{fontWeight:"bold",whiteSpace:"normal"},listItemIcon:{minWidth:"1em"}}),Mt=({alert:E})=>{const f=yn(),[v,R]=(0,h.useState)({data:E,updatedAt:E.updatedAt}),C=w=>{R({data:w,updatedAt:new Date().toISOString()})};return h.createElement(De.Z,{dense:!0,key:v.data.id},h.createElement(ot.Z,{className:f.listItemIcon},h.createElement(hn,{alert:v.data})),h.createElement(J.Z,{primary:v.data.message,primaryTypographyProps:{variant:"body1",className:f.listItemPrimary},secondary:h.createElement(nt.Z,{noWrap:!0,variant:"body2",color:"textSecondary"},"Created ",L()(v.data.createdAt).fromNow())}),h.createElement(Xn.Z,null,h.createElement(Wa,{alert:v.data,onAlertChanged:C})))},Wt=({alerts:E})=>h.createElement(dt.Z,{dense:!0},E.map((f,v)=>h.createElement(Mt,{key:f.id+v,alert:f})),E.length===0&&h.createElement(h.Fragment,null,"No recent alerts")),zt=({query:E})=>{const f=(0,j.u)(Vt),{value:v,loading:R,error:C}=(0,l.Z)(async()=>await f.getAlerts({limit:3,query:E}));return R?h.createElement(S.Ex,null):C?h.createElement(we.Z,{"data-testid":"error-message",severity:"error"},C.message):h.createElement(Wt,{alerts:v})}},60678:(Tn,ft,p)=>{p.d(ft,{$g:()=>j.g});var j=p(24180),de=p(2784),Ee=p(72969),L=p(19034),h=p.n(L),l=p(98493),S=p.n(l),we=p(98018),Qe=p.n(we),oe=p(41122),be=p.n(oe)},72969:(Tn,ft,p)=>{p.d(ft,{h4:()=>lr,rJ:()=>Hn,Oh:()=>Fd,rU:()=>Kt,sk:()=>Ls,T3:()=>xa,Ex:()=>Xa,tn:()=>bo,dh:()=>hl,vK:()=>fl,Kq:()=>gl,iA:()=>Io});var j=p(57032),de=p(30705),Ee=p(61837),L=p(90436),h=p(19928),l=p(2784),S=p(79692),we=p(60364),Qe=p(41128),oe=p(15459),be=p(12420),ot=p(76600),nt=p(41547),We=p(77277),Ke=p(86689),Te=p(72779),Ie=p.n(Te),Xe=p(76635),dt=p(73557),De=p(39857),J=p(16060),P=p(95544),Fe=p(56553),Me=p(26639),vt=p(39595),ht=p(80030),Ct=p(19353),tn=p(95074),In=p(41156),ut=p(70367),Xn=p(46506),X=p(54073),O=p(10368),W=p(19574),ce=p(60905);const kt=p.p+"static/missingAnnotation.67f79e98..svg",St=p.p+"static/noInformation.4b426325..svg",nn=p.p+"static/createComponent.975d1e1e..svg",at=p.p+"static/noBuild.1715fa71..svg";var Ut=p(11776),Lt=p(38402),$t=p(49378),pr=p(27616),mr=p(8284),gr=p(70660),mn=p(91750),Ra=p(38016),Nn=p(85256),hs=p(1292),ys=p(28316),Ca=p(48049),ka=p(51209),wa=p(32272),vs=p(15277),fr=p(67358),Ta=p(94339),Ia=p(14503),Na=p(24579),Za=p(32552),Aa=p(27597),_n=p(7896),an=p(59740),vn={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},gn=function(){var t=(0,l.useRef)([]),n=(0,l.useRef)(null);return(0,l.useEffect)(function(){var s=Date.now(),o=!1;t.current.forEach(function(c){if(c){o=!0;var d=c.style;d.transitionDuration=".3s, .3s, .3s, .06s",n.current&&s-n.current<100&&(d.transitionDuration="0s, 0s")}}),o&&(n.current=Date.now())}),t.current},rn=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],sn=function(t){var n=t.className,s=t.percent,o=t.prefixCls,c=t.strokeColor,d=t.strokeLinecap,u=t.strokeWidth,m=t.style,g=t.trailColor,y=t.trailWidth,b=t.transition,x=(0,an.Z)(t,rn);delete x.gapPosition;var k=Array.isArray(s)?s:[s],I=Array.isArray(c)?c:[c],B=gn(),M=u/2,D=100-u/2,G="M ".concat(d==="round"?M:0,",").concat(M,`
         L `).concat(d==="round"?D:100,",").concat(M),U="0 0 100 ".concat(u),K=0;return l.createElement("svg",(0,_n.Z)({className:Ie()("".concat(o,"-line"),n),viewBox:U,preserveAspectRatio:"none",style:m},x),l.createElement("path",{className:"".concat(o,"-line-trail"),d:G,strokeLinecap:d,stroke:g,strokeWidth:y||u,fillOpacity:"0"}),k.map(function(ae,te){var Be=1;switch(d){case"round":Be=1-u/100;break;case"square":Be=1-u/2/100;break;default:Be=1;break}var Ue={strokeDasharray:"".concat(ae*Be,"px, 100px"),strokeDashoffset:"-".concat(K,"px"),transition:b||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},Pe=I[te]||I[I.length-1];return K+=ae,l.createElement("path",{key:te,className:"".concat(o,"-line-path"),d:G,strokeLinecap:d,stroke:Pe,strokeWidth:u,fillOpacity:"0",ref:function(ge){B[te]=ge},style:Ue})}))};sn.defaultProps=vn,sn.displayName="Line";const wt=sn;var Zn=p(86522),En=p(96234),An=p(39588),qn=0,Ba=(0,An.Z)();function hr(){var e;return Ba?(e=qn,qn+=1):e="TEST_OR_SSR",e}const yr=function(e){var t=l.useState(),n=(0,En.Z)(t,2),s=n[0],o=n[1];return l.useEffect(function(){o("rc_progress_".concat(hr()))},[]),e||s};var Pa=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function ea(e){return+e.replace("%","")}function bn(e){var t=e!=null?e:[];return Array.isArray(t)?t:[t]}var fn=100,Bn=function(t,n,s,o,c,d,u,m,g,y){var b=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,x=s/100*360*((360-d)/360),k=d===0?0:{bottom:0,top:180,left:90,right:-90}[u],I=(100-o)/100*n;return g==="round"&&o!==100&&(I+=y/2,I>=n&&(I=n-.01)),{stroke:typeof m=="string"?m:void 0,strokeDasharray:"".concat(n,"px ").concat(t),strokeDashoffset:I+b,transform:"rotate(".concat(c+x+k,"deg)"),transformOrigin:"0 0",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Oa=function(t){var n=t.id,s=t.prefixCls,o=t.steps,c=t.strokeWidth,d=t.trailWidth,u=t.gapDegree,m=u===void 0?0:u,g=t.gapPosition,y=t.trailColor,b=t.strokeLinecap,x=t.style,k=t.className,I=t.strokeColor,B=t.percent,M=(0,an.Z)(t,Pa),D=yr(n),G="".concat(D,"-gradient"),U=fn/2-c/2,K=Math.PI*2*U,ae=m>0?90+m/2:-90,te=K*((360-m)/360),Be=(0,Zn.Z)(o)==="object"?o:{count:o,space:2},Ue=Be.count,Pe=Be.space,gt=Bn(K,te,0,100,ae,m,g,y,b,c),ge=bn(B),et=bn(I),Jt=et.find(function(ye){return ye&&(0,Zn.Z)(ye)==="object"}),re=gn(),lt=function(){var Ve=0;return ge.map(function(fe,le){var ve=et[le]||et[et.length-1],Ge=ve&&(0,Zn.Z)(ve)==="object"?"url(#".concat(G,")"):void 0,he=Bn(K,te,Ve,fe,ae,m,g,ve,b,c);return Ve+=fe,l.createElement("circle",{key:le,className:"".concat(s,"-circle-path"),r:U,cx:0,cy:0,stroke:Ge,strokeLinecap:b,strokeWidth:c,opacity:fe===0?0:1,style:he,ref:function(Yt){re[le]=Yt}})}).reverse()},Oe=function(){var Ve=Math.round(Ue*(ge[0]/100)),fe=100/Ue,le=0;return new Array(Ue).fill(null).map(function(ve,Ge){var he=Ge<=Ve-1?et[0]:y,Ze=he&&(0,Zn.Z)(he)==="object"?"url(#".concat(G,")"):void 0,Yt=Bn(K,te,le,fe,ae,m,g,he,"butt",c,Pe);return le+=(te-Yt.strokeDashoffset+Pe)*100/te,l.createElement("circle",{key:Ge,className:"".concat(s,"-circle-path"),r:U,cx:0,cy:0,stroke:Ze,strokeWidth:c,opacity:1,style:Yt,ref:function(jn){re[Ge]=jn}})})};return l.createElement("svg",(0,_n.Z)({className:Ie()("".concat(s,"-circle"),k),viewBox:"".concat(-fn/2," ").concat(-fn/2," ").concat(fn," ").concat(fn),style:x,id:n,role:"presentation"},M),Jt&&l.createElement("defs",null,l.createElement("linearGradient",{id:G,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(Jt).sort(function(ye,Ve){return ea(ye)-ea(Ve)}).map(function(ye,Ve){return l.createElement("stop",{key:Ve,offset:ye,stopColor:Jt[ye]})}))),!Ue&&l.createElement("circle",{className:"".concat(s,"-circle-trail"),r:U,cx:0,cy:0,stroke:y,strokeLinecap:b,strokeWidth:d||c,style:gt}),Ue?Oe():lt())};Oa.defaultProps=vn,Oa.displayName="Circle";const Vt={Line:wt,Circle:Oa};var vr=p(21324),ta=p(7089),Vn=p(42494),La=p(74603),na=p(56939),Dt=p(12231),$a=p(73698),Pn=p(72379),xn=p(74600),Da=p(15584),aa=p(79784),ra=p(37794),sa=p.n(ra),Er=p(18671),br=p(18473),Ma=p(57998),On=p(6487),Es=p(99152),oa=p(67222),Wa=p(21070),za=p(90324),xr=p(98281),Ha=p(33375),ia=p(44233),Sr=p(27604),la=p(36444),Rr=p(37971),Cr=p(59709),Fa=p(17373),bs=p(3702),kr=p(93111),xs=p(44311),wr=p(83543),ja=p(59797),Ua=p(26739),Tr=p(86619),xe=p(98989);const F=p.p+"static/mic-drop.fe3ef4d0..svg";var on=p(16173),N;(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{const c={};for(const d of o)c[d]=d;return c},e.getValidEnumValues=o=>{const c=e.objectKeys(o).filter(u=>typeof o[o[u]]!="number"),d={};for(const u of c)d[u]=o[u];return e.objectValues(d)},e.objectValues=o=>e.objectKeys(o).map(function(c){return o[c]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const c=[];for(const d in o)Object.prototype.hasOwnProperty.call(o,d)&&c.push(d);return c},e.find=(o,c)=>{for(const d of o)if(c(d))return d},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function s(o,c=" | "){return o.map(d=>typeof d=="string"?`'${d}'`:d).join(c)}e.joinValues=s})(N||(N={}));const H=N.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Le=e=>{switch(typeof e){case"undefined":return H.undefined;case"string":return H.string;case"number":return isNaN(e)?H.nan:H.number;case"boolean":return H.boolean;case"function":return H.function;case"bigint":return H.bigint;case"object":return Array.isArray(e)?H.array:e===null?H.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?H.promise:typeof Map!="undefined"&&e instanceof Map?H.map:typeof Set!="undefined"&&e instanceof Set?H.set:typeof Date!="undefined"&&e instanceof Date?H.date:H.object;default:return H.unknown}},$=N.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),Sn=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Xt extends Error{constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(c){return c.message},s={_errors:[]},o=c=>{for(const d of c.issues)if(d.code==="invalid_union")d.unionErrors.map(o);else if(d.code==="invalid_return_type")o(d.returnTypeError);else if(d.code==="invalid_arguments")o(d.argumentsError);else if(d.path.length===0)s._errors.push(n(d));else{let u=s,m=0;for(;m<d.path.length;){const g=d.path[m];m===d.path.length-1?(u[g]=u[g]||{_errors:[]},u[g]._errors.push(n(d))):u[g]=u[g]||{_errors:[]},u=u[g],m++}}};return o(this),s}toString(){return this.message}get message(){return JSON.stringify(this.issues,Gn,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},s=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):s.push(t(o));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}Xt.create=e=>new Xt(e);const ln=(e,t)=>{let n;switch(e.code){case $.invalid_type:e.received===H.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case $.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Gn)}`;break;case $.unrecognized_keys:n=`Unrecognized key(s) in object: ${N.joinValues(e.keys,", ")}`;break;case $.invalid_union:n="Invalid input";break;case $.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${N.joinValues(e.options)}`;break;case $.invalid_enum_value:n=`Invalid enum value. Expected ${N.joinValues(e.options)}, received '${e.received}'`;break;case $.invalid_arguments:n="Invalid function arguments";break;case $.invalid_return_type:n="Invalid function return type";break;case $.invalid_date:n="Invalid date";break;case $.invalid_string:typeof e.validation=="object"?"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:N.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case $.too_small:e.type==="array"?n=`Array must contain ${e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be greater than ${e.inclusive?"or equal to ":""}${e.minimum}`:e.type==="date"?n=`Date must be greater than ${e.inclusive?"or equal to ":""}${new Date(e.minimum)}`:n="Invalid input";break;case $.too_big:e.type==="array"?n=`Array must contain ${e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be less than ${e.inclusive?"or equal to ":""}${e.maximum}`:e.type==="date"?n=`Date must be smaller than ${e.inclusive?"or equal to ":""}${new Date(e.maximum)}`:n="Invalid input";break;case $.custom:n="Invalid input";break;case $.invalid_intersection_types:n="Intersection results could not be merged";break;case $.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;default:n=t.defaultError,N.assertNever(e)}return{message:n}};let Ln=ln;function Ir(e){Ln=e}function Y(){return Ln}const je=e=>{const{data:t,path:n,errorMaps:s,issueData:o}=e,c=[...n,...o.path||[]],d={...o,path:c};let u="";const m=s.filter(g=>!!g).slice().reverse();for(const g of m)u=g(d,{data:t,defaultError:u}).message;return{...o,path:c,message:o.message||u}},ie=[];function Q(e,t){const n=je({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Y(),ln].filter(s=>!!s)});e.common.issues.push(n)}class Se{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const s=[];for(const o of n){if(o.status==="aborted")return se;o.status==="dirty"&&t.dirty(),s.push(o.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,n){const s=[];for(const o of n)s.push({key:await o.key,value:await o.value});return Se.mergeObjectSync(t,s)}static mergeObjectSync(t,n){const s={};for(const o of n){const{key:c,value:d}=o;if(c.status==="aborted"||d.status==="aborted")return se;c.status==="dirty"&&t.dirty(),d.status==="dirty"&&t.dirty(),(typeof d.value!="undefined"||o.alwaysSet)&&(s[c.value]=d.value)}return{status:t.value,value:s}}}const se=Object.freeze({status:"aborted"}),ca=e=>({status:"dirty",value:e}),rt=e=>({status:"valid",value:e}),$n=e=>e.status==="aborted",Dn=e=>e.status==="dirty",ue=e=>e.status==="valid",Tt=e=>typeof Promise!==void 0&&e instanceof Promise,Gn=(e,t)=>typeof t=="bigint"?t.toString():t;var z;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(z||(z={}));class ne{constructor(t,n,s,o){this.parent=t,this.data=n,this._path=s,this._key=o}get path(){return this._path.concat(this._key)}}const Va=(e,t)=>{if(ue(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new Xt(e.common.issues)}};function pe(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:o}=e;if(t&&(n||s))throw new Error(`Can't use "invalid" or "required" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(d,u)=>d.code!=="invalid_type"?{message:u.defaultError}:typeof u.data=="undefined"?{message:s!=null?s:u.defaultError}:{message:n!=null?n:u.defaultError},description:o}}class me{constructor(t){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Le(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Le(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Se,ctx:{common:t.parent.common,data:t.data,parsedType:Le(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Tt(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const s=this.safeParse(t,n);if(s.success)return s.data;throw s.error}safeParse(t,n){var s;const o={common:{issues:[],async:(s=n==null?void 0:n.async)!==null&&s!==void 0?s:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Le(t)},c=this._parseSync({data:t,path:o.path,parent:o});return Va(o,c)}async parseAsync(t,n){const s=await this.safeParseAsync(t,n);if(s.success)return s.data;throw s.error}async safeParseAsync(t,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Le(t)},o=this._parse({data:t,path:[],parent:s}),c=await(Tt(o)?o:Promise.resolve(o));return Va(s,c)}refine(t,n){const s=o=>typeof n=="string"||typeof n=="undefined"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,c)=>{const d=t(o),u=()=>c.addIssue({code:$.custom,...s(o)});return typeof Promise!="undefined"&&d instanceof Promise?d.then(m=>m?!0:(u(),!1)):d?!0:(u(),!1)})}refinement(t,n){return this._refinement((s,o)=>t(s)?!0:(o.addIssue(typeof n=="function"?n(s,o):n),!1))}_refinement(t){return new Ce({schema:this,typeName:ee.ZodEffects,effect:{type:"refinement",refinement:t}})}optional(){return yt.create(this)}nullable(){return Ht.create(this)}nullish(){return this.optional().nullable()}array(){return C.create(this)}promise(){return bt.create(this)}or(t){return V.create([this,t])}and(t){return Je.create(this,t)}transform(t){return new Ce({schema:this,typeName:ee.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new At({innerType:this,defaultValue:n,typeName:ee.ZodDefault})}brand(){return new q({typeName:ee.ZodBranded,type:this,...pe(void 0)})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cn=/^c[^\s-]{8,}$/i,Nr=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,_t=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class It extends me{constructor(){super(...arguments),this._regex=(t,n,s)=>this.refinement(o=>t.test(o),{validation:n,code:$.invalid_string,...z.errToObj(s)}),this.nonempty=t=>this.min(1,z.errToObj(t)),this.trim=()=>new It({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(t){if(this._getType(t)!==H.string){const c=this._getOrReturnCtx(t);return Q(c,{code:$.invalid_type,expected:H.string,received:c.parsedType}),se}const s=new Se;let o;for(const c of this._def.checks)if(c.kind==="min")t.data.length<c.value&&(o=this._getOrReturnCtx(t,o),Q(o,{code:$.too_small,minimum:c.value,type:"string",inclusive:!0,message:c.message}),s.dirty());else if(c.kind==="max")t.data.length>c.value&&(o=this._getOrReturnCtx(t,o),Q(o,{code:$.too_big,maximum:c.value,type:"string",inclusive:!0,message:c.message}),s.dirty());else if(c.kind==="email")_t.test(t.data)||(o=this._getOrReturnCtx(t,o),Q(o,{validation:"email",code:$.invalid_string,message:c.message}),s.dirty());else if(c.kind==="uuid")Nr.test(t.data)||(o=this._getOrReturnCtx(t,o),Q(o,{validation:"uuid",code:$.invalid_string,message:c.message}),s.dirty());else if(c.kind==="cuid")cn.test(t.data)||(o=this._getOrReturnCtx(t,o),Q(o,{validation:"cuid",code:$.invalid_string,message:c.message}),s.dirty());else if(c.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),Q(o,{validation:"url",code:$.invalid_string,message:c.message}),s.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),Q(o,{validation:"regex",code:$.invalid_string,message:c.message}),s.dirty())):c.kind==="trim"?t.data=t.data.trim():c.kind==="startsWith"?t.data.startsWith(c.value)||(o=this._getOrReturnCtx(t,o),Q(o,{code:$.invalid_string,validation:{startsWith:c.value},message:c.message}),s.dirty()):c.kind==="endsWith"?t.data.endsWith(c.value)||(o=this._getOrReturnCtx(t,o),Q(o,{code:$.invalid_string,validation:{endsWith:c.value},message:c.message}),s.dirty()):N.assertNever(c);return{status:s.value,value:t.data}}_addCheck(t){return new It({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...z.errToObj(t)})}url(t){return this._addCheck({kind:"url",...z.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...z.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...z.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...z.errToObj(n)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...z.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...z.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...z.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...z.errToObj(n)})}length(t,n){return this.min(t,n).max(t,n)}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}It.create=e=>new It({checks:[],typeName:ee.ZodString,...pe(e)});function Mn(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,o=n>s?n:s,c=parseInt(e.toFixed(o).replace(".","")),d=parseInt(t.toFixed(o).replace(".",""));return c%d/Math.pow(10,o)}class Nt extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._getType(t)!==H.number){const c=this._getOrReturnCtx(t);return Q(c,{code:$.invalid_type,expected:H.number,received:c.parsedType}),se}let s;const o=new Se;for(const c of this._def.checks)c.kind==="int"?N.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{code:$.invalid_type,expected:"integer",received:"float",message:c.message}),o.dirty()):c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(s=this._getOrReturnCtx(t,s),Q(s,{code:$.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,message:c.message}),o.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(s=this._getOrReturnCtx(t,s),Q(s,{code:$.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,message:c.message}),o.dirty()):c.kind==="multipleOf"?Mn(t.data,c.value)!==0&&(s=this._getOrReturnCtx(t,s),Q(s,{code:$.not_multiple_of,multipleOf:c.value,message:c.message}),o.dirty()):N.assertNever(c);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,z.toString(n))}gt(t,n){return this.setLimit("min",t,!1,z.toString(n))}lte(t,n){return this.setLimit("max",t,!0,z.toString(n))}lt(t,n){return this.setLimit("max",t,!1,z.toString(n))}setLimit(t,n,s,o){return new Nt({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:z.toString(o)}]})}_addCheck(t){return new Nt({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:z.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:z.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:z.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:z.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:z.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:z.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int")}}Nt.create=e=>new Nt({checks:[],typeName:ee.ZodNumber,...pe(e)});class hn extends me{_parse(t){if(this._getType(t)!==H.bigint){const s=this._getOrReturnCtx(t);return Q(s,{code:$.invalid_type,expected:H.bigint,received:s.parsedType}),se}return rt(t.data)}}hn.create=e=>new hn({typeName:ee.ZodBigInt,...pe(e)});class yn extends me{_parse(t){if(this._getType(t)!==H.boolean){const s=this._getOrReturnCtx(t);return Q(s,{code:$.invalid_type,expected:H.boolean,received:s.parsedType}),se}return rt(t.data)}}yn.create=e=>new yn({typeName:ee.ZodBoolean,...pe(e)});class Mt extends me{_parse(t){if(this._getType(t)!==H.date){const c=this._getOrReturnCtx(t);return Q(c,{code:$.invalid_type,expected:H.date,received:c.parsedType}),se}if(isNaN(t.data.getTime())){const c=this._getOrReturnCtx(t);return Q(c,{code:$.invalid_date}),se}const s=new Se;let o;for(const c of this._def.checks)c.kind==="min"?t.data.getTime()<c.value&&(o=this._getOrReturnCtx(t,o),Q(o,{code:$.too_small,message:c.message,inclusive:!0,minimum:c.value,type:"date"}),s.dirty()):c.kind==="max"?t.data.getTime()>c.value&&(o=this._getOrReturnCtx(t,o),Q(o,{code:$.too_big,message:c.message,inclusive:!0,maximum:c.value,type:"date"}),s.dirty()):N.assertNever(c);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Mt({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:z.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:z.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Mt.create=e=>new Mt({checks:[],typeName:ee.ZodDate,...pe(e)});class Wt extends me{_parse(t){if(this._getType(t)!==H.undefined){const s=this._getOrReturnCtx(t);return Q(s,{code:$.invalid_type,expected:H.undefined,received:s.parsedType}),se}return rt(t.data)}}Wt.create=e=>new Wt({typeName:ee.ZodUndefined,...pe(e)});class zt extends me{_parse(t){if(this._getType(t)!==H.null){const s=this._getOrReturnCtx(t);return Q(s,{code:$.invalid_type,expected:H.null,received:s.parsedType}),se}return rt(t.data)}}zt.create=e=>new zt({typeName:ee.ZodNull,...pe(e)});class E extends me{constructor(){super(...arguments),this._any=!0}_parse(t){return rt(t.data)}}E.create=e=>new E({typeName:ee.ZodAny,...pe(e)});class f extends me{constructor(){super(...arguments),this._unknown=!0}_parse(t){return rt(t.data)}}f.create=e=>new f({typeName:ee.ZodUnknown,...pe(e)});class v extends me{_parse(t){const n=this._getOrReturnCtx(t);return Q(n,{code:$.invalid_type,expected:H.never,received:n.parsedType}),se}}v.create=e=>new v({typeName:ee.ZodNever,...pe(e)});class R extends me{_parse(t){if(this._getType(t)!==H.undefined){const s=this._getOrReturnCtx(t);return Q(s,{code:$.invalid_type,expected:H.void,received:s.parsedType}),se}return rt(t.data)}}R.create=e=>new R({typeName:ee.ZodVoid,...pe(e)});class C extends me{_parse(t){const{ctx:n,status:s}=this._processInputParams(t),o=this._def;if(n.parsedType!==H.array)return Q(n,{code:$.invalid_type,expected:H.array,received:n.parsedType}),se;if(o.minLength!==null&&n.data.length<o.minLength.value&&(Q(n,{code:$.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,message:o.minLength.message}),s.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(Q(n,{code:$.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,message:o.maxLength.message}),s.dirty()),n.common.async)return Promise.all(n.data.map((d,u)=>o.type._parseAsync(new ne(n,d,n.path,u)))).then(d=>Se.mergeArray(s,d));const c=n.data.map((d,u)=>o.type._parseSync(new ne(n,d,n.path,u)));return Se.mergeArray(s,c)}get element(){return this._def.type}min(t,n){return new C({...this._def,minLength:{value:t,message:z.toString(n)}})}max(t,n){return new C({...this._def,maxLength:{value:t,message:z.toString(n)}})}length(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}C.create=(e,t)=>new C({type:e,minLength:null,maxLength:null,typeName:ee.ZodArray,...pe(t)});var w;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(w||(w={}));const Z=e=>t=>new T({...e,shape:()=>({...e.shape(),...t})});function A(e){if(e instanceof T){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=yt.create(A(s))}return new T({...e._def,shape:()=>t})}else return e instanceof C?C.create(A(e.element)):e instanceof yt?yt.create(A(e.unwrap())):e instanceof Ht?Ht.create(A(e.unwrap())):e instanceof Re?Re.create(e.items.map(t=>A(t))):e}class T extends me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=Z(this._def),this.extend=Z(this._def)}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=N.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==H.object){const g=this._getOrReturnCtx(t);return Q(g,{code:$.invalid_type,expected:H.object,received:g.parsedType}),se}const{status:s,ctx:o}=this._processInputParams(t),{shape:c,keys:d}=this._getCached(),u=[];for(const g in o.data)d.includes(g)||u.push(g);const m=[];for(const g of d){const y=c[g],b=o.data[g];m.push({key:{status:"valid",value:g},value:y._parse(new ne(o,b,o.path,g)),alwaysSet:g in o.data})}if(this._def.catchall instanceof v){const g=this._def.unknownKeys;if(g==="passthrough")for(const y of u)m.push({key:{status:"valid",value:y},value:{status:"valid",value:o.data[y]}});else if(g==="strict")u.length>0&&(Q(o,{code:$.unrecognized_keys,keys:u}),s.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const y of u){const b=o.data[y];m.push({key:{status:"valid",value:y},value:g._parse(new ne(o,b,o.path,y)),alwaysSet:y in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const g=[];for(const y of m){const b=await y.key;g.push({key:b,value:await y.value,alwaysSet:y.alwaysSet})}return g}).then(g=>Se.mergeObjectSync(s,g)):Se.mergeObjectSync(s,m)}get shape(){return this._def.shape()}strict(t){return z.errToObj,new T({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,s)=>{var o,c,d,u;const m=(d=(c=(o=this._def).errorMap)===null||c===void 0?void 0:c.call(o,n,s).message)!==null&&d!==void 0?d:s.defaultError;return n.code==="unrecognized_keys"?{message:(u=z.errToObj(t).message)!==null&&u!==void 0?u:m}:{message:m}}}:{}})}strip(){return new T({...this._def,unknownKeys:"strip"})}passthrough(){return new T({...this._def,unknownKeys:"passthrough"})}setKey(t,n){return this.augment({[t]:n})}merge(t){return new T({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>w.mergeShapes(this._def.shape(),t._def.shape()),typeName:ee.ZodObject})}catchall(t){return new T({...this._def,catchall:t})}pick(t){const n={};return N.objectKeys(t).map(s=>{this.shape[s]&&(n[s]=this.shape[s])}),new T({...this._def,shape:()=>n})}omit(t){const n={};return N.objectKeys(this.shape).map(s=>{N.objectKeys(t).indexOf(s)===-1&&(n[s]=this.shape[s])}),new T({...this._def,shape:()=>n})}deepPartial(){return A(this)}partial(t){const n={};if(t)return N.objectKeys(this.shape).map(s=>{N.objectKeys(t).indexOf(s)===-1?n[s]=this.shape[s]:n[s]=this.shape[s].optional()}),new T({...this._def,shape:()=>n});for(const s in this.shape){const o=this.shape[s];n[s]=o.optional()}return new T({...this._def,shape:()=>n})}required(){const t={};for(const n in this.shape){let o=this.shape[n];for(;o instanceof yt;)o=o._def.innerType;t[n]=o}return new T({...this._def,shape:()=>t})}keyof(){return Rt(N.objectKeys(this.shape))}}T.create=(e,t)=>new T({shape:()=>e,unknownKeys:"strip",catchall:v.create(),typeName:ee.ZodObject,...pe(t)}),T.strictCreate=(e,t)=>new T({shape:()=>e,unknownKeys:"strict",catchall:v.create(),typeName:ee.ZodObject,...pe(t)}),T.lazycreate=(e,t)=>new T({shape:e,unknownKeys:"strip",catchall:v.create(),typeName:ee.ZodObject,...pe(t)});class V extends me{_parse(t){const{ctx:n}=this._processInputParams(t),s=this._def.options;function o(c){for(const u of c)if(u.result.status==="valid")return u.result;for(const u of c)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const d=c.map(u=>new Xt(u.ctx.common.issues));return Q(n,{code:$.invalid_union,unionErrors:d}),se}if(n.common.async)return Promise.all(s.map(async c=>{const d={...n,common:{...n.common,issues:[]},parent:null};return{result:await c._parseAsync({data:n.data,path:n.path,parent:d}),ctx:d}})).then(o);{let c;const d=[];for(const m of s){const g={...n,common:{...n.common,issues:[]},parent:null},y=m._parseSync({data:n.data,path:n.path,parent:g});if(y.status==="valid")return y;y.status==="dirty"&&!c&&(c={result:y,ctx:g}),g.common.issues.length&&d.push(g.common.issues)}if(c)return n.common.issues.push(...c.ctx.common.issues),c.result;const u=d.map(m=>new Xt(m));return Q(n,{code:$.invalid_union,unionErrors:u}),se}}get options(){return this._def.options}}V.create=(e,t)=>new V({options:e,typeName:ee.ZodUnion,...pe(t)});class _ extends me{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==H.object)return Q(n,{code:$.invalid_type,expected:H.object,received:n.parsedType}),se;const s=this.discriminator,o=n.data[s],c=this.options.get(o);return c?n.common.async?c._parseAsync({data:n.data,path:n.path,parent:n}):c._parseSync({data:n.data,path:n.path,parent:n}):(Q(n,{code:$.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[s]}),se)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(t,n,s){const o=new Map;try{n.forEach(c=>{const d=c.shape[t].value;o.set(d,c)})}catch{throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(o.size!==n.length)throw new Error("Some of the discriminator values are not unique");return new _({typeName:ee.ZodDiscriminatedUnion,discriminator:t,options:o,...pe(s)})}}function Ne(e,t){const n=Le(e),s=Le(t);if(e===t)return{valid:!0,data:e};if(n===H.object&&s===H.object){const o=N.objectKeys(t),c=N.objectKeys(e).filter(u=>o.indexOf(u)!==-1),d={...e,...t};for(const u of c){const m=Ne(e[u],t[u]);if(!m.valid)return{valid:!1};d[u]=m.data}return{valid:!0,data:d}}else if(n===H.array&&s===H.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let c=0;c<e.length;c++){const d=e[c],u=t[c],m=Ne(d,u);if(!m.valid)return{valid:!1};o.push(m.data)}return{valid:!0,data:o}}else return n===H.date&&s===H.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Je extends me{_parse(t){const{status:n,ctx:s}=this._processInputParams(t),o=(c,d)=>{if($n(c)||$n(d))return se;const u=Ne(c.value,d.value);return u.valid?((Dn(c)||Dn(d))&&n.dirty(),{status:n.value,value:u.data}):(Q(s,{code:$.invalid_intersection_types}),se)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([c,d])=>o(c,d)):o(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Je.create=(e,t,n)=>new Je({left:e,right:t,typeName:ee.ZodIntersection,...pe(n)});class Re extends me{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==H.array)return Q(s,{code:$.invalid_type,expected:H.array,received:s.parsedType}),se;if(s.data.length<this._def.items.length)return Q(s,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),se;!this._def.rest&&s.data.length>this._def.items.length&&(Q(s,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),n.dirty());const c=s.data.map((d,u)=>{const m=this._def.items[u]||this._def.rest;return m?m._parse(new ne(s,d,s.path,u)):null}).filter(d=>!!d);return s.common.async?Promise.all(c).then(d=>Se.mergeArray(n,d)):Se.mergeArray(n,c)}get items(){return this._def.items}rest(t){return new Re({...this._def,rest:t})}}Re.create=(e,t)=>new Re({items:e,typeName:ee.ZodTuple,rest:null,...pe(t)});class Ae extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==H.object)return Q(s,{code:$.invalid_type,expected:H.object,received:s.parsedType}),se;const o=[],c=this._def.keyType,d=this._def.valueType;for(const u in s.data)o.push({key:c._parse(new ne(s,u,s.path,u)),value:d._parse(new ne(s,s.data[u],s.path,u))});return s.common.async?Se.mergeObjectAsync(n,o):Se.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,s){return n instanceof me?new Ae({keyType:t,valueType:n,typeName:ee.ZodRecord,...pe(s)}):new Ae({keyType:It.create(),valueType:t,typeName:ee.ZodRecord,...pe(n)})}}class Ye extends me{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==H.map)return Q(s,{code:$.invalid_type,expected:H.map,received:s.parsedType}),se;const o=this._def.keyType,c=this._def.valueType,d=[...s.data.entries()].map(([u,m],g)=>({key:o._parse(new ne(s,u,s.path,[g,"key"])),value:c._parse(new ne(s,m,s.path,[g,"value"]))}));if(s.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const m of d){const g=await m.key,y=await m.value;if(g.status==="aborted"||y.status==="aborted")return se;(g.status==="dirty"||y.status==="dirty")&&n.dirty(),u.set(g.value,y.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const m of d){const g=m.key,y=m.value;if(g.status==="aborted"||y.status==="aborted")return se;(g.status==="dirty"||y.status==="dirty")&&n.dirty(),u.set(g.value,y.value)}return{status:n.value,value:u}}}}Ye.create=(e,t,n)=>new Ye({valueType:t,keyType:e,typeName:ee.ZodMap,...pe(n)});class _e extends me{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==H.set)return Q(s,{code:$.invalid_type,expected:H.set,received:s.parsedType}),se;const o=this._def;o.minSize!==null&&s.data.size<o.minSize.value&&(Q(s,{code:$.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&s.data.size>o.maxSize.value&&(Q(s,{code:$.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,message:o.maxSize.message}),n.dirty());const c=this._def.valueType;function d(m){const g=new Set;for(const y of m){if(y.status==="aborted")return se;y.status==="dirty"&&n.dirty(),g.add(y.value)}return{status:n.value,value:g}}const u=[...s.data.values()].map((m,g)=>c._parse(new ne(s,m,s.path,g)));return s.common.async?Promise.all(u).then(m=>d(m)):d(u)}min(t,n){return new _e({...this._def,minSize:{value:t,message:z.toString(n)}})}max(t,n){return new _e({...this._def,maxSize:{value:t,message:z.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}_e.create=(e,t)=>new _e({valueType:e,minSize:null,maxSize:null,typeName:ee.ZodSet,...pe(t)});class Et extends me{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==H.function)return Q(n,{code:$.invalid_type,expected:H.function,received:n.parsedType}),se;function s(u,m){return je({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Y(),ln].filter(g=>!!g),issueData:{code:$.invalid_arguments,argumentsError:m}})}function o(u,m){return je({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Y(),ln].filter(g=>!!g),issueData:{code:$.invalid_return_type,returnTypeError:m}})}const c={errorMap:n.common.contextualErrorMap},d=n.data;return this._def.returns instanceof bt?rt(async(...u)=>{const m=new Xt([]),g=await this._def.args.parseAsync(u,c).catch(x=>{throw m.addIssue(s(u,x)),m}),y=await d(...g);return await this._def.returns._def.type.parseAsync(y,c).catch(x=>{throw m.addIssue(o(y,x)),m})}):rt((...u)=>{const m=this._def.args.safeParse(u,c);if(!m.success)throw new Xt([s(u,m.error)]);const g=d(...m.data),y=this._def.returns.safeParse(g,c);if(!y.success)throw new Xt([o(g,y.error)]);return y.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Et({...this._def,args:Re.create(t).rest(f.create())})}returns(t){return new Et({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}}Et.create=(e,t,n)=>new Et({args:e?e.rest(f.create()):Re.create([]).rest(f.create()),returns:t||f.create(),typeName:ee.ZodFunction,...pe(n)});class st extends me{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}st.create=(e,t)=>new st({getter:e,typeName:ee.ZodLazy,...pe(t)});class Zt extends me{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Q(n,{code:$.invalid_literal,expected:this._def.value}),se}return{status:"valid",value:t.data}}get value(){return this._def.value}}Zt.create=(e,t)=>new Zt({value:e,typeName:ee.ZodLiteral,...pe(t)});function Rt(e,t){return new it({values:e,typeName:ee.ZodEnum,...pe(t)})}class it extends me{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),s=this._def.values;return Q(n,{expected:N.joinValues(s),received:n.parsedType,code:$.invalid_type}),se}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),s=this._def.values;return Q(n,{received:n.data,code:$.invalid_enum_value,options:s}),se}return rt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}}it.create=Rt;class qe extends me{_parse(t){const n=N.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==H.string&&s.parsedType!==H.number){const o=N.objectValues(n);return Q(s,{expected:N.joinValues(o),received:s.parsedType,code:$.invalid_type}),se}if(n.indexOf(t.data)===-1){const o=N.objectValues(n);return Q(s,{received:s.data,code:$.invalid_enum_value,options:o}),se}return rt(t.data)}get enum(){return this._def.values}}qe.create=(e,t)=>new qe({values:e,typeName:ee.ZodNativeEnum,...pe(t)});class bt extends me{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==H.promise&&n.common.async===!1)return Q(n,{code:$.invalid_type,expected:H.promise,received:n.parsedType}),se;const s=n.parsedType===H.promise?n.data:Promise.resolve(n.data);return rt(s.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}bt.create=(e,t)=>new bt({type:e,typeName:ee.ZodPromise,...pe(t)});class Ce extends me{innerType(){return this._def.schema}_parse(t){const{status:n,ctx:s}=this._processInputParams(t),o=this._def.effect||null;if(o.type==="preprocess"){const d=o.transform(s.data);return s.common.async?Promise.resolve(d).then(u=>this._def.schema._parseAsync({data:u,path:s.path,parent:s})):this._def.schema._parseSync({data:d,path:s.path,parent:s})}const c={addIssue:d=>{Q(s,d),d.fatal?n.abort():n.dirty()},get path(){return s.path}};if(c.addIssue=c.addIssue.bind(c),o.type==="refinement"){const d=u=>{const m=o.refinement(u,c);if(s.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(s.common.async===!1){const u=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return u.status==="aborted"?se:(u.status==="dirty"&&n.dirty(),d(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(u=>u.status==="aborted"?se:(u.status==="dirty"&&n.dirty(),d(u.value).then(()=>({status:n.value,value:u.value}))))}if(o.type==="transform")if(s.common.async===!1){const d=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!ue(d))return d;const u=o.transform(d.value,c);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(d=>ue(d)?Promise.resolve(o.transform(d.value,c)).then(u=>({status:n.value,value:u})):d);N.assertNever(o)}}Ce.create=(e,t,n)=>new Ce({schema:e,typeName:ee.ZodEffects,effect:t,...pe(n)}),Ce.createWithPreprocess=(e,t,n)=>new Ce({schema:t,effect:{type:"preprocess",transform:e},typeName:ee.ZodEffects,...pe(n)});class yt extends me{_parse(t){return this._getType(t)===H.undefined?rt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}yt.create=(e,t)=>new yt({innerType:e,typeName:ee.ZodOptional,...pe(t)});class Ht extends me{_parse(t){return this._getType(t)===H.null?rt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ht.create=(e,t)=>new Ht({innerType:e,typeName:ee.ZodNullable,...pe(t)});class At extends me{_parse(t){const{ctx:n}=this._processInputParams(t);let s=n.data;return n.parsedType===H.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}At.create=(e,t)=>new yt({innerType:e,typeName:ee.ZodOptional,...pe(t)});class dn extends me{_parse(t){if(this._getType(t)!==H.nan){const s=this._getOrReturnCtx(t);return Q(s,{code:$.invalid_type,expected:H.nan,received:s.parsedType}),se}return{status:"valid",value:t.data}}}dn.create=e=>new dn({typeName:ee.ZodNaN,...pe(e)});const da=Symbol("zod_brand");class q extends me{_parse(t){const{ctx:n}=this._processInputParams(t),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}const ua=(e,t={},n)=>e?E.create().superRefine((s,o)=>{if(!e(s)){const c=typeof t=="function"?t(s):t,d=typeof c=="string"?{message:c}:c;o.addIssue({code:"custom",...d,fatal:n})}}):E.create(),Rn={object:T.lazycreate};var ee;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded"})(ee||(ee={}));const Wn=(e,t={message:`Input not instance of ${e.name}`})=>ua(n=>n instanceof e,t,!0),Kn=It.create,Cn=Nt.create,pa=dn.create,pt=hn.create,mt=yn.create,Gt=Mt.create,Zr=Wt.create,Ss=zt.create,Ar=E.create,jo=f.create,Uo=v.create,Vo=R.create,Go=C.create,Ko=T.create,Jo=T.strictCreate,Yo=V.create,Qo=_.create,Xo=Je.create,_o=Re.create,qo=Ae.create,ei=Ye.create,ti=_e.create,ni=Et.create,ai=st.create,ri=Zt.create,Rs=it.create,si=qe.create,oi=bt.create,Cs=Ce.create,Wc=yt.create,zc=Ht.create,Hc=Ce.createWithPreprocess;var Bt=Object.freeze({__proto__:null,getParsedType:Le,ZodParsedType:H,makeIssue:je,EMPTY_PATH:ie,addIssueToContext:Q,ParseStatus:Se,INVALID:se,DIRTY:ca,OK:rt,isAborted:$n,isDirty:Dn,isValid:ue,isAsync:Tt,jsonStringifyReplacer:Gn,ZodType:me,ZodString:It,ZodNumber:Nt,ZodBigInt:hn,ZodBoolean:yn,ZodDate:Mt,ZodUndefined:Wt,ZodNull:zt,ZodAny:E,ZodUnknown:f,ZodNever:v,ZodVoid:R,ZodArray:C,get objectUtil(){return w},ZodObject:T,ZodUnion:V,ZodDiscriminatedUnion:_,ZodIntersection:Je,ZodTuple:Re,ZodRecord:Ae,ZodMap:Ye,ZodSet:_e,ZodFunction:Et,ZodLazy:st,ZodLiteral:Zt,ZodEnum:it,ZodNativeEnum:qe,ZodPromise:bt,ZodEffects:Ce,ZodTransformer:Ce,ZodOptional:yt,ZodNullable:Ht,ZodDefault:At,ZodNaN:dn,BRAND:da,ZodBranded:q,custom:ua,Schema:me,ZodSchema:me,late:Rn,get ZodFirstPartyTypeKind(){return ee},any:Ar,array:Go,bigint:pt,boolean:mt,date:Gt,discriminatedUnion:Qo,effect:Cs,enum:Rs,function:ni,instanceof:Wn,intersection:Xo,lazy:ai,literal:ri,map:ei,nan:pa,nativeEnum:si,never:Uo,null:Ss,nullable:zc,number:Cn,object:Ko,oboolean:()=>mt().optional(),onumber:()=>Cn().optional(),optional:Wc,ostring:()=>Kn().optional(),preprocess:Hc,promise:oi,record:qo,set:ti,strictObject:Jo,string:Kn,transformer:Cs,tuple:_o,undefined:Zr,union:Yo,unknown:jo,void:Vo,ZodIssueCode:$,quotelessJson:Sn,ZodError:Xt,defaultErrorMap:ln,setErrorMap:Ir,getErrorMap:Y}),li=p(63955),ci=p(74828),di=p(45455),ui=p.n(di);function jc(e){const[t,n]=useState([]),s=useApi(alertApiRef),{anchorOrigin:o={vertical:"top",horizontal:"center"},transientTimeoutMs:c}=e,d=c!=null?c:5e3;useEffect(()=>{const g=s.alert$().subscribe(y=>n(b=>b.concat(y)));return()=>{g.unsubscribe()}},[s]);const[u]=t;if(useEffect(()=>{if(u&&u.display==="transient"){const g=setTimeout(()=>{n(y=>{const b=y.filter(x=>x!==u);return b.length===y.length?y:b})},d);return()=>clearTimeout(g)}},[u,d]),t.length===0)return null;const m=()=>{n(g=>g.filter(y=>y!==u))};return React.createElement(Snackbar,{open:!0,anchorOrigin:o},React.createElement(Alert,{action:React.createElement(IconButton,{color:"inherit",size:"small",onClick:m,"data-testid":"error-button-close"},React.createElement(CloseIcon,null)),severity:u.severity},React.createElement(Typography,{component:"span"},String(u.message),t.length>1&&React.createElement("em",null,` (${t.length-1} older ${pluralize("message",t.length-1)})`))))}function Uc(e){let t=0;for(let s=0;s<e.length;s++)t=e.charCodeAt(s)+((t<<5)-t);let n="#";for(let s=0;s<3;s++){const o=t>>s*8&255;n+=`00${o.toString(16)}`.slice(-2)}return n}function pi(e){var t;return(t=e.match(/\b\w/g))==null?void 0:t.join("").slice(0,2)}const mi=(0,S.Z)(e=>({avatar:{width:"4rem",height:"4rem",color:e.palette.common.white},avatarText:{fontWeight:e.typography.fontWeightBold,letterSpacing:"1px",textTransform:"uppercase"}}),{name:"BackstageAvatar"});function gi(e){const{displayName:t,picture:n,customStyles:s}=e,o=mi();let c={...s};const d={fontFamily:c.fontFamily,fontSize:c.fontSize,fontWeight:c.fontWeight};return n||(c={backgroundColor:Uc(t||""),...s}),React.createElement(MaterialAvatar,{alt:t,src:n,className:o.avatar,style:c},t&&React.createElement(Typography,{variant:"h6",component:"span",className:o.avatarText,style:d},pi(t)))}function ks(){const[e]=(0,dt.is)(l.createElement(dt.AW,{index:!0,element:l.createElement("div",null)}));return!e.index}const Br=(0,S.Z)({visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",height:1,width:1},externalLink:{position:"relative"}},{name:"Link"}),ws=e=>/^([a-z+.-]+):/.test(e),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,Pr=window.open;if(Pr&&!Pr.__backstage){const e=function(...n){const s=String(n[0]);if(Ts.test(s))throw new Error("Rejected window.open() with a javascript: URL as a security precaution");return Pr.apply(this,n)};e.__backstage=!0,window.open=e}const Or=()=>{try{return(0,j.u)(j.p).getOptionalString("app.baseUrl")}catch{return}},jt=()=>{var e;const t="http://sample.dev",n=(e=Or())!=null?e:"/",{pathname:s}=new URL(n,t);return(0,Xe.trimEnd)(s,"/")},fi=e=>{let t=String(e);const n=jt(),s=ws(t),o=t.startsWith(n);return!s&&!o&&(t=n.concat(t)),t},ma=e=>{var t;return e instanceof Array?e.map(ma).join(" ").trim():typeof e=="object"&&e?ma((t=e==null?void 0:e.props)==null?void 0:t.children):["string","number"].includes(typeof e)?String(e):""},Kt=l.forwardRef(({onClick:e,noTrack:t,...n},s)=>{const o=Br(),c=(0,de.z$)(),d=ks()?fi(n.to):n.to,u=ma(n.children)||d,m=ws(d),g=m&&!!/^https?:/.exec(d);if(Ts.test(d))throw new Error("Link component rejected javascript: URL as a security precaution");const y=b=>{e==null||e(b),t||c.captureEvent("click",u,{attributes:{to:d}})};return m?l.createElement(Ke.Z,{...g?{target:"_blank",rel:"noopener"}:{},...n,ref:s,href:d,onClick:y,className:Ie()(o.externalLink,n.className)},n.children,l.createElement(L.Z,{component:"span",className:o.visuallyHidden},", Opens in a new window")):l.createElement(Ke.Z,{...n,ref:s,component:De.rU,to:d,onClick:y})}),ga=l.forwardRef((e,t)=>l.createElement(Kt,{ref:t,...e,color:"initial"})),fa=l.forwardRef((e,t)=>l.createElement(We.Z,{ref:t,component:ga,...e})),Qd=null;function zn(e){const{text:t,tooltipDelay:n=1e3,tooltipText:s="Text copied to clipboard","aria-label":o="Copy text"}=e,c=(0,j.u)(j.r),[d,u]=(0,l.useState)(!1),[{error:m},g]=(0,tn.Z)();(0,l.useEffect)(()=>{m&&c.post(m)},[m,c]);const y=b=>{b.stopPropagation(),u(!0),g(t)};return l.createElement(l.Fragment,null,l.createElement(ht.ZP,{id:"copy-test-tooltip",title:s,placement:"top",leaveDelay:n,onClose:()=>u(!1),open:d},l.createElement(Ee.Z,{onClick:y,"aria-label":o},l.createElement(Ct.Z,null))))}function Ga(e){const{text:t,language:n,showLineNumbers:s=!1,highlightedNumbers:o,customStyle:c,showCopyCodeButton:d=!1}=e,u=(0,we.Z)(),m=u.palette.type==="dark"?Me.Z:vt.Z,g=u.palette.type==="dark"?"#256bf3":"#e6ffed";return l.createElement(P.Z,{position:"relative"},l.createElement(Fe.Z,{customStyle:c,language:n,style:m,showLineNumbers:s,wrapLines:!0,lineNumberStyle:{color:u.palette.textVerySubtle},lineProps:y=>o!=null&&o.includes(y)?{style:{backgroundColor:g}}:{}},t),d&&l.createElement(P.Z,{position:"absolute",top:0,right:0},l.createElement(zn,{text:t})))}function Is(e){const{title:t,to:n}=e,s=useMediaQuery(o=>o.breakpoints.down("xs"));return n?s?React.createElement(IconButton,{component:Link$1,color:"primary",title:t,size:"small",to:n},React.createElement(AddCircleOutline,null)):React.createElement(Button$1,{component:Link$1,variant:"contained",color:"primary",to:n},t):null}var ha=(e=>(e.TOP_BOTTOM="TB",e.BOTTOM_TOP="BT",e.LEFT_RIGHT="LR",e.RIGHT_LEFT="RL",e))(ha||{}),hi=(e=>(e.UP_LEFT="UL",e.UP_RIGHT="UR",e.DOWN_LEFT="DL",e.DOWN_RIGHT="DR",e))(hi||{}),Lr=(e=>(e.NETWORK_SIMPLEX="network-simplex",e.TIGHT_TREE="tight-tree",e.LONGEST_PATH="longest-path",e))(Lr||{}),$r=(e=>(e.LEFT="l",e.RIGHT="r",e.CENTER="c",e))($r||{}),Vc=Object.freeze({__proto__:null,Direction:ha,Alignment:hi,Ranker:Lr,LabelPosition:$r});const yi=(0,S.Z)(e=>({node:{fill:e.palette.primary.light,stroke:e.palette.primary.light},text:{fill:e.palette.primary.contrastText}}),{name:"BackstageDependencyGraphDefaultNode"});function vi({node:{id:e}}){const t=yi(),[n,s]=React.useState(0),[o,c]=React.useState(0),d=React.useRef(null);React.useLayoutEffect(()=>{if(d.current){let{height:y,width:b}=d.current.getBBox();y=Math.round(y),b=Math.round(b),(y!==o||b!==n)&&(s(b),c(y))}},[n,o]);const u=10,m=n+u*2,g=o+u*2;return React.createElement("g",null,React.createElement("rect",{className:t.node,width:m,height:g,rx:10}),React.createElement("text",{ref:d,className:t.text,y:g/2,x:m/2,textAnchor:"middle",alignmentBaseline:"middle"},e))}const Ei="arrow-marker",bi="node",xi="edge",Si="label",Ri=(0,O.Z)(e=>({node:{transition:`${e.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphNode"}),Ci=e=>React.createElement(vi,{...e});function ki({render:e=Ci,setNode:t,node:n}){const{width:s,height:o,x:c=0,y:d=0}=n,u=n,m=Ri(),g=React.useRef(null);return React.useLayoutEffect(()=>{if(g.current){let{height:y,width:b}=g.current.getBBox();y=Math.round(y),b=Math.round(b),(y!==o||b!==s)&&t(n.id,{...n,height:y,width:b})}},[n,s,o,t]),React.createElement("g",{ref:g,"data-testid":bi,className:m.node,transform:`translate(${c-s/2},${d-o/2})`},e({node:u}))}const wi=(0,O.Z)(e=>({text:{fill:e.palette.textContrast}}),{name:"BackstageDependencyGraphDefaultLabel"});function Ti({edge:{label:e}}){const t=wi();return React.createElement("text",{className:t.text,textAnchor:"middle"},e)}const Ns=(0,O.Z)(e=>({path:{strokeWidth:1,stroke:e.palette.textSubtle,fill:"none",transition:`${e.transitions.duration.shortest}ms`},label:{transition:`${e.transitions.duration.shortest}ms`}}),{name:"BackstageDependencyGraphEdge"}),Gc=e=>React.createElement(Ti,{...e});function Ii({render:e=Gc,setEdge:t,id:n,edge:s,curve:o}){const{x:c=0,y:d=0,width:u,height:m,points:g}=s,y=s,b=Ns(),x=React.useRef(null);React.useLayoutEffect(()=>{if(x.current){let{height:B,width:M}=x.current.getBBox();B=Math.round(B),M=Math.round(M),(B!==m||M!==u)&&t(n,{...s,height:B,width:M})}},[s,m,u,t,n]);let k="";const I=React.useMemo(()=>d3Shape.line().x(B=>B.x).y(B=>B.y).curve(d3Shape[o]),[o]);if(g){const B=g.filter(M=>isFinite(M.x)&&isFinite(M.y));k=I(B)||""}return React.createElement(React.Fragment,null,k&&React.createElement("path",{"data-testid":xi,className:b.path,d:k}),y.label?React.createElement("g",{ref:x,"data-testid":Si,className:b.label,transform:`translate(${c},${d})`},e({edge:y})):null)}const Ni="workspace";function Kc(e){var t,n;const{edges:s,nodes:o,renderNode:c,direction:d=ha.TOP_BOTTOM,align:u,nodeMargin:m=50,edgeMargin:g=10,rankMargin:y=50,paddingX:b=0,paddingY:x=0,acyclicer:k,ranker:I=Lr.NETWORK_SIMPLEX,labelPosition:B=$r.RIGHT,labelOffset:M=10,edgeRanks:D=1,edgeWeight:G=1,renderLabel:U,defs:K,zoom:ae="enabled",curve:te="curveMonotoneX",fit:Be="grow",...Ue}=e,Pe=useTheme$1(),[gt,ge]=React.useState(100),[et,Jt]=React.useState(100),re=React.useRef(new dagre.graphlib.Graph),[lt,Oe]=React.useState(((t=re.current.graph())==null?void 0:t.width)||0),[ye,Ve]=React.useState(((n=re.current.graph())==null?void 0:n.height)||0),[fe,le]=React.useState([]),[ve,Ge]=React.useState([]),he=Math.max(lt,gt),Ze=Math.max(ye,et),Yt=Math.min(ye,et),Qt=Be==="grow"?Ze:Yt,jn=React.useMemo(()=>debounce(ke=>{if(!ke)return;const $e=d3Selection.select(ke),He=d3Selection.select(ke.getElementById(Ni));function ct(){$e.call(d3Zoom.zoom().scaleExtent([1,10]).on("zoom",Un=>{Un.transform.x=Math.min(0,Math.max(Un.transform.x,he-he*Un.transform.k)),Un.transform.y=Math.min(0,Math.max(Un.transform.y,Ze-Ze*Un.transform.k)),He.attr("transform",Un.transform)}))}ae==="enabled"?ct():ae==="enable-on-click"&&$e.on("click",()=>ct());const{width:en,height:Ho}=ke.getBoundingClientRect();gt!==en&&ge(en),et!==Ho&&Jt(Ho)},100),[et,gt,he,Ze,ae]),zo=React.useCallback(()=>{const ke=re.current.nodes(),$e=re.current.edges();ke.forEach(He=>{o.some(en=>en.id===He)||re.current.removeNode(He)}),$e.forEach(He=>{s.some(en=>en.from===He.v&&en.to===He.w)||re.current.removeEdge(He.v,He.w)}),o.forEach(He=>{const ct=re.current.nodes().find(en=>He.id===en);if(ct&&re.current.node(ct)){const{width:en,height:Ho,x:Un,y:uu}=re.current.node(ct);re.current.setNode(ct,{...He,width:en,height:Ho,x:Un,y:uu})}else re.current.setNode(He.id,{...He,width:0,height:0})}),s.forEach(He=>{re.current.setEdge(He.from,He.to,{...He,label:He.label,width:0,height:0,labelpos:B,labeloffset:M,weight:G,minlen:D})})},[s,o,B,M,G,D]),ze=React.useMemo(()=>debounce(()=>{dagre.layout(re.current);const{height:ke,width:$e}=re.current.graph(),He=Math.max(0,ke||0),ct=Math.max(0,$e||0);Oe(ct),Ve(He),le(re.current.nodes()),Ge(re.current.edges())},250,{leading:!0}),[]);React.useEffect(()=>(re.current.setGraph({rankdir:d,align:u,nodesep:m,edgesep:g,ranksep:y,marginx:b,marginy:x,acyclicer:k,ranker:I}),zo(),ze(),ze.cancel),[k,u,d,g,b,x,m,y,I,zo,ze]);function xt(ke,$e){return re.current.setNode(ke,$e),ze(),re.current}function tt(ke,$e){return re.current.setEdge(ke,$e),ze(),re.current}return React.createElement("svg",{ref:jn,...Ue,width:"100%",height:Qt,viewBox:`0 0 ${he} ${Ze}`},React.createElement("defs",null,React.createElement("marker",{id:Ei,viewBox:"0 0 24 24",markerWidth:"14",markerHeight:"14",refX:"16",refY:"12",orient:"auto",markerUnits:"strokeWidth"},React.createElement("path",{fill:Pe.palette.textSubtle,d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),K),React.createElement("g",{id:Ni},React.createElement("svg",{width:lt,height:ye,y:Ze/2-ye/2,x:he/2-lt/2,viewBox:`0 0 ${lt} ${ye}`},ve.map(ke=>{const $e=re.current.edge(ke);return $e?React.createElement(Ii,{key:`${ke.v}-${ke.w}`,id:ke,setEdge:tt,render:U,edge:$e,curve:te}):null}),fe.map(ke=>{const $e=re.current.node(ke);return $e?React.createElement(ki,{key:ke,setNode:xt,render:c,node:$e}):null}))))}const Zi=(0,S.Z)(e=>{var t;return{root:{padding:e.spacing(0),marginBottom:e.spacing(0),marginTop:e.spacing(0),display:"flex",flexFlow:"row nowrap"},topPosition:{position:"relative",marginBottom:e.spacing(6),marginTop:-e.spacing(3),zIndex:"unset"},icon:{fontSize:e.typography.h6.fontSize},content:{width:"100%",maxWidth:"inherit",flexWrap:"nowrap"},message:{display:"flex",alignItems:"center",color:e.palette.banner.text,"& a":{color:e.palette.banner.link}},info:{backgroundColor:e.palette.banner.info},error:{backgroundColor:e.palette.banner.error},warning:{backgroundColor:(t=e.palette.banner.warning)!=null?t:e.palette.banner.error}}},{name:"BackstageDismissableBanner"}),Jc=e=>{var t;const{variant:n,message:s,id:o,fixed:c=!1}=e,d=Zi(),m=useApi(storageApiRef).forBucket("notifications"),g=(t=m.snapshot("dismissedBanners").value)!=null?t:[],[y,b]=useState(new Set(g)),x=useObservable(m.observe$("dismissedBanners"));useEffect(()=>{var I;if(x!=null&&x.value){const B=(I=x==null?void 0:x.value)!=null?I:[];b(new Set(B))}},[x==null?void 0:x.value]);const k=()=>{m.set("dismissedBanners",[...y,o])};return React.createElement(Snackbar,{anchorOrigin:c?{vertical:"bottom",horizontal:"center"}:{vertical:"top",horizontal:"center"},open:!y.has(o),classes:{root:classNames(d.root,!c&&d.topPosition)}},React.createElement(SnackbarContent,{classes:{root:classNames(d.content,d[n]),message:d.message},message:s,action:[React.createElement(IconButton,{key:"dismiss",title:"Permanently dismiss this message",color:"inherit",onClick:k},React.createElement(CloseIcon,{className:d.icon}))]}))},Ai=(0,S.Z)({generalImg:{width:"95%",zIndex:2,position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 15%)"}},{name:"BackstageEmptyStateImage"}),Dr=({missing:e})=>{const t=Ai();switch(e){case"field":return l.createElement("img",{src:kt,className:t.generalImg,alt:"annotation is missing"});case"info":return l.createElement("img",{src:St,alt:"no Information",className:t.generalImg});case"content":return l.createElement("img",{src:nn,alt:"create Component",className:t.generalImg});case"data":return l.createElement("img",{src:at,alt:"no Build",className:t.generalImg});default:return null}},Zs=(0,S.Z)(e=>({root:{backgroundColor:e.palette.background.default,padding:e.spacing(2,0,0,0)},action:{marginTop:e.spacing(2)},imageContainer:{position:"relative"}}),{name:"BackstageEmptyState"});function As(e){const{title:t,description:n,missing:s,action:o}=e,c=Zs();return l.createElement(ce.Z,{container:!0,direction:"row",justifyContent:"space-around",alignItems:"flex-start",className:c.root,spacing:2},l.createElement(ce.Z,{item:!0,xs:12,md:6},l.createElement(ce.Z,{container:!0,direction:"column"},l.createElement(ce.Z,{item:!0,xs:!0},l.createElement(L.Z,{variant:"h5"},t)),l.createElement(ce.Z,{item:!0,xs:!0},l.createElement(L.Z,{variant:"body1"},n)),l.createElement(ce.Z,{item:!0,xs:!0,className:c.action},o))),l.createElement(ce.Z,{item:!0,xs:12,md:6,className:c.imageContainer},typeof s=="string"?l.createElement(Dr,{missing:s}):s.customImage))}const Mr=`apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: example
  description: example.com
  annotations:
    ANNOTATION: value
spec:
  type: website
  lifecycle: production
  owner: user:guest`,Bs=/^.*ANNOTATION.*$/m,Ps=Mr.match(Bs)[0],Bi=Mr.split(`
`).findIndex(e=>Bs.test(e)),Pi=(0,S.Z)(e=>({code:{borderRadius:6,margin:`${e.spacing(2)}px 0px`,background:e.palette.type==="dark"?"#444":e.palette.common.white}}),{name:"BackstageMissingAnnotationEmptyState"});function Oi(e){return Array.from(Array(e+1).keys(),t=>t+Bi)}function Ka(e){const t=e.map(n=>Ps.replace("ANNOTATION",n)).join(`
`);return Mr.replace(Ps,t)}function Os(e){const t=e.length<=1;return l.createElement(l.Fragment,null,"The ",t?"annotation":"annotations"," ",e.map(n=>l.createElement("code",null,n)).reduce((n,s)=>l.createElement(l.Fragment,null,n,", ",s))," ",t?"is":"are"," missing. You need to add the"," ",t?"annotation":"annotations"," to your component if you want to enable this tool.")}function Ls(e){const{annotation:t,readMoreUrl:n}=e,s=Array.isArray(t)?t:[t],o=n||"https://backstage.io/docs/features/software-catalog/well-known-annotations",c=Pi();return l.createElement(As,{missing:"field",title:"Missing Annotation",description:Os(s),action:l.createElement(l.Fragment,null,l.createElement(L.Z,{variant:"body1"},"Add the annotation to your component YAML as shown in the highlighted example below:"),l.createElement(P.Z,{className:c.code},l.createElement(Ga,{text:Ka(s),language:"yaml",showLineNumbers:!0,highlightedNumbers:Oi(s.length),customStyle:{background:"inherit",fontSize:"115%"}})),l.createElement(We.Z,{color:"primary",component:Kt,to:o},"Read more"))})}const Ja=(e,t)=>(t.palette.type==="light"?Qe._j:Qe.$n)(t.palette[e].light,.6),$s=(e,t)=>(t.palette.type==="light"?Qe.$n:Qe._j)(t.palette[e].light,.9),Ds=(0,S.Z)(e=>({root:{marginRight:e.spacing(1),fill:({severity:t})=>Ja(t,e)}})),Li=({severity:e})=>{const t=Ds({severity:e});return l.createElement(mn.Z,{classes:t})},$i=({severity:e})=>{const t=Ds({severity:e});return l.createElement(Ra.Z,{classes:t})},Di=(0,S.Z)(e=>({panel:{backgroundColor:({severity:t})=>$s(t,e),color:({severity:t})=>Ja(t,e),verticalAlign:"middle"},summary:{display:"flex",flexDirection:"row"},summaryText:{color:({severity:t})=>Ja(t,e),fontWeight:e.typography.fontWeightBold},message:{width:"100%",display:"block",color:({severity:t})=>Ja(t,e),backgroundColor:({severity:t})=>$s(t,e)},details:{width:"100%",display:"block",color:e.palette.textContrast,backgroundColor:e.palette.background.default,border:`1px solid ${e.palette.border}`,padding:e.spacing(2),fontFamily:"sans-serif"}}),{name:"BackstageWarningPanel"}),Mi=e=>e.charAt(0).toLocaleUpperCase("en-US")+e.slice(1);function Ya(e){const{severity:t="warning",title:n,message:s,children:o,defaultExpanded:c}=e,d=Di({severity:t}),u=Mi(t)+(n?`: ${n}`:"");return l.createElement(pr.Z,{defaultExpanded:c!=null?c:!1,className:d.panel,role:"alert"},l.createElement(mr.Z,{expandIcon:l.createElement($i,{severity:t}),className:d.summary},l.createElement(Li,{severity:t}),l.createElement(L.Z,{className:d.summaryText,variant:"subtitle1"},u)),(s||o)&&l.createElement(gr.Z,null,l.createElement(ce.Z,{container:!0},s&&l.createElement(ce.Z,{item:!0,xs:12},l.createElement(L.Z,{className:d.message,variant:"body1"},s)),o&&l.createElement(ce.Z,{item:!0,xs:12,className:d.details},o))))}const Wi=(0,S.Z)(e=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:e.spacing(2)},divider:{margin:e.spacing(2)}}),{name:"BackstageErrorPanel"}),Yc=({error:e,message:t,stack:n,children:s})=>{const o=Wi();return l.createElement(Ut.Z,{dense:!0},l.createElement(Lt.Z,{alignItems:"flex-start"},l.createElement($t.Z,{classes:{secondary:o.text},primary:"Error",secondary:e}),l.createElement(zn,{text:e})),l.createElement(Lt.Z,{alignItems:"flex-start"},l.createElement($t.Z,{classes:{secondary:o.text},primary:"Message",secondary:t}),l.createElement(zn,{text:t})),n&&l.createElement(Lt.Z,{alignItems:"flex-start"},l.createElement($t.Z,{classes:{secondary:o.text},primary:"Stack Trace",secondary:n}),l.createElement(zn,{text:n})),s)};function Qa(e){const{title:t,error:n,defaultExpanded:s,children:o}=e;return l.createElement(Ya,{severity:"error",title:t!=null?t:n.message,defaultExpanded:s},l.createElement(Yc,{error:n.name,message:n.message,stack:n.stack,children:o}))}const zi=(0,S.Z)(e=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:e.spacing(2)},divider:{margin:e.spacing(2)}}),{name:"BackstageResponseErrorPanel"});function Qc(e){var t;const{title:n,error:s,defaultExpanded:o}=e,c=zi();if(s.name!=="ResponseError")return React.createElement(Qa,{title:n!=null?n:s.message,defaultExpanded:o,error:s});const{body:d,cause:u}=s,{request:m,response:g}=d,y=`${g.statusCode}: ${u.name}`,b=m&&`${m.method} ${m.url}`,x=u.message.replace(/\\n/g,`
`),k=(t=u.stack)==null?void 0:t.replace(/\\n/g,`
`),I=JSON.stringify(d,void 0,2);return React.createElement(Qa,{title:n!=null?n:s.message,defaultExpanded:o,error:{name:y,message:x,stack:k}},b&&React.createElement(ListItem,{alignItems:"flex-start"},React.createElement(ListItemText,{classes:{secondary:c.text},primary:"Request",secondary:m?`${b}`:void 0}),React.createElement(zn,{text:b})),React.createElement(React.Fragment,null,React.createElement(Divider,{component:"li",className:c.divider}),React.createElement(ListItem,{alignItems:"flex-start"},React.createElement(ListItemText,{classes:{secondary:c.text},primary:"Full Error as JSON"})),React.createElement(Ga,{language:"json",text:I,showCopyCodeButton:!0})))}function Wr(e){const t=document.createElement("div");return t.setAttribute("id",e),t}function Hi(e){document.body.insertBefore(e,document.body.lastElementChild.nextElementSibling)}function Fi(e){const t=useRef(null);useEffect(function(){const o=document.querySelector(`#${e}`),c=o||Wr(e);return o||Hi(c),c.appendChild(t.current),function(){t.current.remove(),c.childNodes.length===-1&&c.remove()}},[e]);function n(){return t.current||(t.current=document.createElement("div")),t.current}return n()}const zr="core.calloutSeen";function ji(){const[e,t]=useState(()=>{const s=localStorage.getItem(zr);return s?JSON.parse(s):{}}),n=useCallback((s,o)=>{const c=localStorage.getItem(zr),u={...c?JSON.parse(c):{},[s]:o};t(u),localStorage.setItem(zr,JSON.stringify(u))},[]);return{states:e,setState:n}}function Xc(e){const{states:t,setState:n}=ji(),s=useCallback(()=>{n(e,!0)},[n,e]);return{seen:t[e]===!0,markSeen:s}}function Ui(e){const{seen:t,markSeen:n}=Xc(e);return{show:t===!1,hide:n}}const Vi=(0,S.Z)(e=>({"@keyframes pulsateSlightly":{"0%":{transform:"scale(1.0)"},"100%":{transform:"scale(1.1)"}},"@keyframes pulsateAndFade":{"0%":{transform:"scale(1.0)",opacity:.9},"100%":{transform:"scale(1.5)",opacity:0}},featureWrapper:{position:"relative"},backdrop:{zIndex:2e3,position:"fixed",overflow:"hidden",left:0,right:0,top:0,bottom:0},dot:{position:"absolute",backgroundColor:"transparent",borderRadius:"100%",border:"1px solid rgba(103, 146, 180, 0.98)",boxShadow:"0px 0px 0px 20000px rgba(0, 0, 0, 0.5)",zIndex:2001,transformOrigin:"center center",animation:"$pulsateSlightly 1744ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) alternate infinite"},pulseCircle:{width:"100%",height:"100%",backgroundColor:"transparent",borderRadius:"100%",border:`2px solid ${e.palette.common.white}`,zIndex:2001,transformOrigin:"center center",animation:"$pulsateAndFade 872ms 1.2s cubic-bezier(0.4, 0, 0.2, 1) infinite"},text:{position:"absolute",color:e.palette.common.white,zIndex:2003}}),{name:"BackstageFeatureCalloutCircular"});function _c(e){const{featureId:t,title:n,description:s,children:o}=e,{show:c,hide:d}=Ui(t),u=Fi("core.callout"),m=useRef(null),[g,y]=useState(),b=Vi(),x=useCallback(()=>{if(m.current){const k=m.current.getBoundingClientRect(),I=Math.max(k.width,k.height),B=800,M=k.x-(I-k.width)/2-B,D=k.y-(I-k.height)/2-B,G=I+2*B,U=450,K=k.x+k.width/2-U,ae=k.y-(I-k.height)/2+I+20;y({dotLeft:M,dotTop:D,dotSize:G,borderWidth:B,textTop:ae,textLeft:K,textWidth:U})}},[]);return useEffect(()=>(window.addEventListener("resize",x),window.addEventListener("scroll",x),()=>{window.removeEventListener("resize",x),window.removeEventListener("scroll",x)}),[x]),useLayoutEffect(x,[m.current,x]),c?React.createElement(React.Fragment,null,React.createElement(Box,{className:b.featureWrapper,ref:m},o),createPortal(React.createElement(Box,{className:b.backdrop},React.createElement(ClickAwayListener,{onClickAway:d},React.createElement(React.Fragment,null,React.createElement(Box,{className:b.dot,"data-testid":"dot",style:{left:g==null?void 0:g.dotLeft,top:g==null?void 0:g.dotTop,width:g==null?void 0:g.dotSize,height:g==null?void 0:g.dotSize,borderWidth:g==null?void 0:g.borderWidth},onClick:d,onKeyDown:d,role:"button",tabIndex:0},React.createElement(Box,{className:b.pulseCircle})),React.createElement(Box,{className:b.text,"data-testid":"text",style:{left:g==null?void 0:g.textLeft,top:g==null?void 0:g.textTop,width:g==null?void 0:g.textWidth}},React.createElement(Typography,{variant:"h2",paragraph:!0},n),React.createElement(Typography,null,s))))),u)):React.createElement(React.Fragment,null,o)}const qc=(0,S.Z)(e=>({link:{display:"grid",justifyItems:"center",gridGap:4,textAlign:"center"},disabled:{color:e.palette.text.secondary,cursor:"default"},primary:{color:e.palette.primary.main},secondary:{color:e.palette.secondary.main},label:{textTransform:"uppercase",fontWeight:e.typography.fontWeightBold,letterSpacing:1.2}}),{name:"BackstageIconLinkVertical"});function Ms({color:e="primary",disabled:t=!1,href:n="#",icon:s=React.createElement(LinkIcon,null),label:o,onClick:c,title:d}){const u=qc();return t?React.createElement(Box,{title:d,className:classNames(u.link,u.disabled)},s,React.createElement(Typography,{variant:"caption",component:"span",className:u.label},o)):React.createElement(Kt,{title:d,className:classNames(u.link,u[e]),to:n,onClick:c},s,React.createElement(Typography,{variant:"caption",component:"span",className:u.label},o))}const Gi=(0,S.Z)(e=>({links:{margin:e.spacing(2,0),display:"grid",gridAutoFlow:"column",gridAutoColumns:"min-content",gridGap:e.spacing(3)}}),{name:"BackstageHeaderIconLinkRow"});function Ws(e){const{links:t}=e,n=Gi();return React.createElement("nav",{className:n.links},t.map((s,o)=>React.createElement(Ms,{key:o+1,...s})))}const zs=e=>{const t=e==="dark"?"16%":"97%";return`
    hsl(0, 0%, ${t}) 0%,
    hsla(0, 0%, ${t}, 0.987) 8.1%,
    hsla(0, 0%, ${t}, 0.951) 15.5%,
    hsla(0, 0%, ${t}, 0.896) 22.5%,
    hsla(0, 0%, ${t}, 0.825) 29%,
    hsla(0, 0%, ${t}, 0.741) 35.3%,
    hsla(0, 0%, ${t}, 0.648) 41.2%,
    hsla(0, 0%, ${t}, 0.55) 47.1%,
    hsla(0, 0%, ${t}, 0.45) 52.9%,
    hsla(0, 0%, ${t}, 0.352) 58.8%,
    hsla(0, 0%, ${t}, 0.259) 64.7%,
    hsla(0, 0%, ${t}, 0.175) 71%,
    hsla(0, 0%, ${t}, 0.104) 77.5%,
    hsla(0, 0%, ${t}, 0.049) 84.5%,
    hsla(0, 0%, ${t}, 0.013) 91.9%,
    hsla(0, 0%, ${t}, 0) 100%
  `},Ki=100,Hr=10,ed=(0,S.Z)(e=>({root:{position:"relative",display:"flex",flexFlow:"row nowrap",alignItems:"center"},container:{overflow:"auto",scrollbarWidth:0,"&::-webkit-scrollbar":{display:"none"}},fade:{position:"absolute",width:Ki,height:`calc(100% + ${Hr}px)`,transition:"opacity 300ms",pointerEvents:"none"},fadeLeft:{left:-Hr,background:`linear-gradient(90deg, ${zs(e.palette.type)})`},fadeRight:{right:-Hr,background:`linear-gradient(270deg, ${zs(e.palette.type)})`},fadeHidden:{opacity:0},button:{position:"absolute"},buttonLeft:{left:-e.spacing(2)},buttonRight:{right:-e.spacing(2)}}),{name:"BackstageHorizontalScrollGrid"});function Ji(e){const[[t,n],s]=React.useState([0,0]);return React.useLayoutEffect(()=>{const o=e.current;if(!o){s([0,0]);return}const c=()=>{const d=o.scrollLeft,u=o.scrollWidth-o.offsetWidth-o.scrollLeft;s([d,u])};return c(),o.addEventListener("scroll",c),window.addEventListener("resize",c),()=>{o.removeEventListener("scroll",c),window.removeEventListener("resize",c)}},[e]),[t,n]}function td(e,t,n){const[s,o]=React.useState(0);return React.useLayoutEffect(()=>{if(s===0)return;const c=window.performance.now(),d=requestAnimationFrame(u=>{if(!e.current)return;const m=u-c,g=Math.abs(s)*m/t,b=Math.max(n,g)*Math.sign(s);e.current.scrollBy({left:b});const x=s-b;Math.sign(s)!==Math.sign(x)?o(0):o(x)});return()=>cancelAnimationFrame(d)},[e,s,t,n]),o}function nd(e){const{scrollStep:t=100,scrollSpeed:n=50,minScrollDistance:s=5,children:o,...c}=e,d=ed(e),u=React.useRef(),[m,g]=Ji(u),y=td(u,n,s),b=x=>{u.current&&y(x?t:-t)};return React.createElement(Box,{...c,className:d.root},React.createElement(Grid,{container:!0,direction:"row",wrap:"nowrap",className:d.container,ref:u},o),React.createElement(Box,{className:classNames(d.fade,d.fadeLeft,{[d.fadeHidden]:m===0})}),React.createElement(Box,{className:classNames(d.fade,d.fadeRight,{[d.fadeHidden]:g===0})}),m>0&&React.createElement(IconButton,{title:"Scroll Left",onClick:()=>b(!1),className:classNames(d.button,d.buttonLeft,{})},React.createElement(ChevronLeftIcon,null)),g>0&&React.createElement(IconButton,{title:"Scroll Right",onClick:()=>b(!0),className:classNames(d.button,d.buttonRight,{})},React.createElement(ChevronRight,null)))}const ad=(0,S.Z)(e=>({alpha:{color:e.palette.common.white,fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"},beta:{color:"#4d65cc",fontFamily:"serif",fontWeight:"normal",fontStyle:"italic"}}),{name:"BackstageLifecycle"});function rd(e){const t=ad(e),{shorthand:n,alpha:s}=e;return n?React.createElement(Typography,{component:"span",className:t[s?"alpha":"beta"],style:{fontSize:"120%"}},s?React.createElement(React.Fragment,null,"\u03B1"):React.createElement(React.Fragment,null,"\u03B2")):React.createElement(Typography,{component:"span",className:t[s?"alpha":"beta"]},s?"Alpha":"Beta")}const Hs=(0,l.lazy)(()=>Promise.all([p.e(7996),p.e(6531)]).then(p.bind(p,96531)).then(e=>({default:e.RealLogViewer})));function ya(e){const{Progress:t}=useApp().getComponents();return React.createElement(Suspense,{fallback:React.createElement(t,null)},React.createElement(Hs,{...e}))}const Yi=(0,S.Z)(e=>({markdown:{"& table":{borderCollapse:"collapse",border:`1px solid ${e.palette.border}`},"& th, & td":{border:`1px solid ${e.palette.border}`,padding:e.spacing(1)},"& td":{wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:e.spacing(3,2,3,2.5),borderBottom:0},"& th":{backgroundColor:e.palette.background.paper},"& tr":{backgroundColor:e.palette.background.paper},"& tr:nth-child(odd)":{backgroundColor:e.palette.background.default},"& a":{color:e.palette.link},"& img":{maxWidth:"100%"}}}),{name:"BackstageMarkdownContent"}),Qi=(e,t)=>t?typeof t=="string"?e+t:l.Children.toArray(t.props.children).reduce(Qi,e):e,Jn=({level:e,children:t})=>{const o=l.Children.toArray(t).reduce(Qi,"").toLocaleLowerCase("en-US").replace(/\W/g,"-");return l.createElement(`h${e}`,{id:o},t)},Xi={code:({inline:e,className:t,children:n,...s})=>{const o=String(n).replace(/\n+$/,""),c=/language-(\w+)/.exec(t||"");return!e&&c?l.createElement(Ga,{language:c[1],text:o}):l.createElement("code",{className:t,...s},n)},h1:Jn,h2:Jn,h3:Jn,h4:Jn,h5:Jn,h6:Jn};function sd(e){const{content:t,dialect:n="gfm",linkTarget:s,transformLinkUri:o,transformImageUri:c,className:d}=e,u=Yi();return React.createElement(ReactMarkdown,{remarkPlugins:n==="gfm"?[gfm]:[],className:`${u.markdown} ${d}`,children:t,components:Xi,linkTarget:s,transformLinkUri:o,transformImageUri:c})}const od=(0,S.Z)(e=>({root:{paddingLeft:e.spacing(3)}}),{name:"BackstageLoginRequestListItem"}),_i=({request:e,busy:t,setBusy:n})=>{const s=od(),[o,c]=useState(),d=async()=>{n(!0);try{await e.trigger()}catch(m){c(isError(m)?m.message:"An unspecified error occurred")}finally{n(!1)}},u=e.provider.icon;return React.createElement(ListItem,{disabled:t,classes:{root:s.root}},React.createElement(ListItemAvatar,null,React.createElement(u,{fontSize:"large"})),React.createElement(ListItemText,{primary:e.provider.title,secondary:o&&React.createElement(Typography,{color:"error"},o)}),React.createElement(Button$1,{color:"primary",variant:"contained",onClick:d},"Log in"))},id=(0,S.Z)(e=>({dialog:{paddingTop:e.spacing(1)},title:{minWidth:0},titleHeading:{fontSize:e.typography.h6.fontSize},contentList:{padding:0},actionButtons:{padding:e.spacing(2,0)}}),{name:"OAuthRequestDialog"});function Fr(e){const t=id(),[n,s]=useState(!1),o=useApi(oauthRequestApiRef),c=useObservable(useMemo(()=>o.authRequest$(),[o]),[]),d=()=>{c.forEach(u=>u.reject())};return React.createElement(Dialog,{open:Boolean(c.length),fullWidth:!0,maxWidth:"xs",classes:{paper:t.dialog},"aria-labelledby":"oauth-req-dialog-title"},React.createElement("main",null,React.createElement(DialogTitle,{classes:{root:t.title},id:"oauth-req-dialog-title"},React.createElement(Typography,{className:t.titleHeading,variant:"h1"},"Login Required")),React.createElement(DialogContent,{dividers:!0,classes:{root:t.contentList}},React.createElement(List,null,c.map(u=>React.createElement(_i,{key:u.provider.title,request:u,busy:n,setBusy:s}))))),React.createElement(DialogActions,{classes:{root:t.actionButtons}},React.createElement(Button$1,{onClick:d},"Reject All")))}const qi=(0,S.Z)({container:{overflow:"visible !important"}},{name:"BackstageOverflowTooltip"});function el(e){var t;const[n,s]=useState(!1),o=useIsMounted(),c=qi(),d=u=>{o()&&s(u)};return React.createElement(Tooltip,{title:(t=e.title)!=null?t:e.text||"",placement:e.placement,disableHoverListener:!n},React.createElement(TextTruncate,{text:e.text,line:e.line,onToggled:d,containerClassName:c.container}))}function Xa(e){const t=(0,we.Z)(),[n,s]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{const o=setTimeout(()=>s(!0),t.transitions.duration.short);return()=>clearTimeout(o)},[t.transitions.duration.short]),n?l.createElement(fr.Z,{...e,"data-testid":"progress"}):l.createElement(P.Z,{display:"none"})}const Fs=(0,S.Z)(e=>({root:{maxWidth:"fit-content",padding:e.spacing(2,2,2,2.5)},boxTitle:{margin:0,color:e.palette.textSubtle},arrow:{color:e.palette.textSubtle}}),{name:"BackstageBottomLink"});function js(e){const{link:t,title:n,onClick:s}=e,o=Fs();return l.createElement(P.Z,null,l.createElement(Nn.Z,null),l.createElement(Kt,{to:t,onClick:s,underline:"none"},l.createElement(P.Z,{display:"flex",alignItems:"center",className:o.root},l.createElement(P.Z,{className:o.boxTitle,fontWeight:"fontWeightBold",m:1},l.createElement(L.Z,null,l.createElement("strong",null,n))),l.createElement(Aa.Z,{className:o.arrow}))))}const tl=e=>{const{slackChannel:t}=e;if(t){if(typeof t=="string")return l.createElement(L.Z,null,"Please contact ",t," for help.");if(!t.href)return l.createElement(L.Z,null,"Please contact ",t.name," for help.")}else return null;return l.createElement(fa,{to:t.href,variant:"contained"},t.name)},jr=class extends l.Component{constructor(t){super(t),this.state={error:void 0,errorInfo:void 0}}componentDidCatch(t,n){console.error(`ErrorBoundary, error: ${t}, info: ${n}`),this.setState({error:t,errorInfo:n})}render(){const{slackChannel:t,children:n}=this.props,{error:s}=this.state;return s?l.createElement(Qa,{title:"Something Went Wrong",error:s},l.createElement(tl,{slackChannel:t})):n}},va=(0,S.Z)(e=>({noPadding:{padding:0,"&:last-child":{paddingBottom:0}},header:{padding:e.spacing(2,2,2,2.5)},headerTitle:{fontWeight:e.typography.fontWeightBold},headerSubheader:{paddingTop:e.spacing(1)},headerAvatar:{},headerAction:{},headerContent:{},subheader:{display:"flex"}}),{name:"BackstageInfoCard"}),nl=(0,oe.Z)(e=>({root:{display:"inline-block",padding:e.spacing(8,8,0,0),float:"right"}}),{name:"BackstageInfoCardCardActionsTopRight"})(Ia.Z),Ur={card:{flex:{display:"flex",flexDirection:"column"},fullHeight:{display:"flex",flexDirection:"column",height:"100%"},gridItem:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"}},cardContent:{fullHeight:{flex:1},gridItem:{flex:1}}};function Hn(e){const{title:t,subheader:n,divider:s=!0,deepLink:o,slackChannel:c,errorBoundaryProps:d,variant:u,children:m,headerStyle:g,headerProps:y,icon:b,action:x,actionsClassName:k,actions:I,cardClassName:B,actionsTopRight:M,className:D,noPadding:G,titleTypographyProps:U}=e,K=va();let ae={},te={};u&&u.split(/[\s]+/g).forEach(gt=>{ae={...ae,...Ur.card[gt]},te={...te,...Ur.cardContent[gt]}});const Be=()=>!n&&!b?null:l.createElement("div",{className:K.headerSubheader,"data-testid":"info-card-subheader"},n&&l.createElement("div",{className:K.subheader},n),b),Ue=d||(c?{slackChannel:c}:{});return l.createElement(Ta.Z,{style:ae,className:D},l.createElement(jr,{...Ue},t&&l.createElement(Za.Z,{classes:{root:K.header,title:K.headerTitle,subheader:K.headerSubheader,avatar:K.headerAvatar,action:K.headerAction,content:K.headerContent},title:t,subheader:Be(),action:x,style:{...g},titleTypographyProps:U,...y}),M&&l.createElement(nl,null,M),s&&l.createElement(Nn.Z,null),l.createElement(Na.Z,{className:Ie()(B,{[K.noPadding]:G}),style:te},m),I&&l.createElement(Ia.Z,{className:k},I),o&&l.createElement(js,{...o})))}const al=(0,S.Z)(e=>({root:{position:"relative",lineHeight:0},overlay:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -60%)",fontSize:e.typography.pxToRem(45),fontWeight:e.typography.fontWeightBold,color:e.palette.textContrast},description:{fontSize:"100%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",wordBreak:"break-all",display:"inline-block"},circle:{width:"80%",transform:"translate(10%, 0)"},colorUnknown:{}}),{name:"BackstageGauge"}),Us={fractional:!0,inverse:!1,unit:"%",max:100},rl=({palette:e,value:t,inverse:n,max:s})=>{if(isNaN(t))return"#ddd";const o=s||Us.max,c=n?o-t:t;return c<o/3?e.status.error:c<o*(2/3)?e.status.warning:e.status.ok};function ld(e){const[t,n]=useState(null),{getColor:s=rl}=e,o=al(e),{palette:c}=useTheme(),{value:d,fractional:u,inverse:m,unit:g,max:y,description:b}={...Us,...e},x=u?Math.round(d*y):d,k=y!==100?Math.round(d):x,[I,B]=useState(!1);return useEffect(()=>{const M=t,D=()=>B(!0),G=()=>B(!1);return M&&b?(M.addEventListener("mouseenter",D),M.addEventListener("mouseleave",G),()=>{M.removeEventListener("mouseenter",D),M.removeEventListener("mouseleave",G)}):()=>{B(!1)}},[b,t]),React.createElement(Box,{ref:n,className:o.root},React.createElement(Circle,{strokeLinecap:"butt",percent:x,strokeWidth:12,trailWidth:12,strokeColor:s({palette:c,value:k,inverse:m,max:y}),className:o.circle}),b&&I?React.createElement(Box,{className:o.description},b):React.createElement(Box,{className:o.overlay},isNaN(d)?"N/A":`${k}${g}`))}const sl=(0,S.Z)({root:{height:"100%",width:250}},{name:"BackstageGaugeCard"});function cd(e){const t=sl(e),{title:n,subheader:s,progress:o,inverse:c,deepLink:d,description:u,icon:m,variant:g,getColor:y}=e,b={inverse:c,description:u,getColor:y,value:o};return React.createElement(Box,{className:t.root},React.createElement(Hn,{title:n,subheader:s,deepLink:d,variant:g,icon:m},React.createElement(ld,{...b})))}function dd(e){const{value:t,getColor:n=rl}=e,{palette:s}=useTheme();if(isNaN(t))return null;let o=Math.round(t*100*100)/100;o>100&&(o=100);const c=n({palette:s,value:o,inverse:!1,max:100});return React.createElement(Tooltip,{title:`${o}%`},React.createElement(Typography,{component:"span"},React.createElement(Line,{percent:o,strokeWidth:4,trailWidth:4,strokeColor:c})))}const ol=(0,S.Z)(e=>(0,be.Z)({icon:{position:"absolute",right:e.spacing(.5),pointerEvents:"none"}}),{name:"BackstageClosedDropdown"}),il=()=>{const e=ol();return l.createElement(Pn.Z,{className:e.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M7.5 8L6 9.5L12.0703 15.5703L18.1406 9.5L16.6406 8L12.0703 12.5703L7.5 8Z",fill:"#616161"}))},ll=(0,S.Z)(e=>(0,be.Z)({icon:{position:"absolute",right:e.spacing(.5),pointerEvents:"none"}}),{name:"BackstageOpenedDropdown"}),cl=()=>{const e=ll();return l.createElement(Pn.Z,{className:e.icon,fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M16.5 16L18 14.5L11.9297 8.42969L5.85938 14.5L7.35938 16L11.9297 11.4297L16.5 16Z",fill:"#616161"}))},Vr=(0,oe.Z)(e=>(0,be.Z)({root:{"label + &":{marginTop:e.spacing(3)}},input:{borderRadius:e.shape.borderRadius,position:"relative",backgroundColor:e.palette.background.paper,border:"1px solid #ced4da",fontSize:e.typography.body1.fontSize,padding:e.spacing(1.25,3.25,1.25,1.5),transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:"Helvetica Neue","&:focus":{background:e.palette.background.paper,borderRadius:e.shape.borderRadius}}}),{name:"BackstageSelectInputBase"})(La.Z),Vs=(0,S.Z)(e=>(0,be.Z)({formControl:{margin:`${e.spacing(1)} 0px`,maxWidth:300},label:{transform:"initial",fontWeight:"bold",fontSize:e.typography.body2.fontSize,fontFamily:e.typography.fontFamily,color:e.palette.text.primary,"&.Mui-focused":{color:e.palette.text.primary}},formLabel:{transform:"initial",fontWeight:"bold",fontSize:e.typography.body2.fontSize,fontFamily:e.typography.fontFamily,color:e.palette.text.primary,"&.Mui-focused":{color:e.palette.text.primary}},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},checkbox:{},root:{display:"flex",flexDirection:"column"}}),{name:"BackstageSelect"});function ud(e){const{multiple:t,items:n,label:s,placeholder:o,selected:c,onChange:d,triggerReset:u,native:m=!1,disabled:g=!1,margin:y}=e,b=Vs(),[x,k]=(0,l.useState)(c||(t?[]:"")),[I,B]=(0,l.useState)(!1);(0,l.useEffect)(()=>{k(t?[]:"")},[u,t]),(0,l.useEffect)(()=>{c!==void 0&&k(c)},[c]);const M=K=>{k(K.target.value),d(K.target.value)},D=K=>{if(g){K.preventDefault();return}B(ae=>t&&!(K.target instanceof HTMLElement)?!0:!ae)},G=()=>{B(!1)},U=K=>()=>{const ae=x.filter(te=>te!==K);k(ae),d(ae)};return l.createElement(P.Z,{className:b.root},l.createElement(hs.Z,{onClickAway:G},l.createElement(Vn.Z,{className:b.formControl},l.createElement(na.Z,{className:b.formLabel},s),l.createElement($a.Z,{"aria-label":s,value:x,native:m,disabled:g,"data-testid":"select",displayEmpty:!0,multiple:t,margin:y,onChange:M,onClick:D,open:I,input:l.createElement(Vr,null),label:s,tabIndex:0,renderValue:K=>{var ae;return t&&x.length!==0?l.createElement(P.Z,{className:b.chips},K.map(te=>{var Be,Ue;return l.createElement(ta.Z,{key:(Be=n.find(Pe=>Pe.value===te))==null?void 0:Be.value,label:(Ue=n.find(Pe=>Pe.value===te))==null?void 0:Ue.label,clickable:!0,onDelete:U(te),className:b.chip})})):l.createElement(L.Z,null,x.length===0?o||"":(ae=n.find(te=>te.value===K))==null?void 0:ae.label)},IconComponent:()=>I?l.createElement(cl,null):l.createElement(il,null),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},o&&!t&&l.createElement(Dt.Z,{value:[]},o),m?n&&n.map(K=>l.createElement("option",{value:K.value,key:K.value},K.label)):n&&n.map(K=>l.createElement(Dt.Z,{key:K.value,value:K.value},t&&l.createElement(vr.Z,{color:"primary",checked:x.includes(K.value)||!1,className:b.checkbox}),K.label))))))}const Gr=()=>{},Gs=l.createContext({stepperLength:0,stepIndex:0,setStepIndex:Gr,stepHistory:[],setStepHistory:Gr,onStepChange:Gr});function pd(e){const{children:t,elevated:n,onStepChange:s,activeStep:o=0}=e,[c,d]=useState(o),[u,m]=useState([0]);useEffect(()=>{d(o)},[o]);const g=[];let y;return Children.forEach(t,b=>{isValidElement(b)&&(b.props.end?y=b:g.push(b))}),React.createElement(React.Fragment,null,React.createElement(Gs.Provider,{value:{stepIndex:c,setStepIndex:d,stepHistory:u,setStepHistory:m,onStepChange:s,stepperLength:Children.count(t)}},React.createElement(MuiStepper,{activeStep:c,orientation:"vertical",elevation:n?2:0},g)),c>=Children.count(t)-1&&y)}const dl=(0,S.Z)(e=>({root:{marginTop:e.spacing(3),"& button":{marginRight:e.spacing(1)}}}),{name:"BackstageSimpleStepperFooter"}),ul=({text:e,handleClick:t})=>React.createElement(Button$1,{onClick:t},e||"Reset"),Ks=({text:e,handleClick:t,disabled:n,last:s,stepIndex:o})=>React.createElement(Button$1,{variant:"contained",color:"primary",disabled:n,"data-testid":`nextButton-${o}`,onClick:t},e||(s?"Finish":"Next")),pl=({text:e,handleClick:t,disabled:n,stepIndex:s})=>React.createElement(Button$1,{variant:"outlined",color:"primary",disabled:n,"data-testid":`skipButton-${s}`,onClick:t},e||"Skip"),md=({text:e,handleClick:t,disabled:n,stepIndex:s})=>React.createElement(Button$1,{onClick:t,"data-testid":`backButton-${s}`,disabled:n},e||"Back"),Fn=({actions:e={},children:t})=>{const n=dl(),{stepperLength:s,stepIndex:o,setStepIndex:c,stepHistory:d,setStepHistory:u,onStepChange:m}=useContext(Gs),g=(k,I)=>{I&&I(),m&&m(o,k),c(k)},y=()=>{const k=e.nextStep?e.nextStep(o,s-1):o+1;g(k,e.onNext),u([...d,k])},b=()=>{d.pop(),g(d[d.length-1],e.onBack),u([...d])},x=()=>{g(0,e.onRestart),u([0])};return React.createElement(Box,{className:n.root},[void 0,!0].includes(e.showBack)&&o!==0&&React.createElement(md,{text:e.backText,handleClick:b,disabled:o===0,stepIndex:o}),e.showSkip&&React.createElement(pl,{text:e.skipText,handleClick:y,disabled:!!s&&o>=s||!!e.canSkip&&!e.canSkip(),stepIndex:o}),[void 0,!0].includes(e.showNext)&&React.createElement(Ks,{text:e.nextText,handleClick:y,disabled:!!s&&o>=s||!!e.canNext&&!e.canNext(),stepIndex:o}),e.showRestart&&o!==0&&React.createElement(ul,{text:e.restartText,handleClick:x,stepIndex:o}),t)},ml=(0,S.Z)(e=>({end:{padding:e.spacing(3)}}),{name:"SimpleStepperStep"});function gd(e){const{title:t,children:n,end:s,actions:o,...c}=e,d=ml();return s?React.createElement(Box,{className:d.end},React.createElement(Typography,{variant:"h6"},t),n,React.createElement(Fn,{actions:{...o||{},showNext:!1}})):React.createElement(MuiStep,{...c},React.createElement(StepLabel,null,React.createElement(Typography,{variant:"h6"},t)),React.createElement(StepContent,null,n,React.createElement(Fn,{actions:o})))}const Yn=(0,S.Z)(e=>({status:{fontWeight:e.typography.fontWeightMedium,"&::before":{width:"0.7em",height:"0.7em",display:"inline-block",marginRight:e.spacing(1),borderRadius:"50%",content:'""'}},ok:{"&::before":{backgroundColor:e.palette.status.ok}},warning:{"&::before":{backgroundColor:e.palette.status.warning}},error:{"&::before":{backgroundColor:e.palette.status.error}},pending:{"&::before":{backgroundColor:e.palette.status.pending}},running:{"&::before":{backgroundColor:e.palette.status.running}},aborted:{"&::before":{backgroundColor:e.palette.status.aborted}}}),{name:"BackstageStatus"});function gl(e){const t=Yn(e);return l.createElement(L.Z,{component:"span",className:Ie()(t.status,t.ok),"aria-label":"Status ok","aria-hidden":"true",...e})}function Xd(e){const t=Yn(e);return React.createElement(Typography,{component:"span",className:classNames(t.status,t.warning),"aria-label":"Status warning","aria-hidden":"true",...e})}function fl(e){const t=Yn(e);return l.createElement(L.Z,{component:"span",className:Ie()(t.status,t.error),"aria-label":"Status error","aria-hidden":"true",...e})}function fd(e){const t=Yn(e);return React.createElement(Typography,{component:"span",className:classNames(t.status,t.pending),"aria-label":"Status pending","aria-hidden":"true",...e})}function hd(e){const t=Yn(e);return React.createElement(Typography,{component:"span",className:classNames(t.status,t.running),"aria-label":"Status running","aria-hidden":"true",...e})}function hl(e){const t=Yn(e);return l.createElement(L.Z,{component:"span",className:Ie()(t.status,t.aborted),"aria-label":"Status aborted","aria-hidden":"true",...e})}const yl=e=>(0,be.Z)({root:{fontWeight:e.typography.fontWeightBold,whiteSpace:"nowrap",paddingRight:e.spacing(4),border:"0",verticalAlign:"top"}}),vl={root:{border:"0",verticalAlign:"top"}},El=e=>(0,be.Z)({root:{margin:e.spacing(0,0,-1,0)}}),bl=e=>(0,be.Z)({root:{padding:e.spacing(0,0,1,0)},random:{}}),xl=(0,oe.Z)(yl,{name:"BackstageMetadataTableTitleCell"})(Da.Z),Js=(0,oe.Z)(vl,{name:"BackstageMetadataTableCell"})(Da.Z),Ys=({dense:e,children:t})=>React.createElement(Table$1,{size:e?"small":"medium"},React.createElement(TableBody,null,t)),Qs=({title:e,children:t,...n})=>React.createElement(TableRow,null,e&&React.createElement(xl,null,e),React.createElement(Js,{colSpan:e?1:2,...n},t)),Xs=(0,oe.Z)(El,{name:"BackstageMetadataTableList"})(({classes:e,children:t})=>l.createElement(Ut.Z,{disablePadding:!0,className:e.root},t)),Kr=(0,oe.Z)(bl,{name:"BackstageMetadataTableListItem"})(({classes:e,children:t})=>l.createElement(Lt.Z,{className:e.root},t)),Jr=(0,be.Z)({root:{margin:"0 0",listStyleType:"none"}}),Sl=e=>(0,be.Z)({root:{...Jr.root,paddingLeft:e.spacing(1)}}),_s=(0,oe.Z)(Jr,{name:"BackstageStructuredMetadataTableList"})(({classes:e,children:t})=>l.createElement(Xs,{classes:e},t)),_a=(0,oe.Z)(Sl,{name:"BackstageStructuredMetadataTableNestedList"})(({classes:e,children:t})=>l.createElement(Xs,{classes:e},t));function Rl(e,t){const n=e.map((s,o)=>React.createElement(Kr,{key:o},Yr(s)));return t?React.createElement(_a,null,n):React.createElement(_s,null,n)}function Cl(e,t,n){const s=Object.keys(e).map(o=>{const c=Yr(e[o],!0),d=n&&n.titleFormat?n.titleFormat(o):startCase(o);return React.createElement(Kr,{key:o},React.createElement(Typography,{variant:"body2",component:"span"},`${d}: `),c)});return t?React.createElement(_a,null,s):React.createElement(_s,null,s)}function Yr(e,t,n){return React.isValidElement(e)?React.createElement(Fragment,null,e):typeof e=="object"&&!Array.isArray(e)?Cl(e,t,n):Array.isArray(e)?Rl(e,n):typeof e=="boolean"?React.createElement(Fragment,null,e?"\u2705":"\u274C"):React.createElement(Typography,{variant:"body2",component:"span"},e)}const yd=({value:e,options:t})=>React.createElement(Fragment,null,Yr(e,t)),kl=({title:e,value:t,options:n})=>React.createElement(Qs,{title:n&&n.titleFormat?n.titleFormat(e):startCase(e)},React.createElement(yd,{value:t,options:n}));function eo(e,t){return Object.keys(e).map(n=>React.createElement(kl,{key:n,title:n,value:e[n],options:t}))}function wl(e){const{metadata:t,dense:n=!0,options:s}=e,o=eo(t,s||{});return React.createElement(Ys,{dense:n},o)}function Tl(e){return qs.stringify(e,{strictNullHandling:!0})}function Il(e){return qs.parse(e,{ignoreQueryPrefix:!0,strictNullHandling:!0})}function to(e,t){return Il(e)[t]}function no(e,t,n){const s={...Il(e),[t]:n};return Tl(s)}function un(e,t=250){const[n,s]=useSearchParams(),o=n.toString(),[c,d]=useState(to(o,e));return useEffect(()=>{const u=to(o,e);d(m=>isEqual(u,m)?m:u)},[o,d,e]),useDebouncedEffect(()=>{const u=no(o,e,c);o!==u&&s(u,{replace:!0})},[s,c,o,e],t),[c,d]}const vd={url:"https://github.com/backstage/backstage/issues",items:[{title:"Support Not Configured",icon:"warning",links:[{title:"Add `app.support` config key",url:"https://github.com/backstage/backstage/blob/master/app-config.yaml"}]}]};function Nl(){const t=useApiHolder().get(configApiRef),n=t==null?void 0:t.getOptionalConfig("app.support");return n?{url:n.getString("url"),items:n.getConfigArray("items").flatMap(s=>{var o;return{title:s.getString("title"),icon:s.getOptionalString("icon"),links:((o=s.getOptionalConfigArray("links"))!=null?o:[]).flatMap(c=>({url:c.getString("url"),title:c.getString("title")}))}})}:vd}function pn(e,t){const s=useApp().getSystemIcon(e);return s?React.createElement(s,{...t}):React.createElement(MuiBrokenImageIcon,{...t})}function _d(e){return pn("brokenImage",e)}function qd(e){return pn("catalog",e)}function eu(e){return pn("chat",e)}function tu(e){return pn("dashboard",e)}function nu(e){return pn("docs",e)}function Qr(e){return pn("email",e)}function au(e){return pn("github",e)}function ru(e){return pn("group",e)}function qa(e){return pn("help",e)}function Ed(e){return pn("user",e)}function bd(e){return pn("warning",e)}const Zl=(0,S.Z)({popoverList:{minWidth:260,maxWidth:400}},{name:"BackstageSupportButton"}),xd=({icon:e})=>{var t;const n=useApp(),s=e&&(t=n.getSystemIcon(e))!=null?t:qa;return React.createElement(s,null)},er=({link:e})=>{var t;return React.createElement(Kt,{to:e.url},(t=e.title)!=null?t:e.url)},ao=({item:e})=>{var t;return React.createElement(ListItem,null,React.createElement(ListItemIcon,null,React.createElement(xd,{icon:e.icon})),React.createElement(ListItemText,{primary:e.title,secondary:(t=e.links)==null?void 0:t.reduce((n,s,o)=>[...n,o>0&&React.createElement("br",{key:o}),React.createElement(er,{link:s,key:s.url})],[])}))};function Al(e){const{title:t,items:n,children:s}=e,{items:o}=Nl(),[c,d]=useState(!1),[u,m]=useState(null),g=Zl(),y=useMediaQuery(k=>k.breakpoints.down("sm")),b=k=>{m(k.currentTarget),d(!0)},x=()=>{d(!1)};return React.createElement(React.Fragment,null,React.createElement(Box,{display:"flex",ml:1},y?React.createElement(IconButton,{color:"primary",size:"small",onClick:b,"data-testid":"support-button","aria-label":"Support"},React.createElement(qa,null)):React.createElement(Button$1,{"data-testid":"support-button","aria-label":"Support",color:"primary",onClick:b,startIcon:React.createElement(qa,null)},"Support")),React.createElement(Popover,{"data-testid":"support-button-popover",open:c,anchorEl:u,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:x},React.createElement(List,{className:g.popoverList},t&&React.createElement(ListItem,{alignItems:"flex-start"},React.createElement(Typography,{variant:"subtitle1"},t)),React.Children.map(s,(k,I)=>React.createElement(ListItem,{alignItems:"flex-start",key:`child-${I}`},k)),(n!=null?n:o).map((k,I)=>React.createElement(ao,{item:k,key:`item-${I}`}))),React.createElement(DialogActions,null,React.createElement(Button$1,{color:"primary",onClick:x,"aria-label":"Close"},"Close"))))}const qt=72,ro=24,Xr=18,kn={drawerWidthClosed:qt,drawerWidthOpen:224,defaultOpenDelayMs:100,defaultCloseDelayMs:0,defaultFadeDuration:200,logoHeight:32,iconContainerWidth:qt,iconSize:qt-ro*2,iconPadding:ro,selectedIndicatorWidth:3,userBadgePadding:Xr,userBadgeDiameter:qt-Xr*2,mobileSidebarHeight:56},Bl=e=>({...kn,...e,iconContainerWidth:kn.drawerWidthClosed,iconSize:kn.drawerWidthClosed-kn.iconPadding*2,userBadgeDiameter:kn.drawerWidthClosed-kn.userBadgePadding*2}),Pt={drawerWidthClosed:0,drawerWidthOpen:202,defaultOpenDelayMs:kn.defaultOpenDelayMs+200},_r=e=>({...Pt,...e}),so="@backstage/core/sidebar-intro-dismissed",Ot=(0,l.createContext)({sidebarConfig:kn,submenuConfig:Pt}),tr=(0,l.createContext)({isHoveredOn:!1,setIsHoveredOn:()=>{}}),qr={isOpen:!1,setOpen:()=>{}},Ea=(0,l.createContext)(qr),es=(0,br.CT)("sidebar-open-state-context");function ts(e){const{children:t,value:n}=e;return React.createElement(Ea.Provider,{value:n},React.createElement(es.Provider,{value:createVersionedValueMap({1:n})},t))}const ba=()=>{const e=(0,l.useContext)(es),t=(0,l.useContext)(Ea);if(e===void 0)return t||qr;const n=e.atVersion(1);if(n===void 0)throw new Error("No context found for version 1.");return n},oo={isPinned:!0,toggleSidebarPinState:()=>{},isMobile:!1},nr=(0,l.createContext)(oo),io=(0,br.CT)("sidebar-pin-state-context");function Pl(e){const{children:t,value:n}=e;return React.createElement(nr.Provider,{value:n},React.createElement(io.Provider,{value:createVersionedValueMap({1:n})},t))}const ar=()=>{const e=(0,l.useContext)(io),t=(0,l.useContext)(nr);if(e===void 0)return t||oo;const n=e.atVersion(1);if(n===void 0)throw new Error("No context found for version 1.");return n},lo=(0,S.Z)(e=>({root:{flexGrow:0,margin:e.spacing(0,2),color:e.palette.navigation.color},selected:t=>({color:`${e.palette.navigation.selectedColor}!important`,borderTop:`solid ${t.sidebarConfig.selectedIndicatorWidth}px ${e.palette.navigation.indicator}`,marginTop:"-1px"}),label:{display:"none"}})),Ol=e=>{const{to:t,label:n,icon:s,value:o}=e,{sidebarConfig:c}=(0,l.useContext)(Ot),d=lo({sidebarConfig:c}),u=(0,dt.TH)(),{selectedMenuItemIndex:m,setSelectedMenuItemIndex:g}=(0,l.useContext)(go),y=(x,k)=>{g(k===m?-1:k)},b=o===m&&m>=0||o!==m&&!(m>=0)&&t===u.pathname;return l.createElement(Ma.Z,{"aria-label":n,label:n,icon:s,component:Kt,to:t||u.pathname,onChange:y,value:o,selected:b,classes:d})},co=e=>{const{children:t,to:n,label:s,icon:o,value:c}=e,{isMobile:d}=ar();return d?l.createElement(Ol,{to:n,label:s,icon:o,value:c}):l.createElement(l.Fragment,null,t)},uo=(0,S.Z)(e=>({root:{position:"fixed",backgroundColor:e.palette.navigation.background,color:e.palette.navigation.color,bottom:0,left:0,right:0,zIndex:e.zIndex.snackbar,borderTop:"1px solid #383838"},overlay:t=>({background:e.palette.navigation.background,width:"100%",bottom:`${t.sidebarConfig.mobileSidebarHeight}px`,height:`calc(100% - ${t.sidebarConfig.mobileSidebarHeight}px)`,flex:"0 1 auto",overflow:"auto"}),overlayHeader:{display:"flex",color:e.palette.text.primary,alignItems:"center",justifyContent:"space-between",padding:e.spacing(2,3)},overlayHeaderClose:{color:e.palette.text.primary},marginMobileSidebar:t=>({marginBottom:`${t.sidebarConfig.mobileSidebarHeight}px`})})),po=e=>orderBy(e,({props:{priority:t}})=>Number.isInteger(t)?t:-1,"desc"),Ll=l.createElement(co).type,mo=({children:e,label:t="Menu",open:n,onClose:s})=>{const{sidebarConfig:o}=useContext(Ot),c=uo({sidebarConfig:o});return React.createElement(Drawer,{anchor:"bottom",open:n,onClose:s,ModalProps:{BackdropProps:{classes:{root:c.marginMobileSidebar}}},classes:{root:c.marginMobileSidebar,paperAnchorBottom:c.overlay}},React.createElement(Box,{className:c.overlayHeader},React.createElement(Typography,{variant:"h3"},t),React.createElement(IconButton,{onClick:s,classes:{root:c.overlayHeaderClose}},React.createElement(CloseIcon,null))),React.createElement(Box,{component:"nav"},e))},go=(0,l.createContext)({selectedMenuItemIndex:-1,setSelectedMenuItemIndex:()=>{}}),fo=e=>{const{sidebarConfig:t}=useContext(Ot),{children:n}=e,s=uo({sidebarConfig:t}),o=useLocation(),[c,d]=useState(-1);useEffect(()=>{d(-1)},[o.pathname]);let u=useElementFilter(n,g=>g.getElements().filter(y=>y.type===Ll));if(n)u.length?u=po(u):u.push(React.createElement(co,{key:"default_menu",icon:React.createElement(MenuIcon,null)},n));else return null;const m=c>=0&&!u[c].props.to;return React.createElement(ts,{value:{isOpen:!0,setOpen:()=>{}}},React.createElement(go.Provider,{value:{selectedMenuItemIndex:c,setSelectedMenuItemIndex:d}},React.createElement(mo,{label:u[c]&&u[c].props.label,open:m,onClose:()=>d(-1)},u[c]&&u[c].props.children),React.createElement(BottomNavigation,{className:s.root,"data-testid":"mobile-sidebar-root",component:"nav"},u)))},$l={getSidebarPinState(){let e;try{e=JSON.parse(window.localStorage.getItem("sidebarPinState")||"true")}catch{return!0}return!!e},setSidebarPinState(e){return window.localStorage.setItem("sidebarPinState",JSON.stringify(e))}},ho=(0,S.Z)(e=>({root:{width:"100%",transition:"padding-left 0.1s ease-out",isolation:"isolate",[e.breakpoints.up("sm")]:{paddingLeft:t=>t.isPinned?t.sidebarConfig.drawerWidthOpen:t.sidebarConfig.drawerWidthClosed},[e.breakpoints.down("xs")]:{paddingBottom:t=>t.sidebarConfig.mobileSidebarHeight}},content:{zIndex:0,isolation:"isolate","&:focus":{outline:0}}}),{name:"BackstageSidebarPage"}),ns=(0,l.createContext)({content:{contentRef:void 0}});function Sd(e){const[t,n]=useState(()=>$l.getSidebarPinState()),{sidebarConfig:s}=useContext(Ot),o=useRef(null),c=useMemo(()=>({content:{contentRef:o}}),[o]);useEffect(()=>{$l.setSidebarPinState(t)},[t]);const d=useMediaQuery(g=>g.breakpoints.down("xs"),{noSsr:!0}),u=()=>n(!t),m=ho({isPinned:t,sidebarConfig:s});return React.createElement(Pl,{value:{isPinned:t,toggleSidebarPinState:u,isMobile:d}},React.createElement(ns.Provider,{value:c},React.createElement(Box,{className:m.root},e.children)))}function Dl(){const{content:e}=(0,l.useContext)(ns);return{focusContent:(0,l.useCallback)(()=>{var n,s;(s=(n=e==null?void 0:e.contentRef)==null?void 0:n.current)==null||s.focus()},[e]),contentRef:e==null?void 0:e.contentRef}}const yo=(0,S.Z)(e=>({drawer:t=>({display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",left:0,top:0,bottom:0,zIndex:e.zIndex.appBar,background:e.palette.navigation.background,overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",width:t.sidebarConfig.drawerWidthClosed,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.shortest}),"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}),drawerOpen:t=>({width:t.sidebarConfig.drawerWidthOpen,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.shorter})}),visuallyHidden:{top:0,position:"absolute",zIndex:1e3,transform:"translateY(-200%)","&:focus":{transform:"translateY(5px)"}}}),{name:"BackstageSidebar"}),rr=e=>{const{sidebarConfig:t}=useContext(Ot),{openDelayMs:n=t.defaultOpenDelayMs,closeDelayMs:s=t.defaultCloseDelayMs,disableExpandOnHover:o,children:c}=e,d=yo({sidebarConfig:t}),u=useMediaQuery(D=>D.breakpoints.down("md"),{noSsr:!0}),[m,g]=useState(0),y=useRef(),{isPinned:b,toggleSidebarPinState:x}=ar(),k=()=>{b||o||(y.current&&(clearTimeout(y.current),y.current=void 0),m!==2&&!u&&(y.current=window.setTimeout(()=>{y.current=void 0,g(2)},n),g(1)))},I=()=>{b||o||(y.current&&(clearTimeout(y.current),y.current=void 0),m===1?g(0):m===2&&(y.current=window.setTimeout(()=>{y.current=void 0,g(0)},s)))},B=m===2&&!u||b,M=D=>{D?(g(2),x()):(g(0),x())};return React.createElement("nav",{style:{},"aria-label":"sidebar nav"},React.createElement(Cd,null),React.createElement(ts,{value:{isOpen:B,setOpen:M}},React.createElement(Box,{className:d.root,"data-testid":"sidebar-root",onMouseEnter:o?()=>{}:k,onFocus:o?()=>{}:k,onMouseLeave:o?()=>{}:I,onBlur:o?()=>{}:I},React.createElement(Box,{className:classNames(d.drawer,{[d.drawerOpen]:B})},c))))},Rd=e=>{var t,n;const s=Bl((t=e.sidebarOptions)!=null?t:{}),o=_r((n=e.submenuOptions)!=null?n:{}),{children:c,disableExpandOnHover:d,openDelayMs:u,closeDelayMs:m}=e,{isMobile:g}=ar();return g?React.createElement(fo,null,c):React.createElement(Ot.Provider,{value:{sidebarConfig:s,submenuConfig:o}},React.createElement(rr,{openDelayMs:u,closeDelayMs:m,disableExpandOnHover:d},c))};function Cd(){const{sidebarConfig:e}=useContext(Ot),{focusContent:t,contentRef:n}=Dl(),s=yo({sidebarConfig:e});return n!=null&&n.current?React.createElement(Button$1,{onClick:t,variant:"contained",className:classNames(s.visuallyHidden)},"Skip to content"):null}function sr(e,t){const n=new URLSearchParams(t.search).toString(),s=sa().parse(n),o=new URLSearchParams(e.search).toString(),c=sa().parse(o);return(0,Xe.isEqual)(t.pathname,e.pathname)&&(0,Xe.isMatch)(c,s)}const Ml=(0,S.Z)(e=>{var t,n;return{item:{height:48,width:"100%","&:hover":{background:((t=e.palette.navigation.navItem)==null?void 0:t.hoverBackground)||"#6f6f6f",color:e.palette.navigation.selectedColor},display:"flex",alignItems:"center",color:e.palette.navigation.color,padding:e.spacing(2.5),cursor:"pointer",position:"relative",background:"none",border:"none"},itemContainer:{width:"100%"},selected:{background:"#6f6f6f",color:e.palette.common.white},label:{margin:e.spacing(1.75),marginLeft:e.spacing(1),fontSize:e.typography.body2.fontSize,whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis",lineHeight:1},subtitle:{fontSize:10,whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis"},dropdownArrow:{position:"absolute",right:21},dropdown:{display:"flex",flexDirection:"column",alignItems:"end"},dropdownItem:{width:"100%",padding:"10px 0 10px 0","&:hover":{background:((n=e.palette.navigation.navItem)==null?void 0:n.hoverBackground)||"#6f6f6f",color:e.palette.navigation.selectedColor}},textContent:{color:e.palette.navigation.color,paddingLeft:e.spacing(4),paddingRight:e.spacing(1),fontSize:e.typography.body2.fontSize,whiteSpace:"nowrap",overflow:"hidden","text-overflow":"ellipsis"}}},{name:"BackstageSidebarSubmenuItem"}),kd=e=>{const{title:t,subtitle:n,to:s,icon:o,dropdownItems:c}=e,d=Ml(),{setIsHoveredOn:u}=useContext(tr),m=()=>{u(!1)},g=useResolvedPath$1(s!=null?s:""),y=useLocation();let b=sr(y,g);const[x,k]=useState(!1),I=()=>{k(!x)};return c!==void 0?(c.some(B=>{const M=resolvePath(B.to);return b=sr(y,M),b}),React.createElement(Box,{className:d.itemContainer},React.createElement(Tooltip,{title:t,enterDelay:500,enterNextDelay:500},React.createElement(Button$1,{role:"button",onClick:I,onTouchStart:B=>B.stopPropagation(),className:classNames(d.item,b?d.selected:void 0)},o&&React.createElement(o,{fontSize:"small"}),React.createElement(Typography,{variant:"subtitle1",className:d.label},t,React.createElement("br",null),n&&React.createElement(Typography,{variant:"caption",className:d.subtitle},n)),x?React.createElement(ArrowDropUpIcon,{className:d.dropdownArrow}):React.createElement(ArrowDropDownIcon,{className:d.dropdownArrow}))),c&&x&&React.createElement(Box,{className:d.dropdown},c.map((B,M)=>React.createElement(Tooltip,{key:M,title:B.title,enterDelay:500,enterNextDelay:500},React.createElement(Kt,{to:B.to,underline:"none",className:d.dropdownItem,onClick:m,onTouchStart:D=>D.stopPropagation()},React.createElement(Typography,{className:d.textContent},B.title))))))):React.createElement(Box,{className:d.itemContainer},React.createElement(Tooltip,{title:t,enterDelay:500,enterNextDelay:500},React.createElement(Kt,{to:s,underline:"none",className:classNames(d.item,b?d.selected:void 0),onClick:m,onTouchStart:B=>B.stopPropagation()},o&&React.createElement(o,{fontSize:"small"}),React.createElement(Typography,{variant:"subtitle1",className:d.label},t,React.createElement("br",null),n&&React.createElement(Typography,{variant:"caption",className:d.subtitle},n)))))},Wl=(0,S.Z)(e=>({root:{zIndex:1e3,position:"relative",overflow:"visible",width:e.spacing(7)+1},drawer:t=>{var n,s;return{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",[e.breakpoints.up("sm")]:{marginLeft:t.left,transition:e.transitions.create("margin-left",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.shortest})},top:0,bottom:0,padding:0,background:(s=(n=e.palette.navigation.submenu)==null?void 0:n.background)!=null?s:"#404040",overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",cursor:"default",width:t.submenuConfig.drawerWidthClosed,transitionDelay:`${t.submenuConfig.defaultOpenDelayMs}ms`,"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}},drawerOpen:t=>({width:t.submenuConfig.drawerWidthOpen,[e.breakpoints.down("xs")]:{width:"100%",position:"relative",paddingLeft:e.spacing(3),left:0,top:0}}),title:{fontSize:e.typography.h5.fontSize,fontWeight:e.typography.fontWeightMedium,color:e.palette.common.white,padding:e.spacing(2.5),[e.breakpoints.down("xs")]:{display:"none"}}}),{name:"BackstageSidebarSubmenu"}),zl=e=>{const{isOpen:t}=ba(),{sidebarConfig:n,submenuConfig:s}=(0,l.useContext)(Ot),o=t?n.drawerWidthOpen:n.drawerWidthClosed,c=Wl({left:o,submenuConfig:s}),{isHoveredOn:d}=(0,l.useContext)(tr),[u,m]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{m(d)},[d]),l.createElement(P.Z,{className:Ie()(c.drawer,{[c.drawerOpen]:u})},l.createElement(L.Z,{variant:"h5",className:c.title},e.title),e.children)},Hl=(0,S.Z)({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),Fl=()=>{const e=Hl();return React.createElement(Box,{className:e.iconContainer},React.createElement(Box,{className:e.arrow1},React.createElement(ArrowBackIosIcon,{style:{fontSize:"12px"}})),React.createElement(Box,null,React.createElement(ArrowBackIosIcon,{style:{fontSize:"12px"}})))},or=(0,S.Z)({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),jl=()=>{const e=or();return React.createElement(Box,{className:e.iconContainer},React.createElement(Box,{className:e.arrow1},React.createElement(ArrowForwardIosIcon,{style:{fontSize:"12px"}})),React.createElement(Box,null,React.createElement(ArrowForwardIosIcon,{style:{fontSize:"12px"}})))},vo=e=>(0,S.Z)(t=>{var n,s,o,c;return{root:{color:t.palette.navigation.color,display:"flex",flexFlow:"row nowrap",alignItems:"center",height:48,cursor:"pointer"},buttonItem:{background:"none",border:"none",width:"100%",margin:0,padding:0,textAlign:"inherit",font:"inherit",textTransform:"none"},closed:{width:e.drawerWidthClosed,justifyContent:"center"},open:{[t.breakpoints.up("sm")]:{width:e.drawerWidthOpen}},highlightable:{"&:hover":{background:(s=(n=t.palette.navigation.navItem)==null?void 0:n.hoverBackground)!=null?s:"#404040"}},highlighted:{background:(c=(o=t.palette.navigation.navItem)==null?void 0:o.hoverBackground)!=null?c:"#404040"},label:{fontWeight:"bold",whiteSpace:"nowrap",lineHeight:"auto",flex:"3 1 auto",width:"110px",overflow:"hidden","text-overflow":"ellipsis"},iconContainer:{boxSizing:"border-box",height:"100%",width:e.iconContainerWidth,marginRight:-t.spacing(2),display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"0"},searchRoot:{marginBottom:12},searchField:{color:"#b5b5b5",fontWeight:t.typography.fontWeightBold,fontSize:t.typography.fontSize},searchFieldHTMLInput:{padding:t.spacing(2,0,2)},searchContainer:{width:e.drawerWidthOpen-e.iconContainerWidth},secondaryAction:{width:t.spacing(6),textAlign:"center",marginRight:t.spacing(1)},closedItemIcon:{width:"100%",justifyContent:"center"},submenuArrow:{display:"flex"},expandButton:{background:"none",border:"none",color:t.palette.navigation.color,width:"100%",cursor:"pointer",position:"relative",height:48},arrows:{position:"absolute",right:10},selected:{"&$root":{borderLeft:`solid ${e.selectedIndicatorWidth}px ${t.palette.navigation.indicator}`,color:t.palette.navigation.selectedColor},"&$closed":{width:e.drawerWidthClosed},"& $closedItemIcon":{paddingRight:e.selectedIndicatorWidth},"& $iconContainer":{marginLeft:-e.selectedIndicatorWidth}}}},{name:"BackstageSidebarItem"});function ir(e){return(0,l.useMemo)(()=>vo(e),[e])()}const Ul=(e,t)=>(0,de.vJ)(e.props.children,n=>{let s=!1;return n.getElements().forEach(({props:{to:o,dropdownItems:c}})=>{if(!s){if(c!=null&&c.length){c.forEach(({to:d})=>s=s||sr(t,(0,J.i3)(d)));return}o&&(s=sr(t,(0,J.i3)(o)))}}),s},[t.pathname]);function as(e){return e.to===void 0}const Vl=l.createElement(zl).type,Gl=l.forwardRef(function({to:t,end:n,style:s,className:o,activeStyle:c,caseSensitive:d,activeClassName:u="active","aria-current":m="page",...g},y){let{pathname:b}=(0,dt.TH)(),{pathname:x}=(0,dt.WU)(t);d||(b=b.toLocaleLowerCase("en-US"),x=x.toLocaleLowerCase("en-US"));let k=b===x;!k&&!n&&(k=b.startsWith(`${x}/`));const I=k?m:void 0;return l.createElement(De.rU,{...g,to:t,ref:y,"aria-current":I,style:{...s,...k?c:void 0},className:Ie()([o,k?u:void 0])})}),Kl=(0,l.forwardRef)((e,t)=>{const{icon:n,text:s,hasNotifications:o=!1,hasSubmenu:c=!1,disableHighlight:d=!1,onClick:u,children:m,className:g,...y}=e,{sidebarConfig:b}=(0,l.useContext)(Ot),x=ir(b),{isOpen:k}=ba(),I=!k&&c?{display:"flex",marginLeft:"20px"}:{lineHeight:"0"},B=l.createElement(P.Z,{style:I},l.createElement(n,{fontSize:"small"}),!k&&c?l.createElement(xe.Z,{fontSize:"small"}):l.createElement(l.Fragment,null)),M=l.createElement(Ua.Z,{color:"secondary",variant:"dot",overlap:"circular",invisible:!o,className:Ie()({[x.closedItemIcon]:!k})},B),D=l.createElement(l.Fragment,null,l.createElement(P.Z,{"data-testid":"login-button",className:x.iconContainer},M),s&&l.createElement(L.Z,{variant:"subtitle2",className:x.label},s),l.createElement("div",{className:x.secondaryAction},m)),G=k?D:M,U={onClick:u,className:Ie()(g,x.root,k?x.open:x.closed,as(e)&&x.buttonItem,{[x.highlightable]:!d})};return as(e)?l.createElement(We.Z,{role:"button","aria-label":s,...U,ref:t},G):l.createElement(Gl,{...U,activeClassName:x.selected,to:e.to?e.to:"",ref:t,"aria-label":s||e.to,...y},G)}),wd=({children:e,...t})=>{const{sidebarConfig:n}=(0,l.useContext)(Ot),s=ir(n),[o,c]=(0,l.useState)(!1),d=(0,dt.TH)(),u=Ul(e,d),m=(0,In.Z)(x=>x.breakpoints.down("sm")),g=()=>{c(!0)},y=()=>{c(!1)},b=()=>m?o?l.createElement(ja.Z,{fontSize:"small",className:s.submenuArrow}):l.createElement(wr.Z,{fontSize:"small",className:s.submenuArrow}):!o&&l.createElement(xe.Z,{fontSize:"small",className:s.submenuArrow});return l.createElement(tr.Provider,{value:{isHoveredOn:o,setIsHoveredOn:c}},l.createElement("div",{"data-testid":"item-with-submenu",onMouseLeave:y,onTouchStart:o?y:g,onMouseEnter:g,className:Ie()(o&&s.highlighted)},l.createElement(Kl,{hasSubmenu:!0,className:u?s.selected:"",...t},b()),o&&e))},Td=(0,l.forwardRef)((e,t)=>{const[n]=(0,de.vJ)(e.children,s=>s.getElements().filter(o=>o.type===Vl));return n?l.createElement(wd,{...e},n):l.createElement(Kl,{...e,ref:t})});function Id(e){const{sidebarConfig:t}=useContext(Ot),[n,s]=useState(""),o=ir(t),c=e.icon?e.icon:SearchIcon,d=()=>{e.onSearch(n),s("")},u=b=>{b.key==="Enter"&&(b.preventDefault(),d())},m=b=>{s(b.target.value)},g=b=>{b.preventDefault(),b.stopPropagation()},y=b=>{d(),b.preventDefault()};return React.createElement(Box,{className:o.searchRoot},React.createElement(Td,{icon:c,to:e.to,onClick:y,disableHighlight:!0},React.createElement(TextField,{placeholder:"Search",value:n,onClick:g,onChange:m,onKeyDown:u,className:o.searchContainer,InputProps:{disableUnderline:!0,className:o.searchField},inputProps:{className:o.searchFieldHTMLInput}})))}const Nd=(0,ot.Z)("div")({flex:1},{name:"BackstageSidebarSpace"}),su=(0,ot.Z)("div")({height:8},{name:"BackstageSidebarSpacer"}),Zd=(0,ot.Z)("hr")(({theme:e})=>({height:1,width:"100%",background:"#383838",border:"none",margin:e.spacing(1.2,0)}),{name:"BackstageSidebarDivider"}),Jl=e=>({overflowY:"auto","&::-webkit-scrollbar":{backgroundColor:e.palette.background.default,width:"5px",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.palette.text.hint,borderRadius:"5px"}}),Ad=(0,ot.Z)("div")(({theme:e})=>{const t=Jl(e);return{flex:"0 1 auto",overflowX:"hidden",width:"calc(100% - 5px)",minHeight:"48px",overflowY:"hidden","@media (hover: none)":t,"&:hover":t}}),Yl=()=>{const{sidebarConfig:e}=useContext(Ot),t=ir(e),{isOpen:n,setOpen:s}=ba();if(useMediaQuery(d=>d.breakpoints.down("md"),{noSsr:!0}))return null;const c=()=>{s(!n)};return React.createElement(Button$1,{role:"button",onClick:c,className:t.expandButton,"aria-label":"Expand Sidebar","data-testid":"sidebar-expand-button"},React.createElement(Box,{className:t.arrows},n?React.createElement(Fl,null):React.createElement(jl,null)))},Ql=(0,S.Z)(e=>({introCard:t=>({color:"#b5b5b5",fontSize:12,width:t.sidebarConfig.drawerWidthOpen,marginTop:e.spacing(2.25),marginBottom:e.spacing(1.5),paddingLeft:t.sidebarConfig.iconPadding,paddingRight:t.sidebarConfig.iconPadding}),introDismiss:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:e.spacing(1.5)},introDismissLink:{color:"#dddddd",display:"flex",alignItems:"center",marginBottom:e.spacing(.5),"&:hover":{color:e.palette.linkHover,transition:e.transitions.create("color",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.shortest})}},introDismissText:{fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",letterSpacing:1},introDismissIcon:{width:18,height:18,marginRight:e.spacing(1.5)}}),{name:"BackstageSidebarIntro"});function Xl(e){const{sidebarConfig:t}=useContext(Ot),n=Ql({sidebarConfig:t}),{text:s,onClose:o}=e,c=()=>o();return React.createElement(Box,{className:n.introCard},React.createElement(Typography,{variant:"subtitle2"},s),React.createElement(Box,{className:n.introDismiss},React.createElement(IconButton,{onClick:c,className:n.introDismissLink},React.createElement(CloseIcon,{className:n.introDismissIcon}),React.createElement(Typography,{component:"span",className:n.introDismissText},"Dismiss"))))}const _l=e=>{const{text:t,onDismiss:n}=e,[s,o]=useState(!1),c=()=>{o(!0)};return React.createElement(Collapse,{in:!s,onExited:n},React.createElement(Xl,{text:t,onClose:c}))},ql=null,rs="And your recently viewed plugins will pop up here!";function Bd(e){const{isOpen:t}=ba(),n={starredItemsDismissed:!1,recentlyViewedItemsDismissed:!1},{value:s,set:o}=useLocalStorageValue(so),{starredItemsDismissed:c,recentlyViewedItemsDismissed:d}=s!=null?s:{},u=()=>{o(g=>({...n,...g,starredItemsDismissed:!0}))},m=()=>{o(g=>({...n,...g,recentlyViewedItemsDismissed:!0}))};return t?React.createElement(React.Fragment,null,!c&&React.createElement(React.Fragment,null,React.createElement(_l,{text:ql,onDismiss:u}),React.createElement(Zd,null)),!d&&React.createElement(_l,{text:rs,onDismiss:m})):null}const ec=(0,S.Z)(e=>({root:{gridArea:"pageContent",minWidth:0,paddingTop:e.spacing(3),paddingBottom:e.spacing(3),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},stretch:{display:"flex",flexDirection:"column",flexGrow:1},noPadding:{padding:0}}),{name:"BackstageContent"});function ss(e){const{className:t,stretch:n,noPadding:s,children:o,...c}=e,{contentRef:d}=Dl(),u=ec();return l.createElement("article",{ref:d,tabIndex:-1,...c,className:Ie()(u.root,t,{[u.stretch]:n,[u.noPadding]:s})},o)}const tc=(0,S.Z)(e=>({tabsWrapper:{gridArea:"pageSubheader",backgroundColor:e.palette.background.paper,paddingLeft:e.spacing(3),minWidth:0},defaultTab:{...e.typography.caption,padding:e.spacing(3,3),textTransform:"uppercase",fontWeight:e.typography.fontWeightBold,color:e.palette.text.secondary},selected:{color:e.palette.text.primary},tabRoot:{"&:hover":{backgroundColor:e.palette.background.default,color:e.palette.text.primary}}}),{name:"BackstageHeaderTabs"});function os(e){const{tabs:t,onChange:n,selectedIndex:s}=e,[o,c]=(0,l.useState)(s!=null?s:0),d=tc(),u=(0,l.useCallback)((m,g)=>{s===void 0&&c(g),n&&s!==g&&n(g)},[s,n]);return(0,l.useEffect)(()=>{s!==void 0&&c(s)},[s]),l.createElement(P.Z,{className:d.tabsWrapper},l.createElement(Es.Z,{selectionFollowsFocus:!0,indicatorColor:"primary",textColor:"inherit",variant:"scrollable",scrollButtons:"auto","aria-label":"tabs",onChange:u,value:o},t.map((m,g)=>l.createElement(On.Z,{...m.tabProps,"data-testid":`header-tab-${g}`,label:m.label,key:m.id,value:g,className:d.defaultTab,classes:{selected:d.selected,root:d.tabRoot}}))))}function Eo(e){var t,n,s,o;const c=(0,dt.UO)(),u=e.map(({path:x,children:k})=>({caseSensitive:!1,path:`${x}/*`,element:k})).sort((x,k)=>k.path.replace(/\/\*$/,"").localeCompare(x.path.replace(/\/\*$/,""))),m=(t=(0,dt.V$)(u))!=null?t:e[0].children;let g=(n=c["*"])!=null?n:"";g.startsWith("/")||(g=`/${g}`);const[y]=(s=(0,J.fp)(u,g))!=null?s:[],b=y?e.findIndex(x=>`${x.path}/*`===y.route.path):0;return{index:b===-1?0:b,element:m,route:(o=e[b])!=null?o:e[0]}}function bo(e){const{routes:t}=e,n=(0,dt.s0)(),{index:s,route:o,element:c}=Eo(t),d=(0,l.useMemo)(()=>t.map(m=>({id:m.path,label:m.title,tabProps:m.tabProps})),[t]),u=m=>{let{path:g}=t[m];g=g.replace(/\/\*$/,""),g=g.replace(/^\//,""),n(g)};return l.createElement(l.Fragment,null,l.createElement(os,{tabs:d,selectedIndex:s,onChange:u}),l.createElement(ss,null,l.createElement(Er.q,{title:o.title}),c))}const is=()=>null;(0,de.R5)(is,"core.gatherMountPoints",!0);function nc(e){const t=l.createElement(is,{path:"",title:""},l.createElement("div",null)).type;return l.Children.toArray(e).flatMap(n=>{if(!(0,l.isValidElement)(n))return[];if(n.type===l.Fragment)return nc(n.props.children);if(n.type!==t)throw new Error("Child of TabbedLayout must be an TabbedLayout.Route");const{path:s,title:o,children:c,tabProps:d}=n.props;return[{path:s,title:o,children:c,tabProps:d}]})}function ac(e){const t=nc(e.children);return l.createElement(bo,{routes:t})}ac.Route=is;const rc=(0,S.Z)(e=>({value:{marginBottom:e.spacing(.75)},subvalue:{color:e.palette.textSubtle,fontWeight:"normal"}}),{name:"BackstageSubvalueCell"});function sc(e){const{value:t,subvalue:n}=e,s=rc();return React.createElement(React.Fragment,null,React.createElement(Box,{className:s.value},t),React.createElement(Box,{className:s.subvalue},n))}const xo=(0,S.Z)(e=>({root:{height:"100%",width:"315px",display:"flex",flexDirection:"column",marginRight:e.spacing(3)},value:{fontWeight:"bold",fontSize:18},header:{display:"flex",alignItems:"center",height:e.spacing(7.5),justifyContent:"space-between",borderBottom:`1px solid ${e.palette.grey[500]}`},filters:{display:"flex",flexDirection:"column","& > *":{marginTop:e.spacing(2)}}}),{name:"BackstageTableFilters"}),oc=e=>{var t;const n=xo(),{onChangeFilters:s}=e,[o,c]=(0,l.useState)({...e.selectedFilters}),[d,u]=(0,l.useState)(!1),m=()=>{c({}),u(g=>!g)};return(0,l.useEffect)(()=>{s(o)},[o,s]),l.createElement(P.Z,{className:n.root},l.createElement(P.Z,{className:n.header},l.createElement(P.Z,{className:n.value},"Filters"),l.createElement(We.Z,{color:"primary",onClick:m},"Clear all")),l.createElement(P.Z,{className:n.filters},((t=e.filters)==null?void 0:t.length)&&e.filters.map(g=>l.createElement(ud,{triggerReset:d,key:g.element.label,...g.element,selected:o[g.element.label],onChange:y=>c({...o,[g.element.label]:y})}))))},ls={Add:(0,l.forwardRef)((e,t)=>l.createElement(Wa.Z,{...e,ref:t})),Check:(0,l.forwardRef)((e,t)=>l.createElement(xr.Z,{...e,ref:t})),Clear:(0,l.forwardRef)((e,t)=>l.createElement(Ha.Z,{...e,ref:t})),Delete:(0,l.forwardRef)((e,t)=>l.createElement(ia.Z,{...e,ref:t})),DetailPanel:(0,l.forwardRef)((e,t)=>l.createElement(ka.Z,{...e,ref:t})),Edit:(0,l.forwardRef)((e,t)=>l.createElement(Sr.Z,{...e,ref:t})),Export:(0,l.forwardRef)((e,t)=>l.createElement(bs.Z,{...e,ref:t})),Filter:(0,l.forwardRef)((e,t)=>l.createElement(la.Z,{...e,ref:t})),FirstPage:(0,l.forwardRef)((e,t)=>l.createElement(Rr.Z,{...e,ref:t})),LastPage:(0,l.forwardRef)((e,t)=>l.createElement(Cr.Z,{...e,ref:t})),NextPage:(0,l.forwardRef)((e,t)=>l.createElement(ka.Z,{...e,ref:t})),PreviousPage:(0,l.forwardRef)((e,t)=>l.createElement(Ca.Z,{...e,ref:t})),ResetSearch:(0,l.forwardRef)((e,t)=>l.createElement(Ha.Z,{...e,ref:t})),Search:(0,l.forwardRef)((e,t)=>l.createElement(la.Z,{...e,ref:t})),SortArrow:(0,l.forwardRef)((e,t)=>l.createElement(za.Z,{...e,ref:t})),ThirdStateCheck:(0,l.forwardRef)((e,t)=>l.createElement(Fa.Z,{...e,ref:t})),ViewColumn:(0,l.forwardRef)((e,t)=>l.createElement(kr.Z,{...e,ref:t}))};function So(e,t){const n=t.split(".");let s=e[n[0]];for(let o=1;o<n.length;++o){if(s===void 0)return s;const c=n[o];s=s[c]}return s}const ic=(0,oe.Z)(e=>({header:{padding:e.spacing(1,2,1,2.5),borderTop:`1px solid ${e.palette.grey.A100}`,borderBottom:`1px solid ${e.palette.grey.A100}`,color:e.palette.textSubtle,fontWeight:e.typography.fontWeightBold,position:"static",wordBreak:"normal"}}),{name:"BackstageTableHeader"})(oa.W$),Ro=(0,oe.Z)(e=>({root:{padding:e.spacing(3,0,2.5,2.5)},title:{"& > h6":{fontWeight:e.typography.fontWeightBold}},searchField:{paddingRight:e.spacing(2)}}),{name:"BackstageTableToolbar"})(oa.UW),lc=(0,S.Z)(e=>({root:{display:"flex",alignItems:"center",justifyContent:"space-between"},title:{fontWeight:e.typography.fontWeightBold,fontSize:18,whiteSpace:"nowrap"}}),{name:"BackstageTableFiltersContainer"}),Co=(0,S.Z)(()=>({root:{display:"flex",alignItems:"start"}}),{name:"BackstageTable"});function cc(e,t){return e.map(n=>{var s;const o=(s=n.headerStyle)!=null?s:{};let c=n.cellStyle||{};if(n.highlight)if(o.color=t.palette.textContrast,typeof c=="object")c.fontWeight=t.typography.fontWeightBold;else{const d=c;c=(u,m,g)=>({...d(u,m,g),fontWeight:t.typography.fontWeightBold})}return{...n,headerStyle:o,cellStyle:c}})}function ko(e,t){return(0,Xe.transform)(e,(n,s,o)=>{(0,Xe.isEqual)(s,t[o])||(n[o]=s)})}const wo={search:"",filtersOpen:!1,filters:{}};function To(e){const{toolbarRef:t,setSearch:n,hasFilters:s,selectedFiltersLength:o,toggleFilters:c}=e,d=lc(),u=(0,l.useCallback)(m=>{e.onSearchChanged(m),n(m)},[e,n]);return s?l.createElement(P.Z,{className:d.root},l.createElement(P.Z,{className:d.root},l.createElement(Ee.Z,{onClick:c,"aria-label":"filter list"},l.createElement(la.Z,null)),l.createElement(L.Z,{className:d.title},"Filters (",o,")")),l.createElement(Ro,{...e,ref:t,onSearchChanged:u})):l.createElement(Ro,{...e,ref:t,onSearchChanged:u})}function Io(e){const{data:t,columns:n,options:s,title:o,subtitle:c,filters:d,initialState:u,emptyContent:m,onStateChange:g,components:y,...b}=e,x=Co(),k=(0,we.Z)(),I={...wo,...u},[B,M]=(0,l.useState)(I.filtersOpen),D=(0,l.useCallback)(()=>M(fe=>!fe),[M]),[G,U]=(0,l.useState)(0),[K,ae]=(0,l.useState)(t),[te,Be]=(0,l.useState)(I.filters),Ue=cc(n,k),[Pe,gt]=(0,l.useState)(I.search);(0,l.useEffect)(()=>{if(g){const fe=ko({search:Pe,filtersOpen:B,filters:te},wo);g(fe)}},[Pe,B,te,g]);const ge={headerStyle:{textTransform:"uppercase"}},et=(0,l.useCallback)(fe=>{var le;return(le=n.find(ve=>ve.title===fe))==null?void 0:le.field},[n]);(0,l.useEffect)(()=>{if(typeof t=="function")return;if(!te){ae(t);return}const fe=Object.values(te);if(t&&fe.flat().length){const le=t.filter(ve=>!!Object.entries(te).filter(([,Ge])=>!!Ge.length).every(([Ge,he])=>{const Ze=So(ve,et(Ge));return Array.isArray(Ze)&&Array.isArray(he)?Ze.some(Yt=>he.includes(Yt)):Array.isArray(Ze)?Ze.includes(he):Array.isArray(he)?he.includes(Ze):Ze===he}));ae(le)}else ae(t);U(fe.flat().length)},[t,te,et]);const Jt=(fe,le)=>{const ve=he=>{const Ze=new Set,Yt=Qt=>{Qt!=null&&Ze.add(Qt)};return le&&le.forEach(Qt=>{const jn=So(Qt,et(he));Array.isArray(jn)?jn.forEach(Yt):Yt(jn)}),Ze},Ge=he=>({placeholder:"All results",label:he.column,multiple:he.type==="multiple-select",items:[...ve(he.column)].sort().map(Ze=>({label:Ze,value:Ze}))});return fe.map(he=>({type:he.type,element:Ge(he)}))},re=!!(d!=null&&d.length),lt=(0,l.useCallback)(fe=>l.createElement(To,{setSearch:gt,hasFilters:re,selectedFiltersLength:G,toggleFilters:D,...fe}),[D,re,G,gt]),Oe=typeof t!="function"&&t.length===0,ye=n.length,Ve=(0,l.useCallback)(fe=>m&&Oe?l.createElement("tbody",null,l.createElement("tr",null,l.createElement("td",{colSpan:ye},m))):l.createElement(oa.os,{...fe}),[Oe,m,ye]);return l.createElement(P.Z,{className:x.root},B&&t&&typeof t!="function"&&(d==null?void 0:d.length)&&l.createElement(oc,{filters:Jt(d,t),selectedFilters:te,onChangeFilters:Be}),l.createElement(oa.ZP,{components:{Header:ic,Toolbar:lt,Body:Ve,...y},options:{...ge,...s},columns:Ue,icons:ls,title:l.createElement(l.Fragment,null,l.createElement(L.Z,{variant:"h5",component:"h2"},o),c&&l.createElement(L.Z,{color:"textSecondary",variant:"body1"},c)),data:typeof t=="function"?t:K,style:{width:"100%"},localization:{toolbar:{searchPlaceholder:"Filter",searchTooltip:"Filter"}},...b}))}Io.icons=Object.freeze(ls);function No(e,t){if(t<=0)return[e];const n=[];for(let s=0;s<e.length;s+=t)n.push(e.slice(s,s+t));return n}const Zo=e=>{const{children:t,value:n,index:s,...o}=e;return React.createElement(Box,{role:"tabpanel",hidden:n!==s,"aria-labelledby":`scrollable-auto-tab-${s}`,...o},n===s&&React.createElement(Box,{p:3},t))},dc=(0,S.Z)(e=>({root:{color:"#6E6E6E",overflow:"visible",fontSize:e.typography.h5.fontSize,textAlign:"center",borderRadius:"50%",backgroundColor:"#E6E6E6",marginLeft:t=>t.isNext?"auto":"0",marginRight:t=>t.isNext?"0":e.spacing(1.25),"&:hover":{backgroundColor:"#E6E6E6",opacity:"1"}}}),{name:"BackstageTabIcon"}),Ao=e=>{const t=dc(e),{ariaLabel:n,onClick:s}=e;return React.createElement(IconButton,{onClick:s,className:t.root,size:"small",disableRipple:!0,disableFocusRipple:!0,"aria-label":n},e.children)},uc=(e,t)=>t?e?"20px":"0":"40px",pc=(0,S.Z)(e=>({root:{textTransform:"none",height:"64px",fontWeight:e.typography.fontWeightBold,fontSize:e.typography.pxToRem(13),color:e.palette.textSubtle,marginLeft:t=>uc(t.isFirstNav,t.isFirstIndex),width:"130px",minWidth:"130px","&:hover":{outline:"none",backgroundColor:"transparent",color:e.palette.textSubtle}}}),{name:"BackstageTab"}),mc=e=>{const t=pc(e),{isFirstNav:n,isFirstIndex:s,...o}=e;return React.createElement(Tab,{classes:t,disableRipple:!0,...o})},Pd=(0,S.Z)(e=>({indicator:{display:"flex",justifyContent:"center",backgroundColor:e.palette.tabbar.indicator,height:e.spacing(.5)},flexContainer:{alignItems:"center"},root:{"&:last-child":{marginLeft:"auto"}}}),{name:"BackstageTabBar"}),gc=e=>{const t=Pd(e);return React.createElement(Tabs$1,{classes:t,...e,TabIndicatorProps:{children:React.createElement(Typography,{component:"span"})}})},Od=(0,S.Z)(e=>({root:{flexGrow:1,width:"100%"},styledTabs:{backgroundColor:e.palette.background.paper},appbar:{boxShadow:"none",backgroundColor:e.palette.background.paper,paddingLeft:e.spacing(1.25),paddingRight:e.spacing(1.25)}}),{name:"BackstageTabs"});function Ld(e){const{tabs:t}=e,n=Od(),[s,o]=useState([0,0]),[c,d]=useState(0),[u,m]=useState(0),[g,y]=useState([[]]),b=useRef(),{width:x}=useWindowSize(),k=(G,U)=>{o([c,U])},I=()=>{d(c-1)},B=()=>{d(c+1)},M=()=>c+1<g.length;useEffect(()=>{const U=c===0?1:2,K=b.current.offsetWidth-20-U*30,ae=s[0]*u+s[1],te=Math.floor(K/170);m(te),y(No(t,te)),o([Math.floor(ae/te),ae%te])},[x,t]);const D=c===s[0]?s[1]:!1;return React.createElement(Box,{className:n.root},React.createElement(AppBar,{ref:b,className:n.appbar,position:"static"},React.createElement(Box,null,React.createElement(gc,{value:D,onChange:k,selectionFollowsFocus:!0},c!==0&&React.createElement(Ao,{onClick:I,ariaLabel:"navigate-before"},React.createElement(NavigateBeforeIcon,null)),g[c].map((G,U)=>React.createElement(mc,{value:U,isFirstIndex:U===0,isFirstNav:c===0,key:U,icon:G.icon||void 0,label:G.label||void 0})),M()&&React.createElement(Ao,{isNext:!0,onClick:B,ariaLabel:"navigate-next"},React.createElement(NavigateNextIcon,null))))),D!==!1?g[c].map((G,U)=>React.createElement(Zo,{key:U,value:U,index:D},G.content)):React.createElement(Zo,{key:"panel_outside_chunked_array",value:s[1],index:s[1]},g[s[0]][s[1]].content))}function fc(e,t){const n=e[e.length-1];if(n)return n>=.9?t.palette.status.ok:n>=.5?t.palette.status.warning:t.palette.status.error}function $d(e){var t;const n=useTheme();return e.data?React.createElement(Sparklines,{width:120,height:30,min:0,max:1,...e},e.title&&React.createElement("title",null,e.title),React.createElement(SparklinesLine,{color:(t=e.color)!=null?t:fc(e.data,n)})):null}const hc=e=>makeStyles(t=>({container:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-end",alignItems:"center",marginBottom:t.spacing(2),textAlign:e.textAlign},leftItemsBox:{flex:"1 1 auto",minWidth:0,overflow:"visible"},rightItemsBox:{flex:"0 1 auto",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",marginLeft:t.spacing(1),minWidth:0,overflow:"visible"},description:{},title:{display:"inline-flex",marginBottom:0}}),{name:"BackstageContentHeader"}),yc=({title:e="Unknown page",className:t})=>React.createElement(Typography,{variant:"h4",component:"h2",className:t,"data-testid":"header-title"},e);function vc(e){const{description:t,title:n,titleComponent:s=void 0,children:o,textAlign:c="left"}=e,d=hc({textAlign:c})(),u=s||React.createElement(yc,{title:n,className:d.title});return React.createElement(React.Fragment,null,React.createElement(Helmet,{title:n}),React.createElement(Box,{className:d.container},React.createElement(Box,{className:d.leftItemsBox},u,t&&React.createElement(Typography,{className:d.description,variant:"body2"},t)),React.createElement(Box,{className:d.rightItemsBox},o)))}const Dd=(0,S.Z)(e=>({micDrop:{maxWidth:"60%",bottom:e.spacing(2),right:e.spacing(2),[e.breakpoints.down("xs")]:{maxWidth:"96%",bottom:"unset",right:"unset",margin:`${e.spacing(10)}px auto ${e.spacing(4)}px`}}}),{name:"BackstageErrorPageMicDrop"}),Ec=()=>{const e=Dd();return React.createElement("img",{src:MicDropSvgUrl,className:e.micDrop,alt:"Girl dropping mic from her hands"})},cs=(0,S.Z)(e=>({container:{padding:e.spacing(8),[e.breakpoints.down("xs")]:{padding:e.spacing(2)}},title:{paddingBottom:e.spacing(5),[e.breakpoints.down("xs")]:{paddingBottom:e.spacing(4),fontSize:e.typography.h3.fontSize}},subtitle:{color:e.palette.textSubtle}}),{name:"BackstageErrorPage"});function Md(e){const{status:t,statusMessage:n,additionalInfo:s,supportUrl:o}=e,c=cs(),d=useNavigate(),u=Nl();return React.createElement(Grid,{container:!0,spacing:0,className:c.container},React.createElement(Grid,{item:!0,xs:12,sm:8,md:4},React.createElement(Typography,{"data-testid":"error",variant:"body1",className:c.subtitle},"ERROR ",t,": ",n),React.createElement(Typography,{variant:"body1",className:c.subtitle},s),React.createElement(Typography,{variant:"h2",className:c.title},"Looks like someone dropped the mic!"),React.createElement(Typography,{variant:"h6"},React.createElement(Kt,{to:"#","data-testid":"go-back-link",onClick:()=>d(-1)},"Go back"),"... or please"," ",React.createElement(Kt,{to:o||u.url},"contact support")," if you think this is a bug.")),React.createElement(Ec,null))}const bc=(0,oe.Z)({root:{textDecoration:"underline",cursor:"pointer"}},{name:"BackstageBreadcrumbsClickableText"})(L.Z),ds=(0,oe.Z)({root:{textDecoration:"underline",color:"inherit"}},{name:"BackstageBreadcrumbsStyledBox"})(P.Z);function xc(e){const{children:t,...n}=e,[s,o]=l.useState(null),c=l.Children.toArray(t),[d,u,...m]=c,g=m.length?m.pop():c[c.length-1],y=c.length>3,b=I=>{o(I.currentTarget)},x=()=>{o(null)},k=Boolean(s);return l.createElement(l.Fragment,null,l.createElement(on.Z,{"aria-label":"breadcrumb",...n},c.length>1&&l.createElement(ds,{clone:!0},d),c.length>2&&l.createElement(ds,{clone:!0},u),y&&l.createElement(bc,{onClick:b},"..."),l.createElement(P.Z,{style:{fontStyle:"italic"}},g)),l.createElement(aa.ZP,{open:k,anchorEl:s,onClose:x,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},l.createElement(Ut.Z,null,m.map((I,B)=>l.createElement(Lt.Z,{key:B,button:!0},l.createElement(ds,{clone:!0},I))))))}const Sc=(0,S.Z)(e=>({header:{gridArea:"pageHeader",padding:e.spacing(3),width:"100%",boxShadow:e.shadows[4],position:"relative",zIndex:100,display:"flex",flexDirection:"row",alignItems:"center",backgroundImage:e.page.backgroundImage,backgroundPosition:"center",backgroundSize:"cover",[e.breakpoints.down("sm")]:{flexWrap:"wrap"}},leftItemsBox:{maxWidth:"100%",flexGrow:1},rightItemsBox:{width:"auto",alignItems:"center"},title:{color:e.page.fontColor,wordBreak:"break-word",fontSize:e.typography.h3.fontSize,marginBottom:0},subtitle:{color:e.page.fontColor,opacity:.8,display:"inline-block",marginTop:e.spacing(1),maxWidth:"75ch"},type:{textTransform:"uppercase",fontSize:11,opacity:.8,marginBottom:e.spacing(1),color:e.page.fontColor},breadcrumb:{color:e.page.fontColor},breadcrumbType:{fontSize:"inherit",opacity:.7,marginRight:-e.spacing(.3),marginBottom:e.spacing(.3)},breadcrumbTitle:{fontSize:"inherit",marginLeft:-e.spacing(.3),marginBottom:e.spacing(.3)}}),{name:"BackstageHeader"}),us=({type:e,typeLink:t,classes:n,pageTitle:s})=>e?t?l.createElement(xc,{className:n.breadcrumb},l.createElement(Kt,{to:t},e),l.createElement(L.Z,null,s)):l.createElement(L.Z,{className:n.type},e):null,Rc=({pageTitle:e,classes:t,tooltip:n})=>{const s=l.createElement(L.Z,{className:t.title,variant:"h1"},e);return n?l.createElement(ht.ZP,{title:n,placement:"top-start"},s):s},Wd=({classes:e,subtitle:t})=>t?typeof t!="string"?l.createElement(l.Fragment,null,t):l.createElement(L.Z,{className:e.subtitle,variant:"subtitle2",component:"span"},t):null;function lr(e){const{children:t,pageTitleOverride:n,style:s,subtitle:o,title:c,tooltip:d,type:u,typeLink:m}=e,g=Sc(),b=(0,j.u)(j.p).getOptionalString("app.title")||"Backstage",x=n||c,k=c||n,I=`${x} | %s | ${b}`,B=`${x} | ${b}`;return l.createElement(l.Fragment,null,l.createElement(Er.q,{titleTemplate:I,defaultTitle:B}),l.createElement("header",{style:s,className:g.header},l.createElement(P.Z,{className:g.leftItemsBox},l.createElement(us,{classes:g,type:u,typeLink:m,pageTitle:k}),l.createElement(Rc,{classes:g,pageTitle:k,tooltip:d}),l.createElement(Wd,{classes:g,subtitle:o})),l.createElement(ce.Z,{container:!0,className:g.rightItemsBox,spacing:4},t)))}const Cc=({label:e,secondaryLabel:t,icon:n,disabled:s=!1,onClick:o})=>React.createElement(Fragment,null,React.createElement(ListItem,{"data-testid":"header-action-item",disabled:s,button:!0,onClick:c=>{o&&o(c)}},n&&React.createElement(ListItemIcon,null,n),React.createElement(ListItemText,{primary:e,secondary:t})));function ou(e){const{palette:{common:{white:t}}}=useTheme(),{actionItems:n}=e,[s,o]=React.useState(!1),c=React.useRef(null);return React.createElement(Fragment,null,React.createElement(IconButton,{onClick:()=>o(!0),"data-testid":"header-action-menu",ref:c,style:{color:t,height:56,width:56,marginRight:-4,padding:0}},React.createElement(MoreVert,null)),React.createElement(Popover,{open:s,anchorEl:c.current,anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},onClose:()=>o(!1)},React.createElement(List,null,n.map((d,u)=>React.createElement(Cc,{key:`header-action-menu-${u}`,...d})))))}const kc=(0,S.Z)(e=>({root:{textAlign:"left"},label:{color:e.palette.common.white,fontWeight:e.typography.fontWeightBold,letterSpacing:0,fontSize:e.typography.fontSize,marginBottom:e.spacing(1)/2,lineHeight:1},value:{color:"rgba(255, 255, 255, 0.8)",fontSize:e.typography.fontSize,lineHeight:1}}),{name:"BackstageHeaderLabel"}),wc=({value:e,className:t})=>React.createElement(Typography,{className:t},e);function zd(e){const{label:t,value:n,url:s}=e,o=kc(),c=React.createElement(wc,{className:o.value,value:n||"<Unknown>"});return React.createElement(Grid,{item:!0},React.createElement(Typography,{component:"span",className:o.root},React.createElement(Typography,{className:o.label},t),s?React.createElement(Kt,{to:s},c):c))}const Hd=e=>(0,be.Z)({root:{color:e.palette.common.white,padding:e.spacing(2,2,3),backgroundImage:e.getPageTheme({themeId:"card"}).backgroundImage,backgroundPosition:0,backgroundSize:"inherit"}}),Tc=(0,S.Z)(Hd,{name:"BackstageItemCardHeader"});function Ic(e){const{title:t,subtitle:n,children:s}=e,o=Tc(e);return React.createElement(Box,{className:o.root},n&&React.createElement(Typography,{variant:"subtitle2",component:"h3"},n),t&&React.createElement(Typography,{variant:"h6",component:"h4"},t),s)}function iu(e){const{description:t,tags:n,title:s,type:o,subtitle:c,label:d,onClick:u,href:m}=e;return React.createElement(Card,null,React.createElement(CardMedia,null,React.createElement(Ic,{title:s,subtitle:c||o})),React.createElement(CardContent,null,n!=null&&n.length?React.createElement(Box,null,n.map((g,y)=>React.createElement(Chip,{size:"small",label:g,key:y}))):null,t),React.createElement(CardActions,null,!m&&React.createElement(fa,{to:"#",onClick:u,color:"primary"},d),m&&React.createElement(fa,{to:m,color:"primary"},d)))}const Nc=e=>(0,be.Z)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(22em, 1fr))",gridAutoRows:"1fr",gridGap:e.spacing(2)}}),ps=(0,S.Z)(Nc,{name:"BackstageItemCardGrid"});function Fd(e){const{children:t,...n}=e,s=ps(n);return l.createElement(P.Z,{className:s.root,...n},t)}const Zc=(0,S.Z)(e=>({root:{display:"grid",gridTemplateAreas:"'pageHeader pageHeader pageHeader' 'pageSubheader pageSubheader pageSubheader' 'pageNav pageContent pageSidebar'",gridTemplateRows:"max-content auto 1fr",gridTemplateColumns:"auto 1fr auto",overflowY:"auto",height:"100vh",[e.breakpoints.down("xs")]:{height:"100%"}}}),{name:"BackstagePage"});function xa(e){const{themeId:t,children:n}=e,s=Zc();return l.createElement(nt.Z,{theme:o=>({...o,page:o.getPageTheme({themeId:t})})},l.createElement("main",{className:s.root},n))}function jd(e){const{themeId:t,children:n,...s}=e;return React.createElement(xa,{themeId:t},React.createElement(lr,{...s}),n)}const Ac=Bt.object({providerInfo:Bt.object({}).catchall(Bt.unknown()).optional(),profile:Bt.object({email:Bt.string().optional(),displayName:Bt.string().optional(),picture:Bt.string().optional()}),backstageIdentity:Bt.object({token:Bt.string(),identity:Bt.object({type:Bt.literal("user"),userEntityRef:Bt.string(),ownershipEntityRefs:Bt.array(Bt.string())})})}),Bc={defaultTokenExpiryMillis:5*60*1e3,tokenExpiryMarginMillis:5*60*1e3};function ms(e){const t=new Date(Date.now()+Bc.defaultTokenExpiryMillis);if(!e)return t;const[n,s,o]=e.split("."),c=JSON.parse(window.atob(s));return typeof c.exp!="number"?t:new Date(c.exp*1e3-Bc.tokenExpiryMarginMillis)}class Pc{constructor(t){this.options=t,this.abortController=new AbortController,this.state={type:"empty"}}async start(){await this.getSessionAsync()}getUserId(){const{backstageIdentity:t}=this.getSessionSync(),n=t.identity.userEntityRef,s=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(n);if(!s)throw new TypeError(`Invalid user entity reference "${n}"`);return s[3]}async getIdToken(){return(await this.getSessionAsync()).backstageIdentity.token}getProfile(){return this.getSessionSync().profile}async getProfileInfo(){return(await this.getSessionAsync()).profile}async getBackstageIdentity(){return(await this.getSessionAsync()).backstageIdentity.identity}async getCredentials(){return{token:(await this.getSessionAsync()).backstageIdentity.token}}async signOut(){this.abortController.abort()}getSessionSync(){if(this.state.type==="active")return this.state.session;if(this.state.type==="fetching"&&this.state.previous)return this.state.previous;throw new Error("No session available. Try reloading your browser page.")}async getSessionAsync(){if(this.state.type==="fetching")return this.state.promise;if(this.state.type==="active"&&new Date<this.state.expiresAt)return this.state.session;const t=this.state.type==="active"?this.state.session:void 0,n=this.fetchSession().then(s=>(this.state={type:"active",session:s,expiresAt:ms(s.backstageIdentity.token)},s),s=>{throw this.state={type:"failed",error:s},s});return this.state={type:"fetching",promise:n,previous:t},n}async fetchSession(){const t=await this.options.discoveryApi.getBaseUrl("auth"),n=typeof this.options.headers=="function"?await this.options.headers():this.options.headers,s=new Headers(n);s.set("X-Requested-With","XMLHttpRequest");const o=await fetch(`${t}/${this.options.provider}/refresh`,{signal:this.abortController.signal,headers:s,credentials:"include"});if(!o.ok)throw await ResponseError.fromResponse(o);return Ac.parse(await o.json())}}const Bo=e=>{const t=useApi(discoveryApiRef),[{status:n,error:s},{execute:o}]=useAsync(async()=>{const c=new Pc({provider:e.provider,discoveryApi:t,headers:e.headers});await c.start(),e.onSignInSuccess(c)});return useMountEffect(o),n==="loading"?React.createElement(Xa,null):s?React.createElement(Qa,{title:"You do not appear to be signed in. Please try reloading the browser page.",error:s}):null};class wn{getUserId(){return"guest"}async getIdToken(){}getProfile(){return{email:"guest@example.com",displayName:"Guest"}}async getProfileInfo(){return{email:"guest@example.com",displayName:"Guest"}}async getBackstageIdentity(){const t="user:default/guest";return{type:"user",userEntityRef:t,ownershipEntityRefs:[t]}}async getCredentials(){return{}}async signOut(){}}function gs(e){const[t,n,s]=e.split(".");return JSON.parse(window.atob(n))}class Qn{constructor(t){this.result=t}getUserId(){return this.result.userId}static fromResult(t){return new Qn(t)}async getIdToken(){var t,n;return(n=(t=this.result).getIdToken)==null?void 0:n.call(t)}getProfile(){return this.result.profile}async getProfileInfo(){return this.result.profile}async getBackstageIdentity(){const t=await this.getIdToken();if(!t){const o=`user:default/${this.getUserId()}`;return{type:"user",userEntityRef:o,ownershipEntityRefs:[o]}}const{sub:n,ent:s}=gs(t);return{type:"user",userEntityRef:n,ownershipEntityRefs:s!=null?s:[]}}async getCredentials(){var t,n;return{token:await((n=(t=this.result).getIdToken)==null?void 0:n.call(t))}}async signOut(){var t,n;return(n=(t=this.result).signOut)==null?void 0:n.call(t)}}class Sa{constructor(t,n,s){this.identity=t,this.authApi=n,this.profile=s}static createGuest(){return new wn}static fromLegacy(t){return Qn.fromResult(t)}static create(t){return new Sa(t.identity,t.authApi,t.profile)}getUserId(){const t=this.identity.userEntityRef,n=/^([^:/]+:)?([^:/]+\/)?([^:/]+)$/.exec(t);if(!n)throw new TypeError(`Invalid user entity reference "${t}"`);return n[3]}async getIdToken(){return(await this.authApi.getBackstageIdentity()).token}getProfile(){if(!this.profile)throw new Error("The identity API does not implement synchronous profile fetching, use getProfileInfo() instead");return this.profile}async getProfileInfo(){if(this.profilePromise)return await this.profilePromise;try{return this.profilePromise=this.authApi.getProfile(),await this.profilePromise}catch(t){throw this.profilePromise=void 0,t}}async getBackstageIdentity(){return this.identity}async getCredentials(){return{token:(await this.authApi.getBackstageIdentity()).token}}async signOut(){return this.authApi.signOut()}}const Po=(0,S.Z)({container:{padding:0,listStyle:"none"},item:{display:"flex",flexDirection:"column",width:"100%",maxWidth:"400px",margin:0,padding:0}},{name:"BackstageSignInPage"}),cr=({children:e})=>{const t=Po();return l.createElement(ce.Z,{component:"li",item:!0,classes:t},e)},Oc={Component:({config:e,onSignInSuccess:t})=>{const{apiRef:n,title:s,message:o}=e,c=(0,j.u)(n),d=(0,j.u)(j.r),u=async()=>{try{const m=await c.getBackstageIdentity({instantPopup:!0});if(!m)throw new Error(`The ${s} provider is not configured to support sign-in`);const g=await c.getProfile();t(Sa.create({identity:m.identity,profile:g,authApi:c}))}catch(m){d.post(new wa.SP("Login failed",m))}};return l.createElement(cr,null,l.createElement(Hn,{variant:"fullHeight",title:s,actions:l.createElement(We.Z,{color:"primary",variant:"outlined",onClick:u},"Sign In")},l.createElement(L.Z,{variant:"body1"},o)))},loader:async(e,t)=>{const n=e.get(t),s=await n.getBackstageIdentity({optional:!0});if(!s)return;const o=await n.getProfile();return Sa.create({identity:s.identity,profile:o,authApi:n})}},Oo={Component:({onSignInSuccess:e})=>l.createElement(cr,null,l.createElement(Hn,{title:"Guest",variant:"fullHeight",actions:l.createElement(We.Z,{color:"primary",variant:"outlined",onClick:()=>e(new wn)},"Enter")},l.createElement(L.Z,{variant:"body1"},"Enter as a Guest User.",l.createElement("br",null),"You will not have a verified identity,",l.createElement("br",null),"meaning some features might be unavailable."))),loader:async()=>new wn},Gd=/^[a-z0-9_\-]+\.[a-z0-9_\-]+\.[a-z0-9_\-]+$/i,Kd=(0,S.Z)(e=>({form:{display:"flex",flexFlow:"column nowrap"},button:{alignSelf:"center",marginTop:e.spacing(2)}}),{name:"BackstageCustomProvider"}),Lo=e=>{const{ref:t,...n}=e;return{inputRef:t,...n}},Do={Component:({onSignInSuccess:e})=>{const t=Kd(),{register:n,handleSubmit:s,formState:o}=(0,li.cI)({mode:"onChange"}),{errors:c}=o,d=({userId:u,idToken:m})=>{e(Sa.fromLegacy({userId:u,getIdToken:m!==void 0?async()=>m:void 0,profile:{email:`${u}@example.com`}}))};return l.createElement(cr,null,l.createElement(Hn,{title:"Custom User",variant:"fullHeight"},l.createElement(L.Z,{variant:"body1"},"Enter your own User ID and credentials.",l.createElement("br",null),"This selection will not be stored."),l.createElement("form",{className:t.form,onSubmit:s(d)},l.createElement(Vn.Z,null,l.createElement(Tr.Z,{...Lo(n("userId",{required:!0})),label:"User ID",margin:"normal",error:Boolean(c.userId)}),c.userId&&l.createElement(ci.Z,{error:!0},c.userId.message)),l.createElement(Vn.Z,null,l.createElement(Tr.Z,{...Lo(n("idToken",{required:!1,validate:u=>!u||Gd.test(u)||"Token is not a valid OpenID Connect JWT Token"})),label:"ID Token (optional)",margin:"normal",autoComplete:"off",error:Boolean(c.idToken)}),c.idToken&&l.createElement(ci.Z,{error:!0},c.idToken.message)),l.createElement(We.Z,{type:"submit",color:"primary",variant:"outlined",className:t.button,disabled:!(o!=null&&o.isDirty)||!ui()(c)},"Continue"))))},loader:async()=>{}};class dr{constructor(t){this.config=t}static from(t){return new dr(t)}getUserId(){if(!this.config.identityApi.getUserId)throw new Error("SignOutProxy IdentityApi.getUserId is not implemented");return this.config.identityApi.getUserId()}getIdToken(){if(!this.config.identityApi.getIdToken)throw new Error("SignOutProxy IdentityApi.getIdToken is not implemented");return this.config.identityApi.getIdToken()}getProfile(){if(!this.config.identityApi.getProfile)throw new Error("SignOutProxy IdentityApi.getProfile is not implemented");return this.config.identityApi.getProfile()}getProfileInfo(){return this.config.identityApi.getProfileInfo()}getBackstageIdentity(){return this.config.identityApi.getBackstageIdentity()}getCredentials(){return this.config.identityApi.getCredentials()}signOut(){return this.config.signOut()}}const ur="@backstage/core:SignInPage:provider",Mo={guest:Oo,custom:Do,common:Oc};function Wo(e,t){if(e in t)throw new Error(`"${e}" ID is duplicated. IDs of identity providers have to be unique.`)}function Lc(e){return e.reduce((n,s)=>{if(typeof s=="string")return Wo(s,n),n[s]={components:Mo[s],id:s},n;const{id:o}=s;return Wo(o,n),n[o]={components:Mo.common,id:o,config:s},n},{})}const Jd=(e,t)=>{const n=useApi(errorApiRef),s=useApiHolder(),[o,c]=useState(!0),d=useCallback(m=>{t(dr.from({identityApi:m,signOut:async()=>{var g;localStorage.removeItem(ur),await((g=m.signOut)==null?void 0:g.call(m))}}))},[t]);useLayoutEffect(()=>{var m;if(!o)return;const g=localStorage.getItem(ur);if(g===null){c(!1);return}const y=e[g];if(!y){c(!1);return}let b=!1;return y.components.loader(s,(m=y.config)==null?void 0:m.apiRef).then(x=>{b||(x?d(x):c(!1))}).catch(x=>{b||(localStorage.removeItem(ur),n.post(x),c(!1))}),()=>{b=!0}},[o,n,t,s,e,d]);const u=useMemo(()=>Object.keys(e).map(m=>{const g=e[m],{Component:y}=g.components,b=x=>{localStorage.setItem(ur,g.id),d(x)};return React.createElement(y,{key:g.id,config:g.config,onSignInSuccess:b})}),[e,d]);return[o,u]},$c=({onSignInSuccess:e,providers:t=[],title:n,align:s="left"})=>{const o=useApi(configApiRef),c=Po(),d=Lc(t),[u,m]=Jd(d,e);return u?React.createElement(Xa,null):React.createElement(xa,{themeId:"home"},React.createElement(lr,{title:o.getString("app.title")}),React.createElement(ss,null,n&&React.createElement(vc,{title:n,textAlign:s}),React.createElement(Grid,{container:!0,justifyContent:s==="center"?s:"flex-start",spacing:2,component:"ul",classes:c},m)))},Dc=({provider:e,auto:t,onSignInSuccess:n})=>{const s=Po(),o=useApi(e.apiRef),c=useApi(configApiRef),[d,u]=useState(),[m,g]=useState(!1),y=async({checkExisting:b,showPopup:x})=>{try{let k;if(b&&(k=await o.getBackstageIdentity({optional:!0})),!k&&(x||t)&&(g(!0),k=await o.getBackstageIdentity({instantPopup:!0}),!k))throw new Error(`The ${e.title} provider is not configured to support sign-in`);if(!k){g(!0);return}const I=await o.getProfile();n(Sa.create({identity:k.identity,authApi:o,profile:I}))}catch(k){u(k),g(!0)}};return useMountEffect(()=>y({checkExisting:!0})),m?React.createElement(xa,{themeId:"home"},React.createElement(lr,{title:c.getString("app.title")}),React.createElement(ss,null,React.createElement(Grid,{container:!0,justifyContent:"center",spacing:2,component:"ul",classes:s},React.createElement(cr,null,React.createElement(Hn,{variant:"fullHeight",title:e.title,actions:React.createElement(Button$1,{color:"primary",variant:"outlined",onClick:()=>{y({showPopup:!0})}},"Sign In")},React.createElement(Typography,{variant:"body1"},e.message),d&&d.name!=="PopupRejectedError"&&React.createElement(Typography,{variant:"body1",color:"error"},d.message)))))):React.createElement(Xa,null)};function du(e){return"provider"in e?React.createElement(Dc,{...e}):React.createElement($c,{...e})}const Mc=(0,S.Z)(e=>({root:{padding:e.spacing(0,2,0,2.5),minHeight:e.spacing(3)},indicator:{backgroundColor:e.palette.info.main,height:e.spacing(.3)}}),{name:"BackstageTabbedCard"}),Yd=(0,oe.Z)(e=>({root:{padding:e.spacing(2,2,2,2.5),display:"inline-block"},title:{fontWeight:700},subheader:{paddingTop:e.spacing(1)}}),{name:"BackstageTabbedCardBoldHeader"})(Za.Z);function a(e){const{slackChannel:t,errorBoundaryProps:n,children:s,title:o,deepLink:c,value:d,onChange:u}=e,m=Mc(),[g,y]=useState(0),b=u||((I,B)=>y(B));let x;d?React.Children.map(s,I=>{var B;React.isValidElement(I)&&(I==null?void 0:I.props.value)===d&&(x=(B=I==null?void 0:I.props)==null?void 0:B.children)}):React.Children.map(s,(I,B)=>{React.isValidElement(I)&&B===g&&(x=I==null?void 0:I.props.children)});const k=n||(t?{slackChannel:t}:{});return React.createElement(Card,null,React.createElement(jr,{...k},o&&React.createElement(Yd,{title:o}),React.createElement(Tabs$1,{selectionFollowsFocus:!0,classes:m,value:d||g,onChange:b},s),React.createElement(Divider,null),React.createElement(CardContent,null,x),c&&React.createElement(js,{...c})))}const r=(0,S.Z)(e=>({root:{minWidth:e.spacing(6),minHeight:e.spacing(3),margin:e.spacing(0,2,0,0),padding:e.spacing(.5,0,.5,0),textTransform:"none","&:hover":{opacity:1,backgroundColor:"transparent",color:e.palette.text.primary}},selected:{fontWeight:e.typography.fontWeightBold}}),{name:"BackstageCardTab"});function i(e){const{children:t,...n}=e,s=r();return React.createElement(Tab,{disableRipple:!0,classes:s,...n})}},49828:(Tn,ft,p)=>{p.d(ft,{Z:()=>De});var j=p(59740),de=p(7896),Ee=p(2784),L=p(6277),h=p(41128),l=p(15459),S=p(27556),we=p(18542);const Qe=(0,we.Z)(Ee.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),oe=(0,we.Z)(Ee.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),be=(0,we.Z)(Ee.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),ot=(0,we.Z)(Ee.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),nt=(0,we.Z)(Ee.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var We=p(61837),Ke=p(97580),Te=function(P){var Fe=P.palette.type==="light"?h._j:h.$n,Me=P.palette.type==="light"?h.$n:h._j;return{root:(0,de.Z)({},P.typography.body2,{borderRadius:P.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:Fe(P.palette.success.main,.6),backgroundColor:Me(P.palette.success.main,.9),"& $icon":{color:P.palette.success.main}},standardInfo:{color:Fe(P.palette.info.main,.6),backgroundColor:Me(P.palette.info.main,.9),"& $icon":{color:P.palette.info.main}},standardWarning:{color:Fe(P.palette.warning.main,.6),backgroundColor:Me(P.palette.warning.main,.9),"& $icon":{color:P.palette.warning.main}},standardError:{color:Fe(P.palette.error.main,.6),backgroundColor:Me(P.palette.error.main,.9),"& $icon":{color:P.palette.error.main}},outlinedSuccess:{color:Fe(P.palette.success.main,.6),border:"1px solid ".concat(P.palette.success.main),"& $icon":{color:P.palette.success.main}},outlinedInfo:{color:Fe(P.palette.info.main,.6),border:"1px solid ".concat(P.palette.info.main),"& $icon":{color:P.palette.info.main}},outlinedWarning:{color:Fe(P.palette.warning.main,.6),border:"1px solid ".concat(P.palette.warning.main),"& $icon":{color:P.palette.warning.main}},outlinedError:{color:Fe(P.palette.error.main,.6),border:"1px solid ".concat(P.palette.error.main),"& $icon":{color:P.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:P.typography.fontWeightMedium,backgroundColor:P.palette.success.main},filledInfo:{color:"#fff",fontWeight:P.typography.fontWeightMedium,backgroundColor:P.palette.info.main},filledWarning:{color:"#fff",fontWeight:P.typography.fontWeightMedium,backgroundColor:P.palette.warning.main},filledError:{color:"#fff",fontWeight:P.typography.fontWeightMedium,backgroundColor:P.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0",display:"flex",flexDirection:"column",justifyContent:"center"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}},Ie={success:Ee.createElement(Qe,{fontSize:"inherit"}),warning:Ee.createElement(oe,{fontSize:"inherit"}),error:Ee.createElement(be,{fontSize:"inherit"}),info:Ee.createElement(ot,{fontSize:"inherit"})},Xe=Ee.createElement(nt,{fontSize:"small"}),dt=Ee.forwardRef(function(P,Fe){var Me=P.action,vt=P.children,ht=P.classes,Ct=P.className,tn=P.closeText,In=tn===void 0?"Close":tn,ut=P.color,Xn=P.icon,X=P.iconMapping,O=X===void 0?Ie:X,W=P.onClose,ce=P.role,kt=ce===void 0?"alert":ce,St=P.severity,nn=St===void 0?"success":St,at=P.variant,Ut=at===void 0?"standard":at,Lt=(0,j.Z)(P,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return Ee.createElement(S.Z,(0,de.Z)({role:kt,square:!0,elevation:0,className:(0,L.default)(ht.root,ht["".concat(Ut).concat((0,Ke.Z)(ut||nn))],Ct),ref:Fe},Lt),Xn!==!1?Ee.createElement("div",{className:ht.icon},Xn||O[nn]||Ie[nn]):null,Ee.createElement("div",{className:ht.message},vt),Me!=null?Ee.createElement("div",{className:ht.action},Me):null,Me==null&&W?Ee.createElement("div",{className:ht.action},Ee.createElement(We.Z,{size:"small","aria-label":In,title:In,color:"inherit",onClick:W},Xe)):null)});const De=(0,l.Z)(Te,{name:"MuiAlert"})(dt)},18542:(Tn,ft,p)=>{p.d(ft,{Z:()=>L});var j=p(7896),de=p(2784),Ee=p(72379);function L(h,l){var S=de.memo(de.forwardRef(function(we,Qe){return de.createElement(Ee.Z,(0,j.Z)({ref:Qe},we),h)}));return S.muiName=Ee.Z.muiName,S}}}]);})();

//# sourceMappingURL=module-k-phoen.6b401329.js.map